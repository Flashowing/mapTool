(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Cesium~3f32f5c7"],{"0260":function(t,e,n){"use strict";var a=n("be18"),i=n("535a"),o=n("2f63"),r=n("5e57"),s=n("93da"),c=n("df07");function u(t,e,n,a){this.x=Object(i["a"])(t,0),this.y=Object(i["a"])(e,0),this.z=Object(i["a"])(n,0),this.w=Object(i["a"])(a,0)}let l=new a["a"];u.fromAxisAngle=function(t,e,n){const i=e/2,r=Math.sin(i);l=a["a"].normalize(t,l);const s=l.x*r,c=l.y*r,h=l.z*r,d=Math.cos(i);return Object(o["a"])(n)?(n.x=s,n.y=c,n.z=h,n.w=d,n):new u(s,c,h,d)};const h=[1,2,0],d=new Array(3);u.fromRotationMatrix=function(t,e){let n,a,i,r,s;const l=t[c["a"].COLUMN0ROW0],g=t[c["a"].COLUMN1ROW1],f=t[c["a"].COLUMN2ROW2],p=l+g+f;if(p>0)n=Math.sqrt(p+1),s=.5*n,n=.5/n,a=(t[c["a"].COLUMN1ROW2]-t[c["a"].COLUMN2ROW1])*n,i=(t[c["a"].COLUMN2ROW0]-t[c["a"].COLUMN0ROW2])*n,r=(t[c["a"].COLUMN0ROW1]-t[c["a"].COLUMN1ROW0])*n;else{const e=h;let o=0;g>l&&(o=1),f>l&&f>g&&(o=2);const u=e[o],p=e[u];n=Math.sqrt(t[c["a"].getElementIndex(o,o)]-t[c["a"].getElementIndex(u,u)]-t[c["a"].getElementIndex(p,p)]+1);const m=d;m[o]=.5*n,n=.5/n,s=(t[c["a"].getElementIndex(p,u)]-t[c["a"].getElementIndex(u,p)])*n,m[u]=(t[c["a"].getElementIndex(u,o)]+t[c["a"].getElementIndex(o,u)])*n,m[p]=(t[c["a"].getElementIndex(p,o)]+t[c["a"].getElementIndex(o,p)])*n,a=-m[0],i=-m[1],r=-m[2]}return Object(o["a"])(e)?(e.x=a,e.y=i,e.z=r,e.w=s,e):new u(a,i,r,s)};const g=new u;let f=new u,p=new u,m=new u;u.fromHeadingPitchRoll=function(t,e){return m=u.fromAxisAngle(a["a"].UNIT_X,t.roll,g),p=u.fromAxisAngle(a["a"].UNIT_Y,-t.pitch,e),e=u.multiply(p,m,p),f=u.fromAxisAngle(a["a"].UNIT_Z,-t.heading,g),u.multiply(f,e,e)};const _=new a["a"],w=new a["a"],b=new u,y=new u,O=new u;u.packedLength=4,u.pack=function(t,e,n){return n=Object(i["a"])(n,0),e[n++]=t.x,e[n++]=t.y,e[n++]=t.z,e[n]=t.w,e},u.unpack=function(t,e,n){return e=Object(i["a"])(e,0),Object(o["a"])(n)||(n=new u),n.x=t[e],n.y=t[e+1],n.z=t[e+2],n.w=t[e+3],n},u.packedInterpolationLength=3,u.convertPackedArrayForInterpolation=function(t,e,n,a){u.unpack(t,4*n,O),u.conjugate(O,O);for(let i=0,r=n-e+1;i<r;i++){const n=3*i;u.unpack(t,4*(e+i),b),u.multiply(b,O,b),b.w<0&&u.negate(b,b),u.computeAxis(b,_);const r=u.computeAngle(b);Object(o["a"])(a)||(a=[]),a[n]=_.x*r,a[n+1]=_.y*r,a[n+2]=_.z*r}},u.unpackInterpolationResult=function(t,e,n,i,r){Object(o["a"])(r)||(r=new u),a["a"].fromArray(t,0,w);const s=a["a"].magnitude(w);return u.unpack(e,4*i,y),0===s?u.clone(u.IDENTITY,b):u.fromAxisAngle(w,s,b),u.multiply(b,y,r)},u.clone=function(t,e){if(Object(o["a"])(t))return Object(o["a"])(e)?(e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e):new u(t.x,t.y,t.z,t.w)},u.conjugate=function(t,e){return e.x=-t.x,e.y=-t.y,e.z=-t.z,e.w=t.w,e},u.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y+t.z*t.z+t.w*t.w},u.magnitude=function(t){return Math.sqrt(u.magnitudeSquared(t))},u.normalize=function(t,e){const n=1/u.magnitude(t),a=t.x*n,i=t.y*n,o=t.z*n,r=t.w*n;return e.x=a,e.y=i,e.z=o,e.w=r,e},u.inverse=function(t,e){const n=u.magnitudeSquared(t);return e=u.conjugate(t,e),u.multiplyByScalar(e,1/n,e)},u.add=function(t,e,n){return n.x=t.x+e.x,n.y=t.y+e.y,n.z=t.z+e.z,n.w=t.w+e.w,n},u.subtract=function(t,e,n){return n.x=t.x-e.x,n.y=t.y-e.y,n.z=t.z-e.z,n.w=t.w-e.w,n},u.negate=function(t,e){return e.x=-t.x,e.y=-t.y,e.z=-t.z,e.w=-t.w,e},u.dot=function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z+t.w*e.w},u.multiply=function(t,e,n){const a=t.x,i=t.y,o=t.z,r=t.w,s=e.x,c=e.y,u=e.z,l=e.w,h=r*s+a*l+i*u-o*c,d=r*c-a*u+i*l+o*s,g=r*u+a*c-i*s+o*l,f=r*l-a*s-i*c-o*u;return n.x=h,n.y=d,n.z=g,n.w=f,n},u.multiplyByScalar=function(t,e,n){return n.x=t.x*e,n.y=t.y*e,n.z=t.z*e,n.w=t.w*e,n},u.divideByScalar=function(t,e,n){return n.x=t.x/e,n.y=t.y/e,n.z=t.z/e,n.w=t.w/e,n},u.computeAxis=function(t,e){const n=t.w;if(Math.abs(n-1)<s["a"].EPSILON6)return e.x=e.y=e.z=0,e;const a=1/Math.sqrt(1-n*n);return e.x=t.x*a,e.y=t.y*a,e.z=t.z*a,e},u.computeAngle=function(t){return Math.abs(t.w-1)<s["a"].EPSILON6?0:2*Math.acos(t.w)};let x=new u;u.lerp=function(t,e,n,a){return x=u.multiplyByScalar(e,n,x),a=u.multiplyByScalar(t,1-n,a),u.add(x,a,a)};let A=new u,M=new u,v=new u;u.slerp=function(t,e,n,a){let i=u.dot(t,e),o=e;if(i<0&&(i=-i,o=A=u.negate(e,A)),1-i<s["a"].EPSILON6)return u.lerp(t,o,n,a);const r=Math.acos(i);return M=u.multiplyByScalar(t,Math.sin((1-n)*r),M),v=u.multiplyByScalar(o,Math.sin(n*r),v),a=u.add(M,v,a),u.multiplyByScalar(a,1/Math.sin(r),a)},u.log=function(t,e){const n=s["a"].acosClamped(t.w);let i=0;return 0!==n&&(i=n/Math.sin(n)),a["a"].multiplyByScalar(t,i,e)},u.exp=function(t,e){const n=a["a"].magnitude(t);let i=0;return 0!==n&&(i=Math.sin(n)/n),e.x=t.x*i,e.y=t.y*i,e.z=t.z*i,e.w=Math.cos(n),e};const I=new a["a"],T=new a["a"],S=new u,j=new u;u.computeInnerQuadrangle=function(t,e,n,i){const o=u.conjugate(e,S);u.multiply(o,n,j);const r=u.log(j,I);u.multiply(o,t,j);const s=u.log(j,T);return a["a"].add(r,s,r),a["a"].multiplyByScalar(r,.25,r),a["a"].negate(r,r),u.exp(r,S),u.multiply(e,S,i)},u.squad=function(t,e,n,a,i,o){const r=u.slerp(t,e,i,S),s=u.slerp(n,a,i,j);return u.slerp(r,s,2*i*(1-i),o)};const P=new u,E=1.9011074535173003,R=r["a"].supportsTypedArrays()?new Float32Array(8):[],k=r["a"].supportsTypedArrays()?new Float32Array(8):[],N=r["a"].supportsTypedArrays()?new Float32Array(8):[],z=r["a"].supportsTypedArrays()?new Float32Array(8):[];for(let H=0;H<7;++H){const t=H+1,e=2*t+1;R[H]=1/(t*e),k[H]=t/e}R[7]=E/136,k[7]=8*E/17,u.fastSlerp=function(t,e,n,a){let i,o=u.dot(t,e);o>=0?i=1:(i=-1,o=-o);const r=o-1,s=1-n,c=n*n,l=s*s;for(let u=7;u>=0;--u)N[u]=(R[u]*c-k[u])*r,z[u]=(R[u]*l-k[u])*r;const h=i*n*(1+N[0]*(1+N[1]*(1+N[2]*(1+N[3]*(1+N[4]*(1+N[5]*(1+N[6]*(1+N[7])))))))),d=s*(1+z[0]*(1+z[1]*(1+z[2]*(1+z[3]*(1+z[4]*(1+z[5]*(1+z[6]*(1+z[7])))))))),g=u.multiplyByScalar(t,d,P);return u.multiplyByScalar(e,h,a),u.add(g,a,a)},u.fastSquad=function(t,e,n,a,i,o){const r=u.fastSlerp(t,e,i,S),s=u.fastSlerp(n,a,i,j);return u.fastSlerp(r,s,2*i*(1-i),o)},u.equals=function(t,e){return t===e||Object(o["a"])(t)&&Object(o["a"])(e)&&t.x===e.x&&t.y===e.y&&t.z===e.z&&t.w===e.w},u.equalsEpsilon=function(t,e,n){return n=Object(i["a"])(n,0),t===e||Object(o["a"])(t)&&Object(o["a"])(e)&&Math.abs(t.x-e.x)<=n&&Math.abs(t.y-e.y)<=n&&Math.abs(t.z-e.z)<=n&&Math.abs(t.w-e.w)<=n},u.ZERO=Object.freeze(new u(0,0,0,0)),u.IDENTITY=Object.freeze(new u(0,0,0,1)),u.prototype.clone=function(t){return u.clone(this,t)},u.prototype.equals=function(t){return u.equals(this,t)},u.prototype.equalsEpsilon=function(t,e){return u.equalsEpsilon(this,t,e)},u.prototype.toString=function(){return`(${this.x}, ${this.y}, ${this.z}, ${this.w})`},e["a"]=u},"0646":function(t,e,n){"use strict";var a=n("1518"),i=n("93da"),o=n("b071");const r={};function s(t,e,n,r){const s=t*t,c=e-3*s/8,u=n-e*t/2+s*t/8,l=r-n*t/4+e*s/16-3*s*s/256,h=a["a"].computeRealRoots(1,2*c,c*c-4*l,-u*u);if(h.length>0){const e=-t/4,n=h[h.length-1];if(Math.abs(n)<i["a"].EPSILON14){const t=o["a"].computeRealRoots(1,c,l);if(2===t.length){const n=t[0],a=t[1];let i;if(n>=0&&a>=0){const t=Math.sqrt(n),i=Math.sqrt(a);return[e-i,e-t,e+t,e+i]}if(n>=0&&a<0)return i=Math.sqrt(n),[e-i,e+i];if(n<0&&a>=0)return i=Math.sqrt(a),[e-i,e+i]}return[]}if(n>0){const t=Math.sqrt(n),a=(c+n-u/t)/2,i=(c+n+u/t)/2,r=o["a"].computeRealRoots(1,t,a),s=o["a"].computeRealRoots(1,-t,i);return 0!==r.length?(r[0]+=e,r[1]+=e,0!==s.length?(s[0]+=e,s[1]+=e,r[1]<=s[0]?[r[0],r[1],s[0],s[1]]:s[1]<=r[0]?[s[0],s[1],r[0],r[1]]:r[0]>=s[0]&&r[1]<=s[1]?[s[0],r[0],r[1],s[1]]:s[0]>=r[0]&&s[1]<=r[1]?[r[0],s[0],s[1],r[1]]:r[0]>s[0]&&r[0]<s[1]?[s[0],r[0],s[1],r[1]]:[r[0],s[0],r[1],s[1]]):r):0!==s.length?(s[0]+=e,s[1]+=e,s):[]}}return[]}function c(t,e,n,r){const s=n*n,c=e*e,u=t*t,l=-2*e,h=n*t+c-4*r,d=u*r-n*e*t+s,g=a["a"].computeRealRoots(1,l,h,d);if(g.length>0){const a=g[0],s=e-a,c=s*s,l=t/2,h=s/2,d=c-4*r,f=c+4*Math.abs(r),p=u-4*a,m=u+4*Math.abs(a);let _,w,b,y,O,x;if(a<0||d*m<p*f){const e=Math.sqrt(p);_=e/2,w=0===e?0:(t*h-n)/e}else{const e=Math.sqrt(d);_=0===e?0:(t*h-n)/e,w=e/2}0===l&&0===_?(b=0,y=0):i["a"].sign(l)===i["a"].sign(_)?(b=l+_,y=a/b):(y=l-_,b=a/y),0===h&&0===w?(O=0,x=0):i["a"].sign(h)===i["a"].sign(w)?(O=h+w,x=r/O):(x=h-w,O=r/x);const A=o["a"].computeRealRoots(1,b,O),M=o["a"].computeRealRoots(1,y,x);if(0!==A.length)return 0!==M.length?A[1]<=M[0]?[A[0],A[1],M[0],M[1]]:M[1]<=A[0]?[M[0],M[1],A[0],A[1]]:A[0]>=M[0]&&A[1]<=M[1]?[M[0],A[0],A[1],M[1]]:M[0]>=A[0]&&M[1]<=A[1]?[A[0],M[0],M[1],A[1]]:A[0]>M[0]&&A[0]<M[1]?[M[0],A[0],M[1],A[1]]:[A[0],M[0],A[1],M[1]]:A;if(0!==M.length)return M}return[]}r.computeDiscriminant=function(t,e,n,a,i){const o=t*t,r=o*t,s=e*e,c=s*e,u=n*n,l=u*n,h=a*a,d=h*a,g=i*i,f=g*i,p=s*u*h-4*c*d-4*t*l*h+18*t*e*n*d-27*o*h*h+256*r*f+i*(18*c*n*a-4*s*l+16*t*u*u-80*t*e*u*a-6*t*s*h+144*o*n*h)+g*(144*t*s*n-27*s*s-128*o*u-192*o*e*a);return p},r.computeRealRoots=function(t,e,n,o,r){if(Math.abs(t)<i["a"].EPSILON15)return a["a"].computeRealRoots(e,n,o,r);const u=e/t,l=n/t,h=o/t,d=r/t;let g=u<0?1:0;switch(g+=l<0?g+1:g,g+=h<0?g+1:g,g+=d<0?g+1:g,g){case 0:return s(u,l,h,d);case 1:return c(u,l,h,d);case 2:return c(u,l,h,d);case 3:return s(u,l,h,d);case 4:return s(u,l,h,d);case 5:return c(u,l,h,d);case 6:return s(u,l,h,d);case 7:return s(u,l,h,d);case 8:return c(u,l,h,d);case 9:return s(u,l,h,d);case 10:return s(u,l,h,d);case 11:return c(u,l,h,d);case 12:return s(u,l,h,d);case 13:return s(u,l,h,d);case 14:return s(u,l,h,d);case 15:return s(u,l,h,d);default:return}},e["a"]=r},"24a2":function(t,e,n){"use strict";var a=n("2c34"),i=n("cef5"),o=n("be18"),r=n("bef8"),s=n("abab"),c=n("535a"),u=n("2f63"),l=n("c52f"),h=n("d2c7"),d=n("81d7"),g=n("473c"),f=n("0276"),p=n("0123"),m=n("93da"),_=n("9251"),w=n("1b8d"),b=n("eace"),y=n("7973");const O=new i["a"],x=new i["a"],A=new o["a"],M=new b["a"];function v(t,e){const n=t._ellipsoid,a=e.height,i=e.width,o=e.northCap,r=e.southCap;let c=a,u=2,l=0,f=4;o&&(u-=1,c-=1,l+=1,f-=2),r&&(u-=1,c-=1,l+=1,f-=2),l+=u*i+2*c-f;const m=new Float64Array(3*l);let _,b=0,O=0;const x=A;if(o)y["a"].computePosition(e,n,!1,O,0,x),m[b++]=x.x,m[b++]=x.y,m[b++]=x.z;else for(_=0;_<i;_++)y["a"].computePosition(e,n,!1,O,_,x),m[b++]=x.x,m[b++]=x.y,m[b++]=x.z;for(_=i-1,O=1;O<a;O++)y["a"].computePosition(e,n,!1,O,_,x),m[b++]=x.x,m[b++]=x.y,m[b++]=x.z;if(O=a-1,!r)for(_=i-2;_>=0;_--)y["a"].computePosition(e,n,!1,O,_,x),m[b++]=x.x,m[b++]=x.y,m[b++]=x.z;for(_=0,O=a-2;O>0;O--)y["a"].computePosition(e,n,!1,O,_,x),m[b++]=x.x,m[b++]=x.y,m[b++]=x.z;const M=m.length/3*2,v=p["a"].createTypedArray(m.length/3,M);let I=0;for(let s=0;s<m.length/3-1;s++)v[I++]=s,v[I++]=s+1;v[I++]=m.length/3-1,v[I++]=0;const T=new h["a"]({attributes:new g["a"],primitiveType:w["a"].LINES});return T.attributes.position=new d["a"]({componentDatatype:s["a"].DOUBLE,componentsPerAttribute:3,values:m}),T.indices=v,T}function I(t,e){const n=t._surfaceHeight,a=t._extrudedHeight,i=t._ellipsoid,o=a,r=n,s=v(t,e),c=e.height,u=e.width,l=_["a"].scaleToGeodeticHeight(s.attributes.position.values,r,i,!1);let h=l.length;const d=new Float64Array(2*h);d.set(l);const g=_["a"].scaleToGeodeticHeight(s.attributes.position.values,o,i);d.set(g,h),s.attributes.position.values=d;const f=e.northCap,m=e.southCap;let w=4;f&&(w-=1),m&&(w-=1);const b=2*(d.length/3+w),y=p["a"].createTypedArray(d.length/3,b);h=d.length/6;let O,x=0;for(let p=0;p<h-1;p++)y[x++]=p,y[x++]=p+1,y[x++]=p+h,y[x++]=p+h+1;if(y[x++]=h-1,y[x++]=0,y[x++]=h+h-1,y[x++]=h,y[x++]=0,y[x++]=h,f)O=c-1;else{const t=u-1;y[x++]=t,y[x++]=t+h,O=u+c-2}if(y[x++]=O,y[x++]=O+h,!m){const t=u+O-1;y[x++]=t,y[x]=t+h}return s.indices=y,s}function T(t){t=Object(c["a"])(t,c["a"].EMPTY_OBJECT);const e=t.rectangle,n=Object(c["a"])(t.granularity,m["a"].RADIANS_PER_DEGREE),a=Object(c["a"])(t.ellipsoid,l["a"].WGS84),i=Object(c["a"])(t.rotation,0),o=Object(c["a"])(t.height,0),r=Object(c["a"])(t.extrudedHeight,o);this._rectangle=b["a"].clone(e),this._granularity=n,this._ellipsoid=a,this._surfaceHeight=Math.max(o,r),this._rotation=i,this._extrudedHeight=Math.min(o,r),this._offsetAttribute=t.offsetAttribute,this._workerName="createRectangleOutlineGeometry"}T.packedLength=b["a"].packedLength+l["a"].packedLength+5,T.pack=function(t,e,n){return n=Object(c["a"])(n,0),b["a"].pack(t._rectangle,e,n),n+=b["a"].packedLength,l["a"].pack(t._ellipsoid,e,n),n+=l["a"].packedLength,e[n++]=t._granularity,e[n++]=t._surfaceHeight,e[n++]=t._rotation,e[n++]=t._extrudedHeight,e[n]=Object(c["a"])(t._offsetAttribute,-1),e};const S=new b["a"],j=l["a"].clone(l["a"].UNIT_SPHERE),P={rectangle:S,ellipsoid:j,granularity:void 0,height:void 0,rotation:void 0,extrudedHeight:void 0,offsetAttribute:void 0};T.unpack=function(t,e,n){e=Object(c["a"])(e,0);const a=b["a"].unpack(t,e,S);e+=b["a"].packedLength;const i=l["a"].unpack(t,e,j);e+=l["a"].packedLength;const o=t[e++],r=t[e++],s=t[e++],h=t[e++],d=t[e];return Object(u["a"])(n)?(n._rectangle=b["a"].clone(a,n._rectangle),n._ellipsoid=l["a"].clone(i,n._ellipsoid),n._surfaceHeight=r,n._rotation=s,n._extrudedHeight=h,n._offsetAttribute=-1===d?void 0:d,n):(P.granularity=o,P.height=r,P.rotation=s,P.extrudedHeight=h,P.offsetAttribute=-1===d?void 0:d,new T(P))};const E=new r["a"];T.createGeometry=function(t){const e=t._rectangle,n=t._ellipsoid,o=y["a"].computeOptions(e,t._granularity,t._rotation,0,M,E);let r,c;if(m["a"].equalsEpsilon(e.north,e.south,m["a"].EPSILON10)||m["a"].equalsEpsilon(e.east,e.west,m["a"].EPSILON10))return;const l=t._surfaceHeight,g=t._extrudedHeight,p=!m["a"].equalsEpsilon(l,g,0,m["a"].EPSILON2);let b;if(p){if(r=I(t,o),Object(u["a"])(t._offsetAttribute)){const e=r.attributes.position.values.length/3;let n=new Uint8Array(e);t._offsetAttribute===f["a"].TOP?n=Object(a["a"])(n,1,0,e/2):(b=t._offsetAttribute===f["a"].NONE?0:1,n=Object(a["a"])(n,b)),r.attributes.applyOffset=new d["a"]({componentDatatype:s["a"].UNSIGNED_BYTE,componentsPerAttribute:1,values:n})}const h=i["a"].fromRectangle3D(e,n,l,x),p=i["a"].fromRectangle3D(e,n,g,O);c=i["a"].union(h,p)}else{if(r=v(t,o),r.attributes.position.values=_["a"].scaleToGeodeticHeight(r.attributes.position.values,l,n,!1),Object(u["a"])(t._offsetAttribute)){const e=r.attributes.position.values.length,n=new Uint8Array(e/3);b=t._offsetAttribute===f["a"].NONE?0:1,Object(a["a"])(n,b),r.attributes.applyOffset=new d["a"]({componentDatatype:s["a"].UNSIGNED_BYTE,componentsPerAttribute:1,values:n})}c=i["a"].fromRectangle3D(e,n,l)}return new h["a"]({attributes:r.attributes,indices:r.indices,primitiveType:w["a"].LINES,boundingSphere:c,offsetAttribute:t._offsetAttribute})},e["a"]=T},"2ac3":function(t,e,n){"use strict";var a=n("be18"),i=n("535a"),o=n("2f63");function r(t,e){e=a["a"].clone(Object(i["a"])(e,a["a"].ZERO)),a["a"].equals(e,a["a"].ZERO)||a["a"].normalize(e,e),this.origin=a["a"].clone(Object(i["a"])(t,a["a"].ZERO)),this.direction=e}r.clone=function(t,e){if(Object(o["a"])(t))return Object(o["a"])(e)?(e.origin=a["a"].clone(t.origin),e.direction=a["a"].clone(t.direction),e):new r(t.origin,t.direction)},r.getPoint=function(t,e,n){return Object(o["a"])(n)||(n=new a["a"]),n=a["a"].multiplyByScalar(t.direction,e,n),a["a"].add(t.origin,n,n)},e["a"]=r},"372a":function(t,e,n){"use strict";var a=n("2c34"),i=n("cef5"),o=n("670c"),r=n("be18"),s=n("bef8"),c=n("abab"),u=n("535a"),l=n("2f63"),h=n("c52f"),d=n("d2c7"),g=n("81d7"),f=n("473c"),p=n("d940"),m=n("0276"),_=n("c1e2"),w=n("0123"),b=n("93da"),y=n("9e11"),O=n("df07"),x=n("9251"),A=n("1b8d"),M=n("0260"),v=n("eace"),I=n("7973"),T=n("0541");const S=new r["a"],j=new r["a"],P=new r["a"],E=new r["a"],R=new v["a"],k=new o["a"],N=new i["a"],z=new i["a"];function H(t,e){const n=new d["a"]({attributes:new f["a"],primitiveType:A["a"].TRIANGLES});return n.attributes.position=new g["a"]({componentDatatype:c["a"].DOUBLE,componentsPerAttribute:3,values:e.positions}),t.normal&&(n.attributes.normal=new g["a"]({componentDatatype:c["a"].FLOAT,componentsPerAttribute:3,values:e.normals})),t.tangent&&(n.attributes.tangent=new g["a"]({componentDatatype:c["a"].FLOAT,componentsPerAttribute:3,values:e.tangents})),t.bitangent&&(n.attributes.bitangent=new g["a"]({componentDatatype:c["a"].FLOAT,componentsPerAttribute:3,values:e.bitangents})),n}function L(t,e,n,a){const i=t.length,o=e.normal?new Float32Array(i):void 0,s=e.tangent?new Float32Array(i):void 0,c=e.bitangent?new Float32Array(i):void 0;let u=0;const l=E,h=P;let d=j;if(e.normal||e.tangent||e.bitangent)for(let g=0;g<i;g+=3){const i=r["a"].fromArray(t,g,S),f=u+1,p=u+2;d=n.geodeticSurfaceNormal(i,d),(e.tangent||e.bitangent)&&(r["a"].cross(r["a"].UNIT_Z,d,h),O["a"].multiplyByVector(a,h,h),r["a"].normalize(h,h),e.bitangent&&r["a"].normalize(r["a"].cross(d,h,l),l)),e.normal&&(o[u]=d.x,o[f]=d.y,o[p]=d.z),e.tangent&&(s[u]=h.x,s[f]=h.y,s[p]=h.z),e.bitangent&&(c[u]=l.x,c[f]=l.y,c[p]=l.z),u+=3}return H(e,{positions:t,normals:o,tangents:s,bitangents:c})}const C=new r["a"],q=new r["a"];function V(t,e,n){const a=t.length,i=e.normal?new Float32Array(a):void 0,o=e.tangent?new Float32Array(a):void 0,s=e.bitangent?new Float32Array(a):void 0;let c=0,u=0,l=0,h=!0,d=E,g=P,f=j;if(e.normal||e.tangent||e.bitangent)for(let p=0;p<a;p+=6){const m=r["a"].fromArray(t,p,S),_=r["a"].fromArray(t,(p+6)%a,C);if(h){const e=r["a"].fromArray(t,(p+3)%a,q);r["a"].subtract(_,m,_),r["a"].subtract(e,m,e),f=r["a"].normalize(r["a"].cross(e,_,f),f),h=!1}r["a"].equalsEpsilon(_,m,b["a"].EPSILON10)&&(h=!0),(e.tangent||e.bitangent)&&(d=n.geodeticSurfaceNormal(m,d),e.tangent&&(g=r["a"].normalize(r["a"].cross(d,f,g),g))),e.normal&&(i[c++]=f.x,i[c++]=f.y,i[c++]=f.z,i[c++]=f.x,i[c++]=f.y,i[c++]=f.z),e.tangent&&(o[u++]=g.x,o[u++]=g.y,o[u++]=g.z,o[u++]=g.x,o[u++]=g.y,o[u++]=g.z),e.bitangent&&(s[l++]=d.x,s[l++]=d.y,s[l++]=d.z,s[l++]=d.x,s[l++]=d.y,s[l++]=d.z)}return H(e,{positions:t,normals:i,tangents:o,bitangents:s})}function U(t,e){const n=t._vertexFormat,a=t._ellipsoid,i=e.height,o=e.width,r=e.northCap,s=e.southCap;let u=0,l=i,h=i,d=0;r&&(u=1,h-=1,d+=1),s&&(l-=1,h-=1,d+=1),d+=o*h;const f=n.position?new Float64Array(3*d):void 0,p=n.st?new Float32Array(2*d):void 0;let m=0,_=0;const b=S,y=k;let O=Number.MAX_VALUE,x=Number.MAX_VALUE,A=-Number.MAX_VALUE,M=-Number.MAX_VALUE;for(let c=u;c<l;++c)for(let t=0;t<o;++t)I["a"].computePosition(e,a,n.st,c,t,b,y),f[m++]=b.x,f[m++]=b.y,f[m++]=b.z,n.st&&(p[_++]=y.x,p[_++]=y.y,O=Math.min(O,y.x),x=Math.min(x,y.y),A=Math.max(A,y.x),M=Math.max(M,y.y));if(r&&(I["a"].computePosition(e,a,n.st,0,0,b,y),f[m++]=b.x,f[m++]=b.y,f[m++]=b.z,n.st&&(p[_++]=y.x,p[_++]=y.y,O=y.x,x=y.y,A=y.x,M=y.y)),s&&(I["a"].computePosition(e,a,n.st,i-1,0,b,y),f[m++]=b.x,f[m++]=b.y,f[m]=b.z,n.st&&(p[_++]=y.x,p[_]=y.y,O=Math.min(O,y.x),x=Math.min(x,y.y),A=Math.max(A,y.x),M=Math.max(M,y.y))),n.st&&(O<0||x<0||A>1||M>1))for(let c=0;c<p.length;c+=2)p[c]=(p[c]-O)/(A-O),p[c+1]=(p[c+1]-x)/(M-x);const v=L(f,n,a,e.tangentRotationMatrix);let T=6*(o-1)*(h-1);r&&(T+=3*(o-1)),s&&(T+=3*(o-1));const j=w["a"].createTypedArray(d,T);let P,E=0,R=0;for(P=0;P<h-1;++P){for(let t=0;t<o-1;++t){const t=E,e=t+o,n=e+1,a=t+1;j[R++]=t,j[R++]=e,j[R++]=a,j[R++]=a,j[R++]=e,j[R++]=n,++E}++E}if(r||s){let t=d-1;const e=d-1;let n,a;if(r&&s&&(t=d-2),E=0,r)for(P=0;P<o-1;P++)n=E,a=n+1,j[R++]=t,j[R++]=n,j[R++]=a,++E;if(s)for(E=(h-1)*o,P=0;P<o-1;P++)n=E,a=n+1,j[R++]=n,j[R++]=e,j[R++]=a,++E}return v.indices=j,n.st&&(v.attributes.st=new g["a"]({componentDatatype:c["a"].FLOAT,componentsPerAttribute:2,values:p})),v}function W(t,e,n,a,i){return t[e++]=a[n],t[e++]=a[n+1],t[e++]=a[n+2],t[e++]=i[n],t[e++]=i[n+1],t[e]=i[n+2],t}function F(t,e,n,a){return t[e++]=a[n],t[e++]=a[n+1],t[e++]=a[n],t[e]=a[n+1],t}const B=new T["a"];function D(t,e){const n=t._shadowVolume,i=t._offsetAttribute,o=t._vertexFormat,s=t._extrudedHeight,u=t._surfaceHeight,h=t._ellipsoid,d=e.height,f=e.width;let y;if(n){const e=T["a"].clone(o,B);e.normal=!0,t._vertexFormat=e}const O=U(t,e);n&&(t._vertexFormat=o);let A=x["a"].scaleToGeodeticHeight(O.attributes.position.values,u,h,!1);A=new Float64Array(A);let M=A.length;const v=2*M,I=new Float64Array(v);I.set(A);const S=x["a"].scaleToGeodeticHeight(O.attributes.position.values,s,h);I.set(S,M),O.attributes.position.values=I;const j=o.normal?new Float32Array(v):void 0,P=o.tangent?new Float32Array(v):void 0,E=o.bitangent?new Float32Array(v):void 0,R=o.st?new Float32Array(v/3*2):void 0;let k,N,z;if(o.normal){for(N=O.attributes.normal.values,j.set(N),y=0;y<M;y++)N[y]=-N[y];j.set(N,M),O.attributes.normal.values=j}if(n){N=O.attributes.normal.values,o.normal||(O.attributes.normal=void 0);const t=new Float32Array(v);for(y=0;y<M;y++)N[y]=-N[y];t.set(N,M),O.attributes.extrudeDirection=new g["a"]({componentDatatype:c["a"].FLOAT,componentsPerAttribute:3,values:t})}const H=Object(l["a"])(i);if(H){const t=M/3*2;let e=new Uint8Array(t);i===m["a"].TOP?e=Object(a["a"])(e,1,0,t/2):(z=i===m["a"].NONE?0:1,e=Object(a["a"])(e,z)),O.attributes.applyOffset=new g["a"]({componentDatatype:c["a"].UNSIGNED_BYTE,componentsPerAttribute:1,values:e})}if(o.tangent){const t=O.attributes.tangent.values;for(P.set(t),y=0;y<M;y++)t[y]=-t[y];P.set(t,M),O.attributes.tangent.values=P}if(o.bitangent){const t=O.attributes.bitangent.values;E.set(t),E.set(t,M),O.attributes.bitangent.values=E}o.st&&(k=O.attributes.st.values,R.set(k),R.set(k,M/3*2),O.attributes.st.values=R);const L=O.indices,D=L.length,X=M/3,Y=w["a"].createTypedArray(v/3,2*D);for(Y.set(L),y=0;y<D;y+=3)Y[y+D]=L[y+2]+X,Y[y+1+D]=L[y+1]+X,Y[y+2+D]=L[y]+X;O.indices=Y;const G=e.northCap,J=e.southCap;let Z=d,Q=2,$=0,K=4,tt=4;G&&(Q-=1,Z-=1,$+=1,K-=2,tt-=1),J&&(Q-=1,Z-=1,$+=1,K-=2,tt-=1),$+=Q*f+2*Z-K;const et=2*($+tt);let nt=new Float64Array(3*et);const at=n?new Float32Array(3*et):void 0;let it=H?new Uint8Array(et):void 0,ot=o.st?new Float32Array(2*et):void 0;const rt=i===m["a"].TOP;H&&!rt&&(z=i===m["a"].ALL?1:0,it=Object(a["a"])(it,z));let st=0,ct=0,ut=0,lt=0;const ht=f*Z;let dt;for(y=0;y<ht;y+=f)dt=3*y,nt=W(nt,st,dt,A,S),st+=6,o.st&&(ot=F(ot,ct,2*y,k),ct+=4),n&&(ut+=3,at[ut++]=N[dt],at[ut++]=N[dt+1],at[ut++]=N[dt+2]),rt&&(it[lt++]=1,lt+=1);if(J){const t=G?ht+1:ht;for(dt=3*t,y=0;y<2;y++)nt=W(nt,st,dt,A,S),st+=6,o.st&&(ot=F(ot,ct,2*t,k),ct+=4),n&&(ut+=3,at[ut++]=N[dt],at[ut++]=N[dt+1],at[ut++]=N[dt+2]),rt&&(it[lt++]=1,lt+=1)}else for(y=ht-f;y<ht;y++)dt=3*y,nt=W(nt,st,dt,A,S),st+=6,o.st&&(ot=F(ot,ct,2*y,k),ct+=4),n&&(ut+=3,at[ut++]=N[dt],at[ut++]=N[dt+1],at[ut++]=N[dt+2]),rt&&(it[lt++]=1,lt+=1);for(y=ht-1;y>0;y-=f)dt=3*y,nt=W(nt,st,dt,A,S),st+=6,o.st&&(ot=F(ot,ct,2*y,k),ct+=4),n&&(ut+=3,at[ut++]=N[dt],at[ut++]=N[dt+1],at[ut++]=N[dt+2]),rt&&(it[lt++]=1,lt+=1);if(G){const t=ht;for(dt=3*t,y=0;y<2;y++)nt=W(nt,st,dt,A,S),st+=6,o.st&&(ot=F(ot,ct,2*t,k),ct+=4),n&&(ut+=3,at[ut++]=N[dt],at[ut++]=N[dt+1],at[ut++]=N[dt+2]),rt&&(it[lt++]=1,lt+=1)}else for(y=f-1;y>=0;y--)dt=3*y,nt=W(nt,st,dt,A,S),st+=6,o.st&&(ot=F(ot,ct,2*y,k),ct+=4),n&&(ut+=3,at[ut++]=N[dt],at[ut++]=N[dt+1],at[ut++]=N[dt+2]),rt&&(it[lt++]=1,lt+=1);let gt=V(nt,o,h);o.st&&(gt.attributes.st=new g["a"]({componentDatatype:c["a"].FLOAT,componentsPerAttribute:2,values:ot})),n&&(gt.attributes.extrudeDirection=new g["a"]({componentDatatype:c["a"].FLOAT,componentsPerAttribute:3,values:at})),H&&(gt.attributes.applyOffset=new g["a"]({componentDatatype:c["a"].UNSIGNED_BYTE,componentsPerAttribute:1,values:it}));const ft=w["a"].createTypedArray(et,6*$);let pt,mt,_t,wt;M=nt.length/3;let bt=0;for(y=0;y<M-1;y+=2){pt=y,wt=(pt+2)%M;const t=r["a"].fromArray(nt,3*pt,C),e=r["a"].fromArray(nt,3*wt,q);r["a"].equalsEpsilon(t,e,b["a"].EPSILON10)||(mt=(pt+1)%M,_t=(mt+2)%M,ft[bt++]=pt,ft[bt++]=mt,ft[bt++]=wt,ft[bt++]=wt,ft[bt++]=mt,ft[bt++]=_t)}return gt.indices=ft,gt=_["a"].combineInstances([new p["a"]({geometry:O}),new p["a"]({geometry:gt})]),gt[0]}const X=[new r["a"],new r["a"],new r["a"],new r["a"]],Y=new s["a"],G=new s["a"];function J(t,e,n,a,i){if(0===n)return v["a"].clone(t,i);const o=I["a"].computeOptions(t,e,n,0,R,Y),r=o.height,s=o.width,c=X;return I["a"].computePosition(o,a,!1,0,0,c[0]),I["a"].computePosition(o,a,!1,0,s-1,c[1]),I["a"].computePosition(o,a,!1,r-1,0,c[2]),I["a"].computePosition(o,a,!1,r-1,s-1,c[3]),v["a"].fromCartesianArray(c,a,i)}function Z(t){t=Object(u["a"])(t,u["a"].EMPTY_OBJECT);const e=t.rectangle,n=Object(u["a"])(t.height,0),a=Object(u["a"])(t.extrudedHeight,n);this._rectangle=v["a"].clone(e),this._granularity=Object(u["a"])(t.granularity,b["a"].RADIANS_PER_DEGREE),this._ellipsoid=h["a"].clone(Object(u["a"])(t.ellipsoid,h["a"].WGS84)),this._surfaceHeight=Math.max(n,a),this._rotation=Object(u["a"])(t.rotation,0),this._stRotation=Object(u["a"])(t.stRotation,0),this._vertexFormat=T["a"].clone(Object(u["a"])(t.vertexFormat,T["a"].DEFAULT)),this._extrudedHeight=Math.min(n,a),this._shadowVolume=Object(u["a"])(t.shadowVolume,!1),this._workerName="createRectangleGeometry",this._offsetAttribute=t.offsetAttribute,this._rotatedRectangle=void 0,this._textureCoordinateRotationPoints=void 0}Z.packedLength=v["a"].packedLength+h["a"].packedLength+T["a"].packedLength+7,Z.pack=function(t,e,n){return n=Object(u["a"])(n,0),v["a"].pack(t._rectangle,e,n),n+=v["a"].packedLength,h["a"].pack(t._ellipsoid,e,n),n+=h["a"].packedLength,T["a"].pack(t._vertexFormat,e,n),n+=T["a"].packedLength,e[n++]=t._granularity,e[n++]=t._surfaceHeight,e[n++]=t._rotation,e[n++]=t._stRotation,e[n++]=t._extrudedHeight,e[n++]=t._shadowVolume?1:0,e[n]=Object(u["a"])(t._offsetAttribute,-1),e};const Q=new v["a"],$=h["a"].clone(h["a"].UNIT_SPHERE),K={rectangle:Q,ellipsoid:$,vertexFormat:B,granularity:void 0,height:void 0,rotation:void 0,stRotation:void 0,extrudedHeight:void 0,shadowVolume:void 0,offsetAttribute:void 0};Z.unpack=function(t,e,n){e=Object(u["a"])(e,0);const a=v["a"].unpack(t,e,Q);e+=v["a"].packedLength;const i=h["a"].unpack(t,e,$);e+=h["a"].packedLength;const o=T["a"].unpack(t,e,B);e+=T["a"].packedLength;const r=t[e++],s=t[e++],c=t[e++],d=t[e++],g=t[e++],f=1===t[e++],p=t[e];return Object(l["a"])(n)?(n._rectangle=v["a"].clone(a,n._rectangle),n._ellipsoid=h["a"].clone(i,n._ellipsoid),n._vertexFormat=T["a"].clone(o,n._vertexFormat),n._granularity=r,n._surfaceHeight=s,n._rotation=c,n._stRotation=d,n._extrudedHeight=g,n._shadowVolume=f,n._offsetAttribute=-1===p?void 0:p,n):(K.granularity=r,K.height=s,K.rotation=c,K.stRotation=d,K.extrudedHeight=g,K.shadowVolume=f,K.offsetAttribute=-1===p?void 0:p,new Z(K))},Z.computeRectangle=function(t,e){t=Object(u["a"])(t,u["a"].EMPTY_OBJECT);const n=t.rectangle,a=Object(u["a"])(t.granularity,b["a"].RADIANS_PER_DEGREE),i=Object(u["a"])(t.ellipsoid,h["a"].WGS84),o=Object(u["a"])(t.rotation,0);return J(n,a,o,i,e)};const tt=new O["a"],et=new M["a"],nt=new s["a"];Z.createGeometry=function(t){if(b["a"].equalsEpsilon(t._rectangle.north,t._rectangle.south,b["a"].EPSILON10)||b["a"].equalsEpsilon(t._rectangle.east,t._rectangle.west,b["a"].EPSILON10))return;let e=t._rectangle;const n=t._ellipsoid,o=t._rotation,r=t._stRotation,s=t._vertexFormat,u=I["a"].computeOptions(e,t._granularity,o,r,R,Y,G),h=tt;if(0!==r||0!==o){const t=v["a"].center(e,nt),a=n.geodeticSurfaceNormalCartographic(t,C);M["a"].fromAxisAngle(a,-r,et),O["a"].fromQuaternion(et,h)}else O["a"].clone(O["a"].IDENTITY,h);const f=t._surfaceHeight,p=t._extrudedHeight,_=!b["a"].equalsEpsilon(f,p,0,b["a"].EPSILON2);let w,y;if(u.lonScalar=1/t._rectangle.width,u.latScalar=1/t._rectangle.height,u.tangentRotationMatrix=h,e=t._rectangle,_){w=D(t,u);const a=i["a"].fromRectangle3D(e,n,f,z),o=i["a"].fromRectangle3D(e,n,p,N);y=i["a"].union(a,o)}else{if(w=U(t,u),w.attributes.position.values=x["a"].scaleToGeodeticHeight(w.attributes.position.values,f,n,!1),Object(l["a"])(t._offsetAttribute)){const e=w.attributes.position.values.length,n=new Uint8Array(e/3),i=t._offsetAttribute===m["a"].NONE?0:1;Object(a["a"])(n,i),w.attributes.applyOffset=new g["a"]({componentDatatype:c["a"].UNSIGNED_BYTE,componentsPerAttribute:1,values:n})}y=i["a"].fromRectangle3D(e,n,f)}return s.position||delete w.attributes.position,new d["a"]({attributes:w.attributes,indices:w.indices,primitiveType:w.primitiveType,boundingSphere:y,offsetAttribute:t._offsetAttribute})},Z.createShadowVolume=function(t,e,n){const a=t._granularity,i=t._ellipsoid,o=e(a,i),r=n(a,i);return new Z({rectangle:t._rectangle,rotation:t._rotation,ellipsoid:i,stRotation:t._stRotation,granularity:a,extrudedHeight:r,height:o,vertexFormat:T["a"].POSITION_ONLY,shadowVolume:!0})};const at=new v["a"],it=[new o["a"],new o["a"],new o["a"]],ot=new y["a"],rt=new s["a"];function st(t){if(0===t._stRotation)return[0,0,0,1,1,0];const e=v["a"].clone(t._rectangle,at),n=t._granularity,a=t._ellipsoid,i=t._rotation-t._stRotation,r=J(e,n,i,a,at),s=it;s[0].x=r.west,s[0].y=r.south,s[1].x=r.west,s[1].y=r.north,s[2].x=r.east,s[2].y=r.south;const c=t.rectangle,u=y["a"].fromRotation(t._stRotation,ot),l=v["a"].center(c,rt);for(let o=0;o<3;++o){const t=s[o];t.x-=l.longitude,t.y-=l.latitude,y["a"].multiplyByVector(u,t,t),t.x+=l.longitude,t.y+=l.latitude,t.x=(t.x-c.west)/c.width,t.y=(t.y-c.south)/c.height}const h=s[0],d=s[1],g=s[2],f=new Array(6);return o["a"].pack(h,f),o["a"].pack(d,f,2),o["a"].pack(g,f,4),f}Object.defineProperties(Z.prototype,{rectangle:{get:function(){return Object(l["a"])(this._rotatedRectangle)||(this._rotatedRectangle=J(this._rectangle,this._granularity,this._rotation,this._ellipsoid)),this._rotatedRectangle}},textureCoordinateRotationPoints:{get:function(){return Object(l["a"])(this._textureCoordinateRotationPoints)||(this._textureCoordinateRotationPoints=st(this)),this._textureCoordinateRotationPoints}}}),e["a"]=Z},"38f2":function(t,e,n){"use strict";var a=n("535a"),i=n("2f63"),o=n("0260"),r=n("66fb");function s(t){const e=t.points,n=t.times;return function(a,r){Object(i["a"])(r)||(r=new o["a"]);const s=t._lastTimeIndex=t.findTimeInterval(a,t._lastTimeIndex),c=(a-n[s])/(n[s+1]-n[s]),u=e[s],l=e[s+1];return o["a"].fastSlerp(u,l,c,r)}}function c(t){t=Object(a["a"])(t,a["a"].EMPTY_OBJECT);const e=t.points,n=t.times;this._times=n,this._points=e,this._evaluateFunction=s(this),this._lastTimeIndex=0}Object.defineProperties(c.prototype,{times:{get:function(){return this._times}},points:{get:function(){return this._points}}}),c.prototype.findTimeInterval=r["a"].prototype.findTimeInterval,c.prototype.wrapTime=r["a"].prototype.wrapTime,c.prototype.clampTime=r["a"].prototype.clampTime,c.prototype.evaluate=function(t,e){return this._evaluateFunction(t,e)},e["a"]=c},7749:function(t,e,n){"use strict";const a={FIXED:0,INERTIAL:1};e["a"]=Object.freeze(a)},7973:function(t,e,n){"use strict";var a=n("be18"),i=n("bef8"),o=n("2f63"),r=n("3d7f"),s=n("93da"),c=n("9e11"),u=n("eace");const l=Math.cos,h=Math.sin,d=Math.sqrt,g={computePosition:function(t,e,n,a,i,r,s){const c=e.radiiSquared,u=t.nwCorner,g=t.boundingRectangle;let f=u.latitude-t.granYCos*a+i*t.granXSin;const p=l(f),m=h(f),_=c.z*m;let w=u.longitude+a*t.granYSin+i*t.granXCos;const b=p*l(w),y=p*h(w),O=c.x*b,x=c.y*y,A=d(O*b+x*y+_*m);if(r.x=O/A,r.y=x/A,r.z=_/A,n){const e=t.stNwCorner;Object(o["a"])(e)?(f=e.latitude-t.stGranYCos*a+i*t.stGranXSin,w=e.longitude+a*t.stGranYSin+i*t.stGranXCos,s.x=(w-t.stWest)*t.lonScalar,s.y=(f-t.stSouth)*t.latScalar):(s.x=(w-g.west)*t.lonScalar,s.y=(f-g.south)*t.latScalar)}}},f=new c["a"];let p=new a["a"];const m=new i["a"];let _=new a["a"];const w=new r["a"];function b(t,e,n,i,o,r,s){const u=Math.cos(e),l=i*u,h=n*u,d=Math.sin(e),g=i*d,m=n*d;p=w.project(t,p),p=a["a"].subtract(p,_,p);const b=c["a"].fromRotation(e,f);p=c["a"].multiplyByVector(b,p,p),p=a["a"].add(p,_,p),t=w.unproject(p,t),r-=1,s-=1;const y=t.latitude,O=y+r*m,x=y-l*s,A=y-l*s+r*m,M=Math.max(y,O,x,A),v=Math.min(y,O,x,A),I=t.longitude,T=I+r*h,S=I+s*g,j=I+s*g+r*h,P=Math.max(I,T,S,j),E=Math.min(I,T,S,j);return{north:M,south:v,east:P,west:E,granYCos:l,granYSin:g,granXCos:h,granXSin:m,nwCorner:t}}g.computeOptions=function(t,e,n,a,i,o,r){let c,l=t.east,h=t.west,d=t.north,g=t.south,f=!1,p=!1;d===s["a"].PI_OVER_TWO&&(f=!0),g===-s["a"].PI_OVER_TWO&&(p=!0);const y=d-g;c=h>l?s["a"].TWO_PI-h+l:l-h;const O=Math.ceil(c/e)+1,x=Math.ceil(y/e)+1,A=c/(O-1),M=y/(x-1),v=u["a"].northwest(t,o),I=u["a"].center(t,m);0===n&&0===a||(I.longitude<v.longitude&&(I.longitude+=s["a"].TWO_PI),_=w.project(I,_));const T=M,S=A,j=0,P=0,E=u["a"].clone(t,i),R={granYCos:T,granYSin:j,granXCos:S,granXSin:P,nwCorner:v,boundingRectangle:E,width:O,height:x,northCap:f,southCap:p};if(0!==n){const t=b(v,n,A,M,I,O,x);d=t.north,g=t.south,l=t.east,h=t.west,R.granYCos=t.granYCos,R.granYSin=t.granYSin,R.granXCos=t.granXCos,R.granXSin=t.granXSin,E.north=d,E.south=g,E.east=l,E.west=h}if(0!==a){n-=a;const t=u["a"].northwest(E,r),e=b(t,n,A,M,I,O,x);R.stGranYCos=e.granYCos,R.stGranXCos=e.granXCos,R.stGranYSin=e.granYSin,R.stGranXSin=e.granXSin,R.stNwCorner=t,R.stWest=e.west,R.stSouth=e.south}return R},e["a"]=g},9410:function(t,e,n){"use strict";function a(){this._array=[],this._offset=0,this._length=0}Object.defineProperties(a.prototype,{length:{get:function(){return this._length}}}),a.prototype.enqueue=function(t){this._array.push(t),this._length++},a.prototype.dequeue=function(){if(0===this._length)return;const t=this._array;let e=this._offset;const n=t[e];return t[e]=void 0,e++,e>10&&2*e>t.length&&(this._array=t.slice(e),e=0),this._offset=e,this._length--,n},a.prototype.peek=function(){if(0!==this._length)return this._array[this._offset]},a.prototype.contains=function(t){return-1!==this._array.indexOf(t)},a.prototype.clear=function(){this._array.length=this._offset=this._length=0},a.prototype.sort=function(t){this._offset>0&&(this._array=this._array.slice(this._offset),this._offset=0),this._array.sort(t)},e["a"]=a},"9fb4":function(t,e,n){"use strict";var a=n("8283");function i(){this._tree=new a["a"]}function o(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.id=""}function r(t,e){return t.id===e.id}o.fromRectangleAndId=function(t,e,n){return n.minX=e.west,n.minY=e.south,n.maxX=e.east,n.maxY=e.north,n.id=t,n},i.prototype.insert=function(t,e){const n=o.fromRectangleAndId(t,e,new o);this._tree.insert(n)};const s=new o;i.prototype.remove=function(t,e){const n=o.fromRectangleAndId(t,e,s);this._tree.remove(n,r)};const c=new o;i.prototype.collides=function(t){const e=o.fromRectangleAndId("",t,c);return this._tree.collides(e)},e["a"]=i},b071:function(t,e,n){"use strict";var a=n("93da");const i={};function o(t,e,n){const i=t+e;return a["a"].sign(t)!==a["a"].sign(e)&&Math.abs(i/Math.max(Math.abs(t),Math.abs(e)))<n?0:i}i.computeDiscriminant=function(t,e,n){const a=e*e-4*t*n;return a},i.computeRealRoots=function(t,e,n){let i;if(0===t)return 0===e?[]:[-n/e];if(0===e){if(0===n)return[0,0];const e=Math.abs(n),o=Math.abs(t);if(e<o&&e/o<a["a"].EPSILON14)return[0,0];if(e>o&&o/e<a["a"].EPSILON14)return[];if(i=-n/t,i<0)return[];const r=Math.sqrt(i);return[-r,r]}if(0===n)return i=-e/t,i<0?[i,0]:[0,i];const r=e*e,s=4*t*n,c=o(r,-s,a["a"].EPSILON14);if(c<0)return[];const u=-.5*o(e,a["a"].sign(e)*Math.sqrt(c),a["a"].EPSILON14);return e>0?[u/t,n/u]:[n/u,u/t]},e["a"]=i},d0ea:function(t,e,n){"use strict";var a=n("cef5"),i=n("670c"),o=n("be18"),r=n("535a"),s=n("2f63"),c=n("0123"),u=n("c8f9"),l=n("93da"),h=n("78e5"),d=n("6a29"),g=n("6cdc"),f=n("0769"),p=n("4261");function m(t){this._quantizedVertices=t.quantizedVertices,this._encodedNormals=t.encodedNormals,this._indices=t.indices,this._minimumHeight=t.minimumHeight,this._maximumHeight=t.maximumHeight,this._boundingSphere=t.boundingSphere,this._orientedBoundingBox=t.orientedBoundingBox,this._horizonOcclusionPoint=t.horizonOcclusionPoint,this._credits=t.credits;const e=this._quantizedVertices.length/3,n=this._uValues=this._quantizedVertices.subarray(0,e),a=this._vValues=this._quantizedVertices.subarray(e,2*e);function i(t,e){return a[t]-a[e]}function o(t,e){return n[t]-n[e]}this._heightValues=this._quantizedVertices.subarray(2*e,3*e),this._westIndices=w(t.westIndices,i,e),this._southIndices=w(t.southIndices,o,e),this._eastIndices=w(t.eastIndices,i,e),this._northIndices=w(t.northIndices,o,e),this._westSkirtHeight=t.westSkirtHeight,this._southSkirtHeight=t.southSkirtHeight,this._eastSkirtHeight=t.eastSkirtHeight,this._northSkirtHeight=t.northSkirtHeight,this._childTileMask=Object(r["a"])(t.childTileMask,15),this._createdByUpsampling=Object(r["a"])(t.createdByUpsampling,!1),this._waterMask=t.waterMask,this._mesh=void 0}Object.defineProperties(m.prototype,{credits:{get:function(){return this._credits}},waterMask:{get:function(){return this._waterMask}},childTileMask:{get:function(){return this._childTileMask}},canUpsample:{get:function(){return Object(s["a"])(this._mesh)}}});const _=[];function w(t,e,n){_.length=t.length;let a=!1;for(let i=0,o=t.length;i<o;++i)_[i]=t[i],a=a||i>0&&e(t[i-1],t[i])>0;return a?(_.sort(e),c["a"].createTypedArray(n,_)):t}const b="createVerticesFromQuantizedTerrainMesh",y=new d["a"](b),O=new d["a"](b,g["a"].maximumAsynchronousTasks);m.prototype.createMesh=function(t){t=Object(r["a"])(t,r["a"].EMPTY_OBJECT);const e=t.tilingScheme,n=t.x,a=t.y,i=t.level,u=Object(r["a"])(t.exaggeration,1),l=Object(r["a"])(t.exaggerationRelativeHeight,0),h=Object(r["a"])(t.throttle,!0),d=e.ellipsoid,g=e.tileXYToRectangle(n,a,i),m=h?O:y,_=m.scheduleTask({minimumHeight:this._minimumHeight,maximumHeight:this._maximumHeight,quantizedVertices:this._quantizedVertices,octEncodedNormals:this._encodedNormals,includeWebMercatorT:!0,indices:this._indices,westIndices:this._westIndices,southIndices:this._southIndices,eastIndices:this._eastIndices,northIndices:this._northIndices,westSkirtHeight:this._westSkirtHeight,southSkirtHeight:this._southSkirtHeight,eastSkirtHeight:this._eastSkirtHeight,northSkirtHeight:this._northSkirtHeight,rectangle:g,relativeToCenter:this._boundingSphere.center,ellipsoid:d,exaggeration:u,exaggerationRelativeHeight:l});if(!Object(s["a"])(_))return;const w=this;return Promise.resolve(_).then((function(t){const e=w._quantizedVertices.length/3,n=e+w._westIndices.length+w._southIndices.length+w._eastIndices.length+w._northIndices.length,a=c["a"].createTypedArray(n,t.indices),i=new Float32Array(t.vertices),s=t.center,u=t.minimumHeight,l=t.maximumHeight,h=w._boundingSphere,d=w._orientedBoundingBox,g=Object(r["a"])(o["a"].clone(t.occludeePointInScaledSpace),w._horizonOcclusionPoint),m=t.vertexStride,_=f["a"].clone(t.encoding);return w._mesh=new p["a"](s,i,a,t.indexCountWithoutSkirts,e,u,l,h,g,m,d,_,t.westIndicesSouthToNorth,t.southIndicesEastToWest,t.eastIndicesNorthToSouth,t.northIndicesWestToEast),w._quantizedVertices=void 0,w._encodedNormals=void 0,w._indices=void 0,w._uValues=void 0,w._vValues=void 0,w._heightValues=void 0,w._westIndices=void 0,w._southIndices=void 0,w._eastIndices=void 0,w._northIndices=void 0,w._mesh}))};const x=new d["a"]("upsampleQuantizedTerrainMesh",g["a"].maximumAsynchronousTasks);m.prototype.upsample=function(t,e,n,i,r,u,l){const d=this._mesh;if(!Object(s["a"])(this._mesh))return;const g=2*e!==r,f=2*n===u,p=t.ellipsoid,_=t.tileXYToRectangle(r,u,l),w=x.scheduleTask({vertices:d.vertices,vertexCountWithoutSkirts:d.vertexCountWithoutSkirts,indices:d.indices,indexCountWithoutSkirts:d.indexCountWithoutSkirts,encoding:d.encoding,minimumHeight:this._minimumHeight,maximumHeight:this._maximumHeight,isEastChild:g,isNorthChild:f,childRectangle:_,ellipsoid:p});if(!Object(s["a"])(w))return;let b=Math.min(this._westSkirtHeight,this._eastSkirtHeight);b=Math.min(b,this._southSkirtHeight),b=Math.min(b,this._northSkirtHeight);const y=g?.5*b:this._westSkirtHeight,O=f?.5*b:this._southSkirtHeight,A=g?this._eastSkirtHeight:.5*b,M=f?this._northSkirtHeight:.5*b,v=this._credits;return Promise.resolve(w).then((function(t){const e=new Uint16Array(t.vertices),n=c["a"].createTypedArray(e.length/3,t.indices);let i;return Object(s["a"])(t.encodedNormals)&&(i=new Uint8Array(t.encodedNormals)),new m({quantizedVertices:e,indices:n,encodedNormals:i,minimumHeight:t.minimumHeight,maximumHeight:t.maximumHeight,boundingSphere:a["a"].clone(t.boundingSphere),orientedBoundingBox:h["a"].clone(t.orientedBoundingBox),horizonOcclusionPoint:o["a"].clone(t.horizonOcclusionPoint),westIndices:t.westIndices,southIndices:t.southIndices,eastIndices:t.eastIndices,northIndices:t.northIndices,westSkirtHeight:y,southSkirtHeight:O,eastSkirtHeight:A,northSkirtHeight:M,childTileMask:0,credits:v,createdByUpsampling:!0})}))};const A=32767,M=new o["a"];function v(t,e,n,a,i,o,r,s){const c=Math.min(n,i,r),u=Math.max(n,i,r),l=Math.min(a,o,s),h=Math.max(a,o,s);return t>=c&&t<=u&&e>=l&&e<=h}m.prototype.interpolateHeight=function(t,e,n){let a=l["a"].clamp((e-t.west)/t.width,0,1);a*=A;let i=l["a"].clamp((n-t.south)/t.height,0,1);return i*=A,Object(s["a"])(this._mesh)?j(this,a,i):P(this,a,i)};const I=new i["a"],T=new i["a"],S=new i["a"];function j(t,e,n){const a=t._mesh,i=a.vertices,o=a.encoding,r=a.indices;for(let s=0,c=r.length;s<c;s+=3){const t=r[s],a=r[s+1],c=r[s+2],l=o.decodeTextureCoordinates(i,t,I),h=o.decodeTextureCoordinates(i,a,T),d=o.decodeTextureCoordinates(i,c,S);if(v(e,n,l.x,l.y,h.x,h.y,d.x,d.y)){const r=u["a"].computeBarycentricCoordinates(e,n,l.x,l.y,h.x,h.y,d.x,d.y,M);if(r.x>=-1e-15&&r.y>=-1e-15&&r.z>=-1e-15){const e=o.decodeHeight(i,t),n=o.decodeHeight(i,a),s=o.decodeHeight(i,c);return r.x*e+r.y*n+r.z*s}}}}function P(t,e,n){const a=t._uValues,i=t._vValues,o=t._heightValues,r=t._indices;for(let s=0,c=r.length;s<c;s+=3){const c=r[s],h=r[s+1],d=r[s+2],g=a[c],f=a[h],p=a[d],m=i[c],_=i[h],w=i[d];if(v(e,n,g,m,f,_,p,w)){const a=u["a"].computeBarycentricCoordinates(e,n,g,m,f,_,p,w,M);if(a.x>=-1e-15&&a.y>=-1e-15&&a.z>=-1e-15){const e=a.x*o[c]+a.y*o[h]+a.z*o[d];return l["a"].lerp(t._minimumHeight,t._maximumHeight,e/A)}}}}m.prototype.isChildAvailable=function(t,e,n,a){let i=2;return n!==2*t&&++i,a!==2*e&&(i-=2),0!==(this._childTileMask&1<<i)},m.prototype.wasCreatedByUpsampling=function(){return this._createdByUpsampling},e["a"]=m},eace:function(t,e,n){"use strict";var a=n("bef8"),i=n("535a"),o=n("2f63"),r=n("c52f"),s=n("93da");function c(t,e,n,a){this.west=Object(i["a"])(t,0),this.south=Object(i["a"])(e,0),this.east=Object(i["a"])(n,0),this.north=Object(i["a"])(a,0)}Object.defineProperties(c.prototype,{width:{get:function(){return c.computeWidth(this)}},height:{get:function(){return c.computeHeight(this)}}}),c.packedLength=4,c.pack=function(t,e,n){return n=Object(i["a"])(n,0),e[n++]=t.west,e[n++]=t.south,e[n++]=t.east,e[n]=t.north,e},c.unpack=function(t,e,n){return e=Object(i["a"])(e,0),Object(o["a"])(n)||(n=new c),n.west=t[e++],n.south=t[e++],n.east=t[e++],n.north=t[e],n},c.computeWidth=function(t){let e=t.east;const n=t.west;return e<n&&(e+=s["a"].TWO_PI),e-n},c.computeHeight=function(t){return t.north-t.south},c.fromDegrees=function(t,e,n,a,r){return t=s["a"].toRadians(Object(i["a"])(t,0)),e=s["a"].toRadians(Object(i["a"])(e,0)),n=s["a"].toRadians(Object(i["a"])(n,0)),a=s["a"].toRadians(Object(i["a"])(a,0)),Object(o["a"])(r)?(r.west=t,r.south=e,r.east=n,r.north=a,r):new c(t,e,n,a)},c.fromRadians=function(t,e,n,a,r){return Object(o["a"])(r)?(r.west=Object(i["a"])(t,0),r.south=Object(i["a"])(e,0),r.east=Object(i["a"])(n,0),r.north=Object(i["a"])(a,0),r):new c(t,e,n,a)},c.fromCartographicArray=function(t,e){let n=Number.MAX_VALUE,a=-Number.MAX_VALUE,i=Number.MAX_VALUE,r=-Number.MAX_VALUE,u=Number.MAX_VALUE,l=-Number.MAX_VALUE;for(let o=0,c=t.length;o<c;o++){const e=t[o];n=Math.min(n,e.longitude),a=Math.max(a,e.longitude),u=Math.min(u,e.latitude),l=Math.max(l,e.latitude);const c=e.longitude>=0?e.longitude:e.longitude+s["a"].TWO_PI;i=Math.min(i,c),r=Math.max(r,c)}return a-n>r-i&&(n=i,a=r,a>s["a"].PI&&(a-=s["a"].TWO_PI),n>s["a"].PI&&(n-=s["a"].TWO_PI)),Object(o["a"])(e)?(e.west=n,e.south=u,e.east=a,e.north=l,e):new c(n,u,a,l)},c.fromCartesianArray=function(t,e,n){e=Object(i["a"])(e,r["a"].WGS84);let a=Number.MAX_VALUE,u=-Number.MAX_VALUE,l=Number.MAX_VALUE,h=-Number.MAX_VALUE,d=Number.MAX_VALUE,g=-Number.MAX_VALUE;for(let i=0,o=t.length;i<o;i++){const n=e.cartesianToCartographic(t[i]);a=Math.min(a,n.longitude),u=Math.max(u,n.longitude),d=Math.min(d,n.latitude),g=Math.max(g,n.latitude);const o=n.longitude>=0?n.longitude:n.longitude+s["a"].TWO_PI;l=Math.min(l,o),h=Math.max(h,o)}return u-a>h-l&&(a=l,u=h,u>s["a"].PI&&(u-=s["a"].TWO_PI),a>s["a"].PI&&(a-=s["a"].TWO_PI)),Object(o["a"])(n)?(n.west=a,n.south=d,n.east=u,n.north=g,n):new c(a,d,u,g)},c.clone=function(t,e){if(Object(o["a"])(t))return Object(o["a"])(e)?(e.west=t.west,e.south=t.south,e.east=t.east,e.north=t.north,e):new c(t.west,t.south,t.east,t.north)},c.equalsEpsilon=function(t,e,n){return n=Object(i["a"])(n,0),t===e||Object(o["a"])(t)&&Object(o["a"])(e)&&Math.abs(t.west-e.west)<=n&&Math.abs(t.south-e.south)<=n&&Math.abs(t.east-e.east)<=n&&Math.abs(t.north-e.north)<=n},c.prototype.clone=function(t){return c.clone(this,t)},c.prototype.equals=function(t){return c.equals(this,t)},c.equals=function(t,e){return t===e||Object(o["a"])(t)&&Object(o["a"])(e)&&t.west===e.west&&t.south===e.south&&t.east===e.east&&t.north===e.north},c.prototype.equalsEpsilon=function(t,e){return c.equalsEpsilon(this,t,e)},c.validate=function(t){},c.southwest=function(t,e){return Object(o["a"])(e)?(e.longitude=t.west,e.latitude=t.south,e.height=0,e):new a["a"](t.west,t.south)},c.northwest=function(t,e){return Object(o["a"])(e)?(e.longitude=t.west,e.latitude=t.north,e.height=0,e):new a["a"](t.west,t.north)},c.northeast=function(t,e){return Object(o["a"])(e)?(e.longitude=t.east,e.latitude=t.north,e.height=0,e):new a["a"](t.east,t.north)},c.southeast=function(t,e){return Object(o["a"])(e)?(e.longitude=t.east,e.latitude=t.south,e.height=0,e):new a["a"](t.east,t.south)},c.center=function(t,e){let n=t.east;const i=t.west;n<i&&(n+=s["a"].TWO_PI);const r=s["a"].negativePiToPi(.5*(i+n)),c=.5*(t.south+t.north);return Object(o["a"])(e)?(e.longitude=r,e.latitude=c,e.height=0,e):new a["a"](r,c)},c.intersection=function(t,e,n){let a=t.east,i=t.west,r=e.east,u=e.west;a<i&&r>0?a+=s["a"].TWO_PI:r<u&&a>0&&(r+=s["a"].TWO_PI),a<i&&u<0?u+=s["a"].TWO_PI:r<u&&i<0&&(i+=s["a"].TWO_PI);const l=s["a"].negativePiToPi(Math.max(i,u)),h=s["a"].negativePiToPi(Math.min(a,r));if((t.west<t.east||e.west<e.east)&&h<=l)return;const d=Math.max(t.south,e.south),g=Math.min(t.north,e.north);return d>=g?void 0:Object(o["a"])(n)?(n.west=l,n.south=d,n.east=h,n.north=g,n):new c(l,d,h,g)},c.simpleIntersection=function(t,e,n){const a=Math.max(t.west,e.west),i=Math.max(t.south,e.south),r=Math.min(t.east,e.east),s=Math.min(t.north,e.north);if(!(i>=s||a>=r))return Object(o["a"])(n)?(n.west=a,n.south=i,n.east=r,n.north=s,n):new c(a,i,r,s)},c.union=function(t,e,n){Object(o["a"])(n)||(n=new c);let a=t.east,i=t.west,r=e.east,u=e.west;a<i&&r>0?a+=s["a"].TWO_PI:r<u&&a>0&&(r+=s["a"].TWO_PI),a<i&&u<0?u+=s["a"].TWO_PI:r<u&&i<0&&(i+=s["a"].TWO_PI);const l=s["a"].negativePiToPi(Math.min(i,u)),h=s["a"].negativePiToPi(Math.max(a,r));return n.west=l,n.south=Math.min(t.south,e.south),n.east=h,n.north=Math.max(t.north,e.north),n},c.expand=function(t,e,n){return Object(o["a"])(n)||(n=new c),n.west=Math.min(t.west,e.longitude),n.south=Math.min(t.south,e.latitude),n.east=Math.max(t.east,e.longitude),n.north=Math.max(t.north,e.latitude),n},c.contains=function(t,e){let n=e.longitude;const a=e.latitude,i=t.west;let o=t.east;return o<i&&(o+=s["a"].TWO_PI,n<0&&(n+=s["a"].TWO_PI)),(n>i||s["a"].equalsEpsilon(n,i,s["a"].EPSILON14))&&(n<o||s["a"].equalsEpsilon(n,o,s["a"].EPSILON14))&&a>=t.south&&a<=t.north};const u=new a["a"];c.subsample=function(t,e,n,a){e=Object(i["a"])(e,r["a"].WGS84),n=Object(i["a"])(n,0),Object(o["a"])(a)||(a=[]);let l=0;const h=t.north,d=t.south,g=t.east,f=t.west,p=u;p.height=n,p.longitude=f,p.latitude=h,a[l]=e.cartographicToCartesian(p,a[l]),l++,p.longitude=g,a[l]=e.cartographicToCartesian(p,a[l]),l++,p.latitude=d,a[l]=e.cartographicToCartesian(p,a[l]),l++,p.longitude=f,a[l]=e.cartographicToCartesian(p,a[l]),l++,p.latitude=h<0?h:d>0?d:0;for(let i=1;i<8;++i)p.longitude=-Math.PI+i*s["a"].PI_OVER_TWO,c.contains(t,p)&&(a[l]=e.cartographicToCartesian(p,a[l]),l++);return 0===p.latitude&&(p.longitude=f,a[l]=e.cartographicToCartesian(p,a[l]),l++,p.longitude=g,a[l]=e.cartographicToCartesian(p,a[l]),l++),a.length=l,a},c.subsection=function(t,e,n,a,i,r){if(Object(o["a"])(r)||(r=new c),t.west<=t.east){const n=t.east-t.west;r.west=t.west+e*n,r.east=t.west+a*n}else{const n=s["a"].TWO_PI+t.east-t.west;r.west=s["a"].negativePiToPi(t.west+e*n),r.east=s["a"].negativePiToPi(t.west+a*n)}const u=t.north-t.south;return r.south=t.south+n*u,r.north=t.south+i*u,1===e&&(r.west=t.east),1===a&&(r.east=t.east),1===n&&(r.south=t.north),1===i&&(r.north=t.north),r},c.MAX_VALUE=Object.freeze(new c(-Math.PI,-s["a"].PI_OVER_TWO,Math.PI,s["a"].PI_OVER_TWO)),e["a"]=c}}]);