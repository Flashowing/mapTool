(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Cesium~5f6cea67"],{"05b6":function(t,e,i){"use strict";var o=i("535a"),n=i("2f63"),a=i("21d7"),s=i("dde7"),r=i("0a43");function l(t){this._definitionChanged=new a["a"],this._show=void 0,this._showSubscription=void 0,this._positions=void 0,this._positionsSubscription=void 0,this._width=void 0,this._widthSubscription=void 0,this._granularity=void 0,this._granularitySubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._depthFailMaterial=void 0,this._depthFailMaterialSubscription=void 0,this._arcType=void 0,this._arcTypeSubscription=void 0,this._clampToGround=void 0,this._clampToGroundSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._classificationType=void 0,this._classificationTypeSubscription=void 0,this._zIndex=void 0,this._zIndexSubscription=void 0,this.merge(Object(o["a"])(t,o["a"].EMPTY_OBJECT))}Object.defineProperties(l.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(r["a"])("show"),positions:Object(r["a"])("positions"),width:Object(r["a"])("width"),granularity:Object(r["a"])("granularity"),material:Object(s["a"])("material"),depthFailMaterial:Object(s["a"])("depthFailMaterial"),arcType:Object(r["a"])("arcType"),clampToGround:Object(r["a"])("clampToGround"),shadows:Object(r["a"])("shadows"),distanceDisplayCondition:Object(r["a"])("distanceDisplayCondition"),classificationType:Object(r["a"])("classificationType"),zIndex:Object(r["a"])("zIndex")}),l.prototype.clone=function(t){return Object(n["a"])(t)?(t.show=this.show,t.positions=this.positions,t.width=this.width,t.granularity=this.granularity,t.material=this.material,t.depthFailMaterial=this.depthFailMaterial,t.arcType=this.arcType,t.clampToGround=this.clampToGround,t.shadows=this.shadows,t.distanceDisplayCondition=this.distanceDisplayCondition,t.classificationType=this.classificationType,t.zIndex=this.zIndex,t):new l(this)},l.prototype.merge=function(t){this.show=Object(o["a"])(this.show,t.show),this.positions=Object(o["a"])(this.positions,t.positions),this.width=Object(o["a"])(this.width,t.width),this.granularity=Object(o["a"])(this.granularity,t.granularity),this.material=Object(o["a"])(this.material,t.material),this.depthFailMaterial=Object(o["a"])(this.depthFailMaterial,t.depthFailMaterial),this.arcType=Object(o["a"])(this.arcType,t.arcType),this.clampToGround=Object(o["a"])(this.clampToGround,t.clampToGround),this.shadows=Object(o["a"])(this.shadows,t.shadows),this.distanceDisplayCondition=Object(o["a"])(this.distanceDisplayCondition,t.distanceDisplayCondition),this.classificationType=Object(o["a"])(this.classificationType,t.classificationType),this.zIndex=Object(o["a"])(this.zIndex,t.zIndex)},e["a"]=l},"1de7":function(t,e,i){"use strict";var o=i("9201"),n=i("cef5"),a=i("bd8d"),s=i("9541"),r=i("535a"),l=i("2f63"),c=i("7d62"),h=i("aee6"),d=i("77bc"),u=i("21d7"),p=i("d940"),y=i("69e5"),_=i("452d"),g=i("b639"),f=i("bb71"),b=i("31af"),O=i("ac9c"),m=i("509b"),v=i("5a6c"),C=i("a0f5"),j=i("4082"),w=i("63ae"),P=i("2e78"),D=i("c86b"),T=i("2d19"),V=i("b83c"),E=i("984f"),M=i("40b2"),S=i("ea07");const I=new E["a"](0),x={},U=new a["a"],B=new V["a"](a["a"].WHITE),H=new E["a"](!0),A=new E["a"](D["a"].DISABLED),R=new E["a"](new h["a"]),N=new E["a"](v["a"].BOTH);function F(){this.vertexFormat=void 0,this.positions=void 0,this.width=void 0,this.arcType=void 0,this.granularity=void 0}function W(){this.positions=void 0,this.width=void 0,this.arcType=void 0,this.granularity=void 0}function G(t,e){this._entity=t,this._scene=e,this._entitySubscription=t.definitionChanged.addEventListener(G.prototype._onEntityPropertyChanged,this),this._fillEnabled=!1,this._dynamic=!1,this._geometryChanged=new u["a"],this._showProperty=void 0,this._materialProperty=void 0,this._shadowsProperty=void 0,this._distanceDisplayConditionProperty=void 0,this._classificationTypeProperty=void 0,this._depthFailMaterialProperty=void 0,this._geometryOptions=new F,this._groundGeometryOptions=new W,this._id="polyline-"+t.id,this._clampToGround=!1,this._supportsPolylinesOnTerrain=m["a"].supportsPolylinesOnTerrain(e),this._zIndex=0,this._onEntityPropertyChanged(t,"polyline",t.polyline,void 0)}Object.defineProperties(G.prototype,{id:{get:function(){return this._id}},entity:{get:function(){return this._entity}},fillEnabled:{get:function(){return this._fillEnabled}},hasConstantFill:{get:function(){return!this._fillEnabled||!Object(l["a"])(this._entity.availability)&&S["a"].isConstant(this._showProperty)}},fillMaterialProperty:{get:function(){return this._materialProperty}},depthFailMaterialProperty:{get:function(){return this._depthFailMaterialProperty}},outlineEnabled:{value:!1},hasConstantOutline:{value:!0},outlineColorProperty:{value:void 0},shadowsProperty:{get:function(){return this._shadowsProperty}},distanceDisplayConditionProperty:{get:function(){return this._distanceDisplayConditionProperty}},classificationTypeProperty:{get:function(){return this._classificationTypeProperty}},isDynamic:{get:function(){return this._dynamic}},isClosed:{value:!1},geometryChanged:{get:function(){return this._geometryChanged}},arcType:{get:function(){return this._arcType}},clampToGround:{get:function(){return this._clampToGround&&this._supportsPolylinesOnTerrain}},zIndex:{get:function(){return this._zIndex}}}),G.prototype.isOutlineVisible=function(t){return!1},G.prototype.isFilled=function(t){const e=this._entity,i=this._fillEnabled&&e.isAvailable(t)&&this._showProperty.getValue(t);return Object(r["a"])(i,!1)},G.prototype.createFillGeometryInstance=function(t){const e=this._entity,i=e.isAvailable(t),o=new O["a"](i&&e.isShowing&&this._showProperty.getValue(t)),n=this._distanceDisplayConditionProperty.getValue(t),r=d["a"].fromDistanceDisplayCondition(n),c={show:o,distanceDisplayCondition:r};let h;return this._materialProperty instanceof V["a"]&&(Object(l["a"])(this._materialProperty.color)&&(this._materialProperty.color.isConstant||i)&&(h=this._materialProperty.color.getValue(t,U)),Object(l["a"])(h)||(h=a["a"].WHITE),c.color=s["a"].fromColor(h)),this.clampToGround?new p["a"]({id:e,geometry:new y["a"](this._groundGeometryOptions),attributes:c}):(Object(l["a"])(this._depthFailMaterialProperty)&&this._depthFailMaterialProperty instanceof V["a"]&&(Object(l["a"])(this._depthFailMaterialProperty.color)&&(this._depthFailMaterialProperty.color.isConstant||i)&&(h=this._depthFailMaterialProperty.color.getValue(t,U)),Object(l["a"])(h)||(h=a["a"].WHITE),c.depthFailColor=s["a"].fromColor(h)),new p["a"]({id:e,geometry:new f["a"](this._geometryOptions),attributes:c}))},G.prototype.createOutlineGeometryInstance=function(t){},G.prototype.isDestroyed=function(){return!1},G.prototype.destroy=function(){this._entitySubscription(),Object(c["a"])(this)},G.prototype._onEntityPropertyChanged=function(t,e,i,o){if("availability"!==e&&"polyline"!==e)return;const n=this._entity.polyline;if(!Object(l["a"])(n))return void(this._fillEnabled&&(this._fillEnabled=!1,this._geometryChanged.raiseEvent(this)));const a=n.positions,s=n.show;if(Object(l["a"])(s)&&s.isConstant&&!s.getValue(_["a"].MINIMUM_VALUE)||!Object(l["a"])(a))return void(this._fillEnabled&&(this._fillEnabled=!1,this._geometryChanged.raiseEvent(this)));const c=n.zIndex,h=Object(r["a"])(n.material,B),d=h instanceof V["a"];this._materialProperty=h,this._depthFailMaterialProperty=n.depthFailMaterial,this._showProperty=Object(r["a"])(s,H),this._shadowsProperty=Object(r["a"])(n.shadows,A),this._distanceDisplayConditionProperty=Object(r["a"])(n.distanceDisplayCondition,R),this._classificationTypeProperty=Object(r["a"])(n.classificationType,N),this._fillEnabled=!0,this._zIndex=Object(r["a"])(c,I);const u=n.width,p=n.arcType,y=n.clampToGround,f=n.granularity;if(a.isConstant&&S["a"].isConstant(u)&&S["a"].isConstant(p)&&S["a"].isConstant(f)&&S["a"].isConstant(y)&&S["a"].isConstant(c)){const t=this._geometryOptions,e=a.getValue(_["a"].MINIMUM_VALUE,t.positions);if(!Object(l["a"])(e)||e.length<2)return void(this._fillEnabled&&(this._fillEnabled=!1,this._geometryChanged.raiseEvent(this)));let i;i=d&&(!Object(l["a"])(this._depthFailMaterialProperty)||this._depthFailMaterialProperty instanceof V["a"])?w["a"].VERTEX_FORMAT:P["a"].VERTEX_FORMAT,t.vertexFormat=i,t.positions=e,t.width=Object(l["a"])(u)?u.getValue(_["a"].MINIMUM_VALUE):void 0,t.arcType=Object(l["a"])(p)?p.getValue(_["a"].MINIMUM_VALUE):void 0,t.granularity=Object(l["a"])(f)?f.getValue(_["a"].MINIMUM_VALUE):void 0;const o=this._groundGeometryOptions;o.positions=e,o.width=t.width,o.arcType=t.arcType,o.granularity=t.granularity,this._clampToGround=!!Object(l["a"])(y)&&y.getValue(_["a"].MINIMUM_VALUE),!this._clampToGround&&Object(l["a"])(c)&&Object(g["a"])("Entity polylines must have clampToGround: true when using zIndex.  zIndex will be ignored."),this._dynamic=!1,this._geometryChanged.raiseEvent(this)}else this._dynamic||(this._dynamic=!0,this._geometryChanged.raiseEvent(this))},G.prototype.createDynamicUpdater=function(t,e){return new z(t,e,this)};const L={positions:void 0,granularity:void 0,height:void 0,ellipsoid:void 0};function z(t,e,i){this._line=void 0,this._primitives=t,this._groundPrimitives=e,this._groundPolylinePrimitive=void 0,this._material=void 0,this._geometryUpdater=i,this._positions=[]}function q(t){if(Object(l["a"])(t._line))return t._line;const e=t._geometryUpdater._scene.id;let i=x[e];const o=t._primitives;!Object(l["a"])(i)||i.isDestroyed()?(i=new j["a"],x[e]=i,o.add(i)):o.contains(i)||o.add(i);const n=i.add();return n.id=t._geometryUpdater._entity,t._line=n,n}z.prototype.update=function(t){const e=this._geometryUpdater,i=e._entity,n=i.polyline,a=n.positions;let s=S["a"].getValueOrUndefined(a,t,this._positions);e._clampToGround=S["a"].getValueOrDefault(n._clampToGround,t,!1),e._groundGeometryOptions.positions=s,e._groundGeometryOptions.width=S["a"].getValueOrDefault(n._width,t,1),e._groundGeometryOptions.arcType=S["a"].getValueOrDefault(n._arcType,t,o["a"].GEODESIC),e._groundGeometryOptions.granularity=S["a"].getValueOrDefault(n._granularity,t,9999);const r=this._groundPrimitives;if(Object(l["a"])(this._groundPolylinePrimitive)&&(r.remove(this._groundPolylinePrimitive),this._groundPolylinePrimitive=void 0),e.clampToGround){if(!i.isShowing||!i.isAvailable(t)||!S["a"].getValueOrDefault(n._show,t,!0))return;if(!Object(l["a"])(s)||s.length<2)return;const o=e.fillMaterialProperty;let a;if(o instanceof V["a"])a=new w["a"];else{const e=M["a"].getValue(t,o,this._material);a=new P["a"]({material:e,translucent:e.isTranslucent()}),this._material=e}return this._groundPolylinePrimitive=r.add(new C["a"]({geometryInstances:e.createFillGeometryInstance(t),appearance:a,classificationType:e.classificationTypeProperty.getValue(t),asynchronous:!1}),S["a"].getValueOrUndefined(e.zIndex,t)),void(Object(l["a"])(this._line)&&(this._line.show=!1))}const c=q(this);if(!i.isShowing||!i.isAvailable(t)||!S["a"].getValueOrDefault(n._show,t,!0))return void(c.show=!1);if(!Object(l["a"])(s)||s.length<2)return void(c.show=!1);let h=o["a"].GEODESIC;h=S["a"].getValueOrDefault(n._arcType,t,h);const d=e._scene.globe;h!==o["a"].NONE&&Object(l["a"])(d)&&(L.ellipsoid=d.ellipsoid,L.positions=s,L.granularity=S["a"].getValueOrUndefined(n._granularity,t),L.height=b["a"].extractHeights(s,d.ellipsoid),s=h===o["a"].GEODESIC?b["a"].generateCartesianArc(L):b["a"].generateCartesianRhumbArc(L)),c.show=!0,c.positions=s.slice(),c.material=M["a"].getValue(t,e.fillMaterialProperty,c.material),c.width=S["a"].getValueOrDefault(n._width,t,1),c.distanceDisplayCondition=S["a"].getValueOrUndefined(n._distanceDisplayCondition,t,c.distanceDisplayCondition)},z.prototype.getBoundingSphere=function(t){if(this._geometryUpdater.clampToGround){const e=this._groundPolylinePrimitive;if(Object(l["a"])(e)&&e.show&&e.ready){const i=e.getGeometryInstanceAttributes(this._geometryUpdater._entity);if(Object(l["a"])(i)&&Object(l["a"])(i.boundingSphere))return n["a"].clone(i.boundingSphere,t),T["a"].DONE}return Object(l["a"])(e)&&!e.ready?T["a"].PENDING:T["a"].DONE}{const e=q(this);if(e.show&&e.positions.length>0)return n["a"].fromPoints(e.positions,t),T["a"].DONE}return T["a"].FAILED},z.prototype.isDestroyed=function(){return!1},z.prototype.destroy=function(){const t=this._geometryUpdater,e=t._scene.id,i=x[e];Object(l["a"])(i)&&(i.remove(this._line),0===i.length&&(this._primitives.removeAndDestroy(i),delete x[e])),Object(l["a"])(this._groundPolylinePrimitive)&&this._groundPrimitives.remove(this._groundPolylinePrimitive),Object(c["a"])(this)},e["a"]=G},"203c":function(t,e,i){"use strict";var o=i("933b"),n=i("cef5"),a=i("535a"),s=i("2f63"),r=i("7d62"),l=i("5a6c"),c=i("63ae"),h=i("2e78"),d=i("c86b"),u=i("2d19"),p=i("b83c"),y=i("cab1"),_=i("1de7"),g=i("02a7"),f=i("d5c7"),b=i("f293");const O=[];function m(t,e){const i=t._batches,o=i.length;for(let n=0;n<o;n++)i[n].remove(e)}function v(t,e,i){if(i.isDynamic)return void t._dynamicBatch.add(e,i);if(i.clampToGround&&i.fillEnabled){const o=i.classificationTypeProperty.getValue(e);return void t._groundBatches[o].add(e,i)}let o;i.fillEnabled&&(o=i.shadowsProperty.getValue(e));let n,a=0;Object(s["a"])(i.depthFailMaterialProperty)&&(a=i.depthFailMaterialProperty instanceof p["a"]?1:2),Object(s["a"])(o)&&(n=o+a*d["a"].NUMBER_OF_SHADOW_MODES),i.fillEnabled&&(i.fillMaterialProperty instanceof p["a"]?t._colorBatches[n].add(e,i):t._materialBatches[n].add(e,i))}function C(t,e,i,n){let s;n=Object(a["a"])(n,t.groundPrimitives),i=Object(a["a"])(i,t.primitives),this._scene=t,this._primitives=i,this._entityCollection=void 0,this._addedObjects=new o["a"],this._removedObjects=new o["a"],this._changedObjects=new o["a"];const r=d["a"].NUMBER_OF_SHADOW_MODES;for(this._colorBatches=new Array(3*r),this._materialBatches=new Array(3*r),s=0;s<r;++s)this._colorBatches[s]=new g["a"](i,c["a"],void 0,!1,s),this._materialBatches[s]=new f["a"](i,h["a"],void 0,!1,s),this._colorBatches[s+r]=new g["a"](i,c["a"],c["a"],!1,s),this._materialBatches[s+r]=new f["a"](i,h["a"],c["a"],!1,s),this._colorBatches[s+2*r]=new g["a"](i,c["a"],h["a"],!1,s),this._materialBatches[s+2*r]=new f["a"](i,h["a"],h["a"],!1,s);this._dynamicBatch=new y["a"](i,n);const u=l["a"].NUMBER_OF_CLASSIFICATION_TYPES;for(this._groundBatches=new Array(u),s=0;s<u;++s)this._groundBatches[s]=new b["a"](n,s);this._batches=this._colorBatches.concat(this._materialBatches,this._dynamicBatch,this._groundBatches),this._subscriptions=new o["a"],this._updaters=new o["a"],this._entityCollection=e,e.collectionChanged.addEventListener(C.prototype._onCollectionChanged,this),this._onCollectionChanged(e,e.values,O)}C.prototype.update=function(t){const e=this._addedObjects,i=e.values,o=this._removedObjects,n=o.values,a=this._changedObjects,s=a.values;let r,l,c,h;for(r=s.length-1;r>-1;r--)l=s[r],c=l.id,h=this._updaters.get(c),h.entity===l?(m(this,h),v(this,t,h)):(n.push(l),i.push(l));for(r=n.length-1;r>-1;r--)l=n[r],c=l.id,h=this._updaters.get(c),m(this,h),h.destroy(),this._updaters.remove(c),this._subscriptions.get(c)(),this._subscriptions.remove(c);for(r=i.length-1;r>-1;r--)l=i[r],c=l.id,h=new _["a"](l,this._scene),this._updaters.set(c,h),v(this,t,h),this._subscriptions.set(c,h.geometryChanged.addEventListener(C._onGeometryChanged,this));e.removeAll(),o.removeAll(),a.removeAll();let d=!0;const u=this._batches,p=u.length;for(r=0;r<p;r++)d=u[r].update(t)&&d;return d};const j=[],w=new n["a"];C.prototype.getBoundingSphere=function(t,e){const i=j,o=w;let a=0,s=u["a"].DONE;const r=this._batches,l=r.length,c=this._updaters.get(t.id);for(let h=0;h<l;h++){if(s=r[h].getBoundingSphere(c,o),s===u["a"].PENDING)return u["a"].PENDING;s===u["a"].DONE&&(i[a]=n["a"].clone(o,i[a]),a++)}return 0===a?u["a"].FAILED:(i.length=a,n["a"].fromBoundingSpheres(i,e),u["a"].DONE)},C.prototype.isDestroyed=function(){return!1},C.prototype.destroy=function(){let t;this._entityCollection.collectionChanged.removeEventListener(C.prototype._onCollectionChanged,this),this._addedObjects.removeAll(),this._removedObjects.removeAll();const e=this._batches;let i=e.length;for(t=0;t<i;t++)e[t].removeAllPrimitives();const o=this._subscriptions.values;for(i=o.length,t=0;t<i;t++)o[t]();return this._subscriptions.removeAll(),Object(r["a"])(this)},C._onGeometryChanged=function(t){const e=this._removedObjects,i=this._changedObjects,o=t.entity,n=o.id;Object(s["a"])(e.get(n))||Object(s["a"])(i.get(n))||i.set(n,o)},C.prototype._onCollectionChanged=function(t,e,i){const o=this._addedObjects,n=this._removedObjects,a=this._changedObjects;let s,r,l;for(s=i.length-1;s>-1;s--)l=i[s],r=l.id,o.remove(r)||(n.set(r,l),a.remove(r));for(s=e.length-1;s>-1;s--)l=e[s],r=l.id,n.remove(r)?a.set(r,l):o.set(r,l)},e["a"]=C},"4b0e":function(t,e,i){"use strict";var o=i("bd8d"),n=i("9541"),a=i("2f63"),s=i("77bc"),r=i("d940"),l=i("452d"),c=i("af94"),h=i("e53f"),d=i("ac9c"),u=i("d6db"),p=i("3a8e"),y=i("b83c"),_=i("9171"),g=i("3ba2"),f=i("ea07");const b=new o["a"];function O(t){this.id=t,this.vertexFormat=void 0,this.polylinePositions=void 0,this.shapePositions=void 0,this.cornerType=void 0,this.granularity=void 0}function m(t,e){g["a"].call(this,{entity:t,scene:e,geometryOptions:new O(t),geometryPropertyName:"polylineVolume",observedPropertyNames:["availability","polylineVolume"]}),this._onEntityPropertyChanged(t,"polylineVolume",t.polylineVolume,void 0)}function v(t,e,i){_["a"].call(this,t,e,i)}Object(a["a"])(Object.create)&&(m.prototype=Object.create(g["a"].prototype),m.prototype.constructor=m),m.prototype.createFillGeometryInstance=function(t){const e=this._entity,i=e.isAvailable(t);let l,h;const u=new d["a"](i&&e.isShowing&&this._showProperty.getValue(t)&&this._fillProperty.getValue(t)),p=this._distanceDisplayConditionProperty.getValue(t),_=s["a"].fromDistanceDisplayCondition(p);if(this._materialProperty instanceof y["a"]){let e;Object(a["a"])(this._materialProperty.color)&&(this._materialProperty.color.isConstant||i)&&(e=this._materialProperty.color.getValue(t,b)),Object(a["a"])(e)||(e=o["a"].WHITE),h=n["a"].fromColor(e),l={show:u,distanceDisplayCondition:_,color:h}}else l={show:u,distanceDisplayCondition:_};return new r["a"]({id:e,geometry:new c["a"](this._options),attributes:l})},m.prototype.createOutlineGeometryInstance=function(t){const e=this._entity,i=e.isAvailable(t),a=f["a"].getValueOrDefault(this._outlineColorProperty,t,o["a"].BLACK,b),l=this._distanceDisplayConditionProperty.getValue(t);return new r["a"]({id:e,geometry:new h["a"](this._options),attributes:{show:new d["a"](i&&e.isShowing&&this._showProperty.getValue(t)&&this._showOutlineProperty.getValue(t)),color:n["a"].fromColor(a),distanceDisplayCondition:s["a"].fromDistanceDisplayCondition(l)}})},m.prototype._isHidden=function(t,e){return!Object(a["a"])(e.positions)||!Object(a["a"])(e.shape)||g["a"].prototype._isHidden.call(this,t,e)},m.prototype._isDynamic=function(t,e){return!e.positions.isConstant||!e.shape.isConstant||!f["a"].isConstant(e.granularity)||!f["a"].isConstant(e.outlineWidth)||!f["a"].isConstant(e.cornerType)},m.prototype._setStaticOptions=function(t,e){const i=e.granularity,o=e.cornerType,n=this._options,s=this._materialProperty instanceof y["a"];n.vertexFormat=s?p["a"].VERTEX_FORMAT:u["a"].MaterialSupport.TEXTURED.vertexFormat,n.polylinePositions=e.positions.getValue(l["a"].MINIMUM_VALUE,n.polylinePositions),n.shapePositions=e.shape.getValue(l["a"].MINIMUM_VALUE,n.shape),n.granularity=Object(a["a"])(i)?i.getValue(l["a"].MINIMUM_VALUE):void 0,n.cornerType=Object(a["a"])(o)?o.getValue(l["a"].MINIMUM_VALUE):void 0},m.DynamicGeometryUpdater=v,Object(a["a"])(Object.create)&&(v.prototype=Object.create(_["a"].prototype),v.prototype.constructor=v),v.prototype._isHidden=function(t,e,i){const o=this._options;return!Object(a["a"])(o.polylinePositions)||!Object(a["a"])(o.shapePositions)||_["a"].prototype._isHidden.call(this,t,e,i)},v.prototype._setOptions=function(t,e,i){const o=this._options;o.polylinePositions=f["a"].getValueOrUndefined(e.positions,i,o.polylinePositions),o.shapePositions=f["a"].getValueOrUndefined(e.shape,i),o.granularity=f["a"].getValueOrUndefined(e.granularity,i),o.cornerType=f["a"].getValueOrUndefined(e.cornerType,i)},e["a"]=m},6991:function(t,e,i){"use strict";var o=i("bd8d"),n=i("2f63"),a=i("21d7"),s=i("0a43"),r=i("ea07");function l(t){this._definitionChanged=new a["a"],this._color=void 0,this._colorSubscription=void 0,this.color=t}Object.defineProperties(l.prototype,{isConstant:{get:function(){return r["a"].isConstant(this._color)}},definitionChanged:{get:function(){return this._definitionChanged}},color:Object(s["a"])("color")}),l.prototype.getType=function(t){return"PolylineArrow"},l.prototype.getValue=function(t,e){return Object(n["a"])(e)||(e={}),e.color=r["a"].getValueOrClonedDefault(this._color,t,o["a"].WHITE,e.color),e},l.prototype.equals=function(t){return this===t||t instanceof l&&r["a"].equals(this._color,t._color)},e["a"]=l},"7af6":function(t,e,i){"use strict";var o=i("535a"),n=i("2f63"),a=i("21d7"),s=i("eff8"),r=i("7749"),l=i("ea07");function c(t,e){this._value=void 0,this._definitionChanged=new a["a"],this._eventHelper=new s["a"],this._referenceFrame=Object(o["a"])(e,r["a"].FIXED),this.setValue(t)}Object.defineProperties(c.prototype,{isConstant:{get:function(){const t=this._value;if(!Object(n["a"])(t))return!0;const e=t.length;for(let i=0;i<e;i++)if(!l["a"].isConstant(t[i]))return!1;return!0}},definitionChanged:{get:function(){return this._definitionChanged}},referenceFrame:{get:function(){return this._referenceFrame}}}),c.prototype.getValue=function(t,e){return this.getValueInReferenceFrame(t,r["a"].FIXED,e)},c.prototype.getValueInReferenceFrame=function(t,e,i){const o=this._value;if(!Object(n["a"])(o))return;const a=o.length;Object(n["a"])(i)||(i=new Array(a));let s=0,r=0;while(s<a){const a=o[s],l=a.getValueInReferenceFrame(t,e,i[s]);Object(n["a"])(l)&&(i[r]=l,r++),s++}return i.length=r,i},c.prototype.setValue=function(t){const e=this._eventHelper;if(e.removeAll(),Object(n["a"])(t)){this._value=t.slice();const i=t.length;for(let o=0;o<i;o++){const i=t[o];Object(n["a"])(i)&&e.add(i.definitionChanged,c.prototype._raiseDefinitionChanged,this)}}else this._value=void 0;this._definitionChanged.raiseEvent(this)},c.prototype.equals=function(t){return this===t||t instanceof c&&this._referenceFrame===t._referenceFrame&&l["a"].arrayEquals(this._value,t._value)},c.prototype._raiseDefinitionChanged=function(){this._definitionChanged.raiseEvent(this)},e["a"]=c},"7fbb":function(t,e,i){"use strict";var o=i("bd8d"),n=i("535a"),a=i("2f63"),s=i("21d7"),r=i("0a43"),l=i("ea07");const c=o["a"].WHITE,h=o["a"].TRANSPARENT,d=16,u=255;function p(t){t=Object(n["a"])(t,n["a"].EMPTY_OBJECT),this._definitionChanged=new s["a"],this._color=void 0,this._colorSubscription=void 0,this._gapColor=void 0,this._gapColorSubscription=void 0,this._dashLength=void 0,this._dashLengthSubscription=void 0,this._dashPattern=void 0,this._dashPatternSubscription=void 0,this.color=t.color,this.gapColor=t.gapColor,this.dashLength=t.dashLength,this.dashPattern=t.dashPattern}Object.defineProperties(p.prototype,{isConstant:{get:function(){return l["a"].isConstant(this._color)&&l["a"].isConstant(this._gapColor)&&l["a"].isConstant(this._dashLength)&&l["a"].isConstant(this._dashPattern)}},definitionChanged:{get:function(){return this._definitionChanged}},color:Object(r["a"])("color"),gapColor:Object(r["a"])("gapColor"),dashLength:Object(r["a"])("dashLength"),dashPattern:Object(r["a"])("dashPattern")}),p.prototype.getType=function(t){return"PolylineDash"},p.prototype.getValue=function(t,e){return Object(a["a"])(e)||(e={}),e.color=l["a"].getValueOrClonedDefault(this._color,t,c,e.color),e.gapColor=l["a"].getValueOrClonedDefault(this._gapColor,t,h,e.gapColor),e.dashLength=l["a"].getValueOrDefault(this._dashLength,t,d,e.dashLength),e.dashPattern=l["a"].getValueOrDefault(this._dashPattern,t,u,e.dashPattern),e},p.prototype.equals=function(t){return this===t||t instanceof p&&l["a"].equals(this._color,t._color)&&l["a"].equals(this._gapColor,t._gapColor)&&l["a"].equals(this._dashLength,t._dashLength)&&l["a"].equals(this._dashPattern,t._dashPattern)},e["a"]=p},"7fcb":function(t,e,i){"use strict";var o=i("535a"),n=i("2f63"),a=i("21d7"),s=i("dde7"),r=i("0a43");function l(t){this._definitionChanged=new a["a"],this._show=void 0,this._showSubscription=void 0,this._plane=void 0,this._planeSubscription=void 0,this._dimensions=void 0,this._dimensionsSubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this.merge(Object(o["a"])(t,o["a"].EMPTY_OBJECT))}Object.defineProperties(l.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(r["a"])("show"),plane:Object(r["a"])("plane"),dimensions:Object(r["a"])("dimensions"),fill:Object(r["a"])("fill"),material:Object(s["a"])("material"),outline:Object(r["a"])("outline"),outlineColor:Object(r["a"])("outlineColor"),outlineWidth:Object(r["a"])("outlineWidth"),shadows:Object(r["a"])("shadows"),distanceDisplayCondition:Object(r["a"])("distanceDisplayCondition")}),l.prototype.clone=function(t){return Object(n["a"])(t)?(t.show=this.show,t.plane=this.plane,t.dimensions=this.dimensions,t.fill=this.fill,t.material=this.material,t.outline=this.outline,t.outlineColor=this.outlineColor,t.outlineWidth=this.outlineWidth,t.shadows=this.shadows,t.distanceDisplayCondition=this.distanceDisplayCondition,t):new l(this)},l.prototype.merge=function(t){this.show=Object(o["a"])(this.show,t.show),this.plane=Object(o["a"])(this.plane,t.plane),this.dimensions=Object(o["a"])(this.dimensions,t.dimensions),this.fill=Object(o["a"])(this.fill,t.fill),this.material=Object(o["a"])(this.material,t.material),this.outline=Object(o["a"])(this.outline,t.outline),this.outlineColor=Object(o["a"])(this.outlineColor,t.outlineColor),this.outlineWidth=Object(o["a"])(this.outlineWidth,t.outlineWidth),this.shadows=Object(o["a"])(this.shadows,t.shadows),this.distanceDisplayCondition=Object(o["a"])(this.distanceDisplayCondition,t.distanceDisplayCondition)},e["a"]=l},"8f3e":function(t,e,i){"use strict";var o=i("535a"),n=i("2f63"),a=i("21d7"),s=i("dde7"),r=i("0a43");function l(t){this._definitionChanged=new a["a"],this._show=void 0,this._showSubscription=void 0,this._positions=void 0,this._positionsSubscription=void 0,this._shape=void 0,this._shapeSubscription=void 0,this._cornerType=void 0,this._cornerTypeSubscription=void 0,this._granularity=void 0,this._granularitySubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubsription=void 0,this.merge(Object(o["a"])(t,o["a"].EMPTY_OBJECT))}Object.defineProperties(l.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(r["a"])("show"),positions:Object(r["a"])("positions"),shape:Object(r["a"])("shape"),cornerType:Object(r["a"])("cornerType"),granularity:Object(r["a"])("granularity"),fill:Object(r["a"])("fill"),material:Object(s["a"])("material"),outline:Object(r["a"])("outline"),outlineColor:Object(r["a"])("outlineColor"),outlineWidth:Object(r["a"])("outlineWidth"),shadows:Object(r["a"])("shadows"),distanceDisplayCondition:Object(r["a"])("distanceDisplayCondition")}),l.prototype.clone=function(t){return Object(n["a"])(t)?(t.show=this.show,t.positions=this.positions,t.shape=this.shape,t.cornerType=this.cornerType,t.granularity=this.granularity,t.fill=this.fill,t.material=this.material,t.outline=this.outline,t.outlineColor=this.outlineColor,t.outlineWidth=this.outlineWidth,t.shadows=this.shadows,t.distanceDisplayCondition=this.distanceDisplayCondition,t):new l(this)},l.prototype.merge=function(t){this.show=Object(o["a"])(this.show,t.show),this.positions=Object(o["a"])(this.positions,t.positions),this.shape=Object(o["a"])(this.shape,t.shape),this.cornerType=Object(o["a"])(this.cornerType,t.cornerType),this.granularity=Object(o["a"])(this.granularity,t.granularity),this.fill=Object(o["a"])(this.fill,t.fill),this.material=Object(o["a"])(this.material,t.material),this.outline=Object(o["a"])(this.outline,t.outline),this.outlineColor=Object(o["a"])(this.outlineColor,t.outlineColor),this.outlineWidth=Object(o["a"])(this.outlineWidth,t.outlineWidth),this.shadows=Object(o["a"])(this.shadows,t.shadows),this.distanceDisplayCondition=Object(o["a"])(this.distanceDisplayCondition,t.distanceDisplayCondition)},e["a"]=l},"95fe":function(t,e,i){"use strict";var o=i("bd8d"),n=i("535a"),a=i("2f63"),s=i("21d7"),r=i("0a43"),l=i("ea07");const c=o["a"].WHITE,h=o["a"].BLACK,d=1;function u(t){t=Object(n["a"])(t,n["a"].EMPTY_OBJECT),this._definitionChanged=new s["a"],this._color=void 0,this._colorSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this.color=t.color,this.outlineColor=t.outlineColor,this.outlineWidth=t.outlineWidth}Object.defineProperties(u.prototype,{isConstant:{get:function(){return l["a"].isConstant(this._color)&&l["a"].isConstant(this._outlineColor)&&l["a"].isConstant(this._outlineWidth)}},definitionChanged:{get:function(){return this._definitionChanged}},color:Object(r["a"])("color"),outlineColor:Object(r["a"])("outlineColor"),outlineWidth:Object(r["a"])("outlineWidth")}),u.prototype.getType=function(t){return"PolylineOutline"},u.prototype.getValue=function(t,e){return Object(a["a"])(e)||(e={}),e.color=l["a"].getValueOrClonedDefault(this._color,t,c,e.color),e.outlineColor=l["a"].getValueOrClonedDefault(this._outlineColor,t,h,e.outlineColor),e.outlineWidth=l["a"].getValueOrDefault(this._outlineWidth,t,d),e},u.prototype.equals=function(t){return this===t||t instanceof u&&l["a"].equals(this._color,t._color)&&l["a"].equals(this._outlineColor,t._outlineColor)&&l["a"].equals(this._outlineWidth,t._outlineWidth)},e["a"]=u},a796:function(t,e,i){"use strict";var o=i("535a"),n=i("2f63"),a=i("21d7"),s=i("0a43");function r(t){this._definitionChanged=new a["a"],this._show=void 0,this._showSubscription=void 0,this._pixelSize=void 0,this._pixelSizeSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._color=void 0,this._colorSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._scaleByDistance=void 0,this._scaleByDistanceSubscription=void 0,this._translucencyByDistance=void 0,this._translucencyByDistanceSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._disableDepthTestDistance=void 0,this._disableDepthTestDistanceSubscription=void 0,this.merge(Object(o["a"])(t,o["a"].EMPTY_OBJECT))}Object.defineProperties(r.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(s["a"])("show"),pixelSize:Object(s["a"])("pixelSize"),heightReference:Object(s["a"])("heightReference"),color:Object(s["a"])("color"),outlineColor:Object(s["a"])("outlineColor"),outlineWidth:Object(s["a"])("outlineWidth"),scaleByDistance:Object(s["a"])("scaleByDistance"),translucencyByDistance:Object(s["a"])("translucencyByDistance"),distanceDisplayCondition:Object(s["a"])("distanceDisplayCondition"),disableDepthTestDistance:Object(s["a"])("disableDepthTestDistance")}),r.prototype.clone=function(t){return Object(n["a"])(t)?(t.show=this.show,t.pixelSize=this.pixelSize,t.heightReference=this.heightReference,t.color=this.color,t.outlineColor=this.outlineColor,t.outlineWidth=this.outlineWidth,t.scaleByDistance=this.scaleByDistance,t.translucencyByDistance=this._translucencyByDistance,t.distanceDisplayCondition=this.distanceDisplayCondition,t.disableDepthTestDistance=this.disableDepthTestDistance,t):new r(this)},r.prototype.merge=function(t){this.show=Object(o["a"])(this.show,t.show),this.pixelSize=Object(o["a"])(this.pixelSize,t.pixelSize),this.heightReference=Object(o["a"])(this.heightReference,t.heightReference),this.color=Object(o["a"])(this.color,t.color),this.outlineColor=Object(o["a"])(this.outlineColor,t.outlineColor),this.outlineWidth=Object(o["a"])(this.outlineWidth,t.outlineWidth),this.scaleByDistance=Object(o["a"])(this.scaleByDistance,t.scaleByDistance),this.translucencyByDistance=Object(o["a"])(this._translucencyByDistance,t.translucencyByDistance),this.distanceDisplayCondition=Object(o["a"])(this.distanceDisplayCondition,t.distanceDisplayCondition),this.disableDepthTestDistance=Object(o["a"])(this.disableDepthTestDistance,t.disableDepthTestDistance)},e["a"]=r},b14a:function(t,e,i){"use strict";var o=i("bd8d"),n=i("535a"),a=i("2f63"),s=i("21d7"),r=i("0a43"),l=i("ea07");const c=o["a"].WHITE,h=.25,d=1;function u(t){t=Object(n["a"])(t,n["a"].EMPTY_OBJECT),this._definitionChanged=new s["a"],this._color=void 0,this._colorSubscription=void 0,this._glowPower=void 0,this._glowPowerSubscription=void 0,this._taperPower=void 0,this._taperPowerSubscription=void 0,this.color=t.color,this.glowPower=t.glowPower,this.taperPower=t.taperPower}Object.defineProperties(u.prototype,{isConstant:{get:function(){return l["a"].isConstant(this._color)&&l["a"].isConstant(this._glow)}},definitionChanged:{get:function(){return this._definitionChanged}},color:Object(r["a"])("color"),glowPower:Object(r["a"])("glowPower"),taperPower:Object(r["a"])("taperPower")}),u.prototype.getType=function(t){return"PolylineGlow"},u.prototype.getValue=function(t,e){return Object(a["a"])(e)||(e={}),e.color=l["a"].getValueOrClonedDefault(this._color,t,c,e.color),e.glowPower=l["a"].getValueOrDefault(this._glowPower,t,h,e.glowPower),e.taperPower=l["a"].getValueOrDefault(this._taperPower,t,d,e.taperPower),e},u.prototype.equals=function(t){return this===t||t instanceof u&&l["a"].equals(this._color,t._color)&&l["a"].equals(this._glowPower,t._glowPower)&&l["a"].equals(this._taperPower,t._taperPower)},e["a"]=u},b4c8:function(t,e,i){"use strict";var o=i("933b"),n=i("be18"),a=i("bd8d"),s=i("2f63"),r=i("7d62"),l=i("aee6"),c=i("6dfc"),h=i("add9"),d=i("2d75"),u=i("2d19"),p=i("ea07");const y=a["a"].WHITE,_=a["a"].BLACK,g=0,f=1,b=0,O=new a["a"],m=new n["a"],v=new a["a"],C=new c["a"],j=new c["a"],w=new l["a"];function P(t){this.entity=t,this.pointPrimitive=void 0,this.billboard=void 0,this.color=void 0,this.outlineColor=void 0,this.pixelSize=void 0,this.outlineWidth=void 0}function D(t,e){e.collectionChanged.addEventListener(D.prototype._onCollectionChanged,this),this._cluster=t,this._entityCollection=e,this._items=new o["a"],this._onCollectionChanged(e,e.values,[],[])}function T(t,e,i){if(Object(s["a"])(t)){const o=t.pointPrimitive;if(Object(s["a"])(o))return t.pointPrimitive=void 0,void i.removePoint(e);const n=t.billboard;Object(s["a"])(n)&&(t.billboard=void 0,i.removeBillboard(e))}}D.prototype.update=function(t){const e=this._items.values,i=this._cluster;for(let o=0,r=e.length;o<r;o++){const r=e[o],l=r.entity,c=l._point;let u=r.pointPrimitive,P=r.billboard;const D=p["a"].getValueOrDefault(c._heightReference,t,d["a"].NONE);let V,E=l.isShowing&&l.isAvailable(t)&&p["a"].getValueOrDefault(c._show,t,!0);if(E&&(V=p["a"].getValueOrUndefined(l._position,t,m),E=Object(s["a"])(V)),!E){T(r,l,i);continue}p["a"].isConstant(l._position)||(i._clusterDirty=!0);let M=!1,S=!1;if(D===d["a"].NONE||Object(s["a"])(P)?D!==d["a"].NONE||Object(s["a"])(u)||(Object(s["a"])(P)&&(T(r,l,i),P=void 0),u=i.getPoint(l),u.id=l,r.pointPrimitive=u):(Object(s["a"])(u)&&(T(r,l,i),u=void 0),P=i.getBillboard(l),P.id=l,P.image=void 0,r.billboard=P,M=!0,S=n["a"].equals(P.position,V)&&P.heightReference===D),Object(s["a"])(u))u.show=!0,u.position=V,u.scaleByDistance=p["a"].getValueOrUndefined(c._scaleByDistance,t,C),u.translucencyByDistance=p["a"].getValueOrUndefined(c._translucencyByDistance,t,j),u.color=p["a"].getValueOrDefault(c._color,t,y,O),u.outlineColor=p["a"].getValueOrDefault(c._outlineColor,t,_,v),u.outlineWidth=p["a"].getValueOrDefault(c._outlineWidth,t,g),u.pixelSize=p["a"].getValueOrDefault(c._pixelSize,t,f),u.distanceDisplayCondition=p["a"].getValueOrUndefined(c._distanceDisplayCondition,t,w),u.disableDepthTestDistance=p["a"].getValueOrDefault(c._disableDepthTestDistance,t,b);else if(Object(s["a"])(P)){P.show=!0,P.position=V,P.scaleByDistance=p["a"].getValueOrUndefined(c._scaleByDistance,t,C),P.translucencyByDistance=p["a"].getValueOrUndefined(c._translucencyByDistance,t,j),P.distanceDisplayCondition=p["a"].getValueOrUndefined(c._distanceDisplayCondition,t,w),P.disableDepthTestDistance=p["a"].getValueOrDefault(c._disableDepthTestDistance,t,b),P.heightReference=D;const e=p["a"].getValueOrDefault(c._color,t,y,O),i=p["a"].getValueOrDefault(c._outlineColor,t,_,v),o=Math.round(p["a"].getValueOrDefault(c._outlineWidth,t,g));let n=Math.max(1,Math.round(p["a"].getValueOrDefault(c._pixelSize,t,f)));if(o>0?(P.scale=1,M=M||o!==r.outlineWidth||n!==r.pixelSize||!a["a"].equals(e,r.color)||!a["a"].equals(i,r.outlineColor)):(P.scale=n/50,n=50,M=M||o!==r.outlineWidth||!a["a"].equals(e,r.color)||!a["a"].equals(i,r.outlineColor)),M){r.color=a["a"].clone(e,r.color),r.outlineColor=a["a"].clone(i,r.outlineColor),r.pixelSize=n,r.outlineWidth=o;const t=e.alpha,s=e.toCssColorString(),l=i.toCssColorString(),c=JSON.stringify([s,n,l,o]);P.setImage(c,Object(h["a"])(t,s,l,o,n))}S&&P._updateClamping()}}return!0},D.prototype.getBoundingSphere=function(t,e){const i=this._items.get(t.id);if(!Object(s["a"])(i)||!Object(s["a"])(i.pointPrimitive)&&!Object(s["a"])(i.billboard))return u["a"].FAILED;if(Object(s["a"])(i.pointPrimitive))e.center=n["a"].clone(i.pointPrimitive.position,e.center);else{const t=i.billboard;if(!Object(s["a"])(t._clampedPosition))return u["a"].PENDING;e.center=n["a"].clone(t._clampedPosition,e.center)}return e.radius=0,u["a"].DONE},D.prototype.isDestroyed=function(){return!1},D.prototype.destroy=function(){this._entityCollection.collectionChanged.removeEventListener(D.prototype._onCollectionChanged,this);const t=this._entityCollection.values;for(let e=0;e<t.length;e++)this._cluster.removePoint(t[e]);return Object(r["a"])(this)},D.prototype._onCollectionChanged=function(t,e,i,o){let n,a;const r=this._items,l=this._cluster;for(n=e.length-1;n>-1;n--)a=e[n],Object(s["a"])(a._point)&&Object(s["a"])(a._position)&&r.set(a.id,new P(a));for(n=o.length-1;n>-1;n--)a=o[n],Object(s["a"])(a._point)&&Object(s["a"])(a._position)?r.contains(a.id)||r.set(a.id,new P(a)):(T(r.get(a.id),a,l),r.remove(a.id));for(n=i.length-1;n>-1;n--)a=i[n],T(r.get(a.id),a,l),r.remove(a.id)},e["a"]=D},ba13:function(t,e,i){"use strict";var o=i("dd06"),n=i("9201"),a=i("670c"),s=i("be18"),r=i("bd8d"),l=i("9541"),c=i("2dd7"),h=i("9a9c"),d=i("2f63"),u=i("77bc"),p=i("a3bd"),y=i("d940"),_=i("452d"),g=i("c2eb"),f=i("b639"),b=i("4914"),O=i("7bf4"),m=i("eace"),v=i("ac9c"),C=i("2d75"),j=i("d6db"),w=i("3a8e"),P=i("b83c"),D=i("9171"),T=i("3ba2"),V=i("c6e8"),E=i("ea07");const M="Entity polygons cannot have both height and perPositionHeight.  height will be ignored",S="heightReference is not supported for entity polygons with perPositionHeight. heightReference will be ignored",I=new r["a"],x=s["a"].ZERO,U=new s["a"],B=new m["a"],H=[],A=new a["a"];function R(t){this.id=t,this.vertexFormat=void 0,this.polygonHierarchy=void 0,this.perPositionHeight=void 0,this.closeTop=void 0,this.closeBottom=void 0,this.height=void 0,this.extrudedHeight=void 0,this.granularity=void 0,this.stRotation=void 0,this.offsetAttribute=void 0,this.arcType=void 0}function N(t,e){V["a"].call(this,{entity:t,scene:e,geometryOptions:new R(t),geometryPropertyName:"polygon",observedPropertyNames:["availability","polygon"]}),this._onEntityPropertyChanged(t,"polygon",t.polygon,void 0)}function F(t,e,i){D["a"].call(this,t,e,i)}Object(d["a"])(Object.create)&&(N.prototype=Object.create(V["a"].prototype),N.prototype.constructor=N),N.prototype.createFillGeometryInstance=function(t){const e=this._entity,i=e.isAvailable(t),o=this._options,n={show:new v["a"](i&&e.isShowing&&this._showProperty.getValue(t)&&this._fillProperty.getValue(t)),distanceDisplayCondition:u["a"].fromDistanceDisplayCondition(this._distanceDisplayConditionProperty.getValue(t)),offset:void 0,color:void 0};if(this._materialProperty instanceof P["a"]){let e;Object(d["a"])(this._materialProperty.color)&&(this._materialProperty.color.isConstant||i)&&(e=this._materialProperty.color.getValue(t,I)),Object(d["a"])(e)||(e=r["a"].WHITE),n.color=l["a"].fromColor(e)}let a;return Object(d["a"])(o.offsetAttribute)&&(n.offset=g["a"].fromCartesian3(E["a"].getValueOrDefault(this._terrainOffsetProperty,t,x,U))),a=o.perPositionHeight&&!Object(d["a"])(o.extrudedHeight)?new c["a"](o):new b["a"](o),new y["a"]({id:e,geometry:a,attributes:n})},N.prototype.createOutlineGeometryInstance=function(t){const e=this._entity,i=e.isAvailable(t),o=this._options,n=E["a"].getValueOrDefault(this._outlineColorProperty,t,r["a"].BLACK,I),a=this._distanceDisplayConditionProperty.getValue(t),s={show:new v["a"](i&&e.isShowing&&this._showProperty.getValue(t)&&this._showOutlineProperty.getValue(t)),color:l["a"].fromColor(n),distanceDisplayCondition:u["a"].fromDistanceDisplayCondition(a),offset:void 0};let c;return Object(d["a"])(o.offsetAttribute)&&(s.offset=g["a"].fromCartesian3(E["a"].getValueOrDefault(this._terrainOffsetProperty,t,x,U))),c=o.perPositionHeight&&!Object(d["a"])(o.extrudedHeight)?new h["a"](o):new O["a"](o),new y["a"]({id:e,geometry:c,attributes:s})},N.prototype._computeCenter=function(t,e){const i=E["a"].getValueOrUndefined(this._entity.polygon.hierarchy,t);if(!Object(d["a"])(i))return;const o=i.positions;if(0===o.length)return;const n=this._scene.mapProjection.ellipsoid,s=p["a"].fromPoints(o,n),r=s.projectPointsOntoPlane(o,H),l=r.length;let c=0,h=l-1,u=new a["a"];for(let d=0;d<l;h=d++){const t=r[d],e=r[h],i=t.x*e.y-e.x*t.y;let o=a["a"].add(t,e,A);o=a["a"].multiplyByScalar(o,i,o),u=a["a"].add(u,o,u),c+=i}const y=1/(3*c);return u=a["a"].multiplyByScalar(u,y,u),s.projectPointOntoEllipsoid(u,e)},N.prototype._isHidden=function(t,e){return!Object(d["a"])(e.hierarchy)||T["a"].prototype._isHidden.call(this,t,e)},N.prototype._isOnTerrain=function(t,e){const i=V["a"].prototype._isOnTerrain.call(this,t,e),o=e.perPositionHeight,n=Object(d["a"])(o)&&(!o.isConstant||o.getValue(_["a"].MINIMUM_VALUE));return i&&!n},N.prototype._isDynamic=function(t,e){return!e.hierarchy.isConstant||!E["a"].isConstant(e.height)||!E["a"].isConstant(e.extrudedHeight)||!E["a"].isConstant(e.granularity)||!E["a"].isConstant(e.stRotation)||!E["a"].isConstant(e.outlineWidth)||!E["a"].isConstant(e.perPositionHeight)||!E["a"].isConstant(e.closeTop)||!E["a"].isConstant(e.closeBottom)||!E["a"].isConstant(e.zIndex)||!E["a"].isConstant(e.arcType)||this._onTerrain&&!E["a"].isConstant(this._materialProperty)&&!(this._materialProperty instanceof P["a"])},N.prototype._setStaticOptions=function(t,e){const i=this._materialProperty instanceof P["a"],a=this._options;a.vertexFormat=i?w["a"].VERTEX_FORMAT:j["a"].MaterialSupport.TEXTURED.vertexFormat;const s=e.hierarchy.getValue(_["a"].MINIMUM_VALUE);let r=E["a"].getValueOrUndefined(e.height,_["a"].MINIMUM_VALUE);const l=E["a"].getValueOrDefault(e.heightReference,_["a"].MINIMUM_VALUE,C["a"].NONE);let c=E["a"].getValueOrUndefined(e.extrudedHeight,_["a"].MINIMUM_VALUE);const h=E["a"].getValueOrDefault(e.extrudedHeightReference,_["a"].MINIMUM_VALUE,C["a"].NONE),u=E["a"].getValueOrDefault(e.perPositionHeight,_["a"].MINIMUM_VALUE,!1);let p;r=V["a"].getGeometryHeight(r,l),u?(Object(d["a"])(r)&&(r=void 0,Object(f["a"])(M)),l!==C["a"].NONE&&u&&(r=void 0,Object(f["a"])(S))):(Object(d["a"])(c)&&!Object(d["a"])(r)&&(r=0),p=V["a"].computeGeometryOffsetAttribute(r,l,c,h)),a.polygonHierarchy=s,a.granularity=E["a"].getValueOrUndefined(e.granularity,_["a"].MINIMUM_VALUE),a.stRotation=E["a"].getValueOrUndefined(e.stRotation,_["a"].MINIMUM_VALUE),a.perPositionHeight=u,a.closeTop=E["a"].getValueOrDefault(e.closeTop,_["a"].MINIMUM_VALUE,!0),a.closeBottom=E["a"].getValueOrDefault(e.closeBottom,_["a"].MINIMUM_VALUE,!0),a.offsetAttribute=p,a.height=r,a.arcType=E["a"].getValueOrDefault(e.arcType,_["a"].MINIMUM_VALUE,n["a"].GEODESIC),c=V["a"].getGeometryExtrudedHeight(c,h),c===V["a"].CLAMP_TO_GROUND&&(c=o["a"].getMinimumMaximumHeights(b["a"].computeRectangle(a,B)).minimumTerrainHeight),a.extrudedHeight=c},N.prototype._getIsClosed=function(t){const e=t.height,i=t.extrudedHeight,o=Object(d["a"])(i)&&i!==e;return!t.perPositionHeight&&(!o&&0===e||o&&t.closeTop&&t.closeBottom)},N.DynamicGeometryUpdater=F,Object(d["a"])(Object.create)&&(F.prototype=Object.create(D["a"].prototype),F.prototype.constructor=F),F.prototype._isHidden=function(t,e,i){return!Object(d["a"])(this._options.polygonHierarchy)||D["a"].prototype._isHidden.call(this,t,e,i)},F.prototype._setOptions=function(t,e,i){const a=this._options;a.polygonHierarchy=E["a"].getValueOrUndefined(e.hierarchy,i);let s=E["a"].getValueOrUndefined(e.height,i);const r=E["a"].getValueOrDefault(e.heightReference,i,C["a"].NONE),l=E["a"].getValueOrDefault(e.extrudedHeightReference,i,C["a"].NONE);let c=E["a"].getValueOrUndefined(e.extrudedHeight,i);const h=E["a"].getValueOrUndefined(e.perPositionHeight,i);let u;s=V["a"].getGeometryHeight(s,l),h?(Object(d["a"])(s)&&(s=void 0,Object(f["a"])(M)),r!==C["a"].NONE&&h&&(s=void 0,Object(f["a"])(S))):(Object(d["a"])(c)&&!Object(d["a"])(s)&&(s=0),u=V["a"].computeGeometryOffsetAttribute(s,r,c,l)),a.granularity=E["a"].getValueOrUndefined(e.granularity,i),a.stRotation=E["a"].getValueOrUndefined(e.stRotation,i),a.perPositionHeight=E["a"].getValueOrUndefined(e.perPositionHeight,i),a.closeTop=E["a"].getValueOrDefault(e.closeTop,i,!0),a.closeBottom=E["a"].getValueOrDefault(e.closeBottom,i,!0),a.offsetAttribute=u,a.height=s,a.arcType=E["a"].getValueOrDefault(e.arcType,i,n["a"].GEODESIC),c=V["a"].getGeometryExtrudedHeight(c,l),c===V["a"].CLAMP_TO_GROUND&&(c=o["a"].getMinimumMaximumHeights(b["a"].computeRectangle(a,B)).minimumTerrainHeight),a.extrudedHeight=c},e["a"]=N},be67:function(t,e,i){"use strict";var o=i("be18"),n=i("bd8d"),a=i("9541"),s=i("2f63"),r=i("77bc"),l=i("d940"),c=i("452d"),h=i("93da"),d=i("df07"),u=i("52f0"),p=i("2105"),y=i("b999"),_=i("ac9c"),g=i("d6db"),f=i("3a8e"),b=i("b83c"),O=i("9171"),m=i("3ba2"),v=i("ea07");const C=new o["a"],j=new n["a"];function w(t){this.id=t,this.vertexFormat=void 0,this.plane=void 0,this.dimensions=void 0}function P(t,e){m["a"].call(this,{entity:t,scene:e,geometryOptions:new w(t),geometryPropertyName:"plane",observedPropertyNames:["availability","position","orientation","plane"]}),this._onEntityPropertyChanged(t,"plane",t.plane,void 0)}function D(t,e,i){O["a"].call(this,t,e,i)}Object(s["a"])(Object.create)&&(P.prototype=Object.create(m["a"].prototype),P.prototype.constructor=P),P.prototype.createFillGeometryInstance=function(t){const e=this._entity,i=e.isAvailable(t);let o,c;const h=new _["a"](i&&e.isShowing&&this._showProperty.getValue(t)&&this._fillProperty.getValue(t)),d=this._distanceDisplayConditionProperty.getValue(t),u=r["a"].fromDistanceDisplayCondition(d);if(this._materialProperty instanceof b["a"]){let e;Object(s["a"])(this._materialProperty.color)&&(this._materialProperty.color.isConstant||i)&&(e=this._materialProperty.color.getValue(t,j)),Object(s["a"])(e)||(e=n["a"].WHITE),c=a["a"].fromColor(e),o={show:h,distanceDisplayCondition:u,color:c}}else o={show:h,distanceDisplayCondition:u};const y=e.plane,g=this._options;let f=e.computeModelMatrix(t);const O=v["a"].getValueOrDefault(y.plane,t,g.plane),m=v["a"].getValueOrUndefined(y.dimensions,t,g.dimensions);return g.plane=O,g.dimensions=m,f=U(O,m,f,f),new l["a"]({id:e,geometry:new p["a"](this._options),modelMatrix:f,attributes:o})},P.prototype.createOutlineGeometryInstance=function(t){const e=this._entity,i=e.isAvailable(t),o=v["a"].getValueOrDefault(this._outlineColorProperty,t,n["a"].BLACK,j),s=this._distanceDisplayConditionProperty.getValue(t),c=e.plane,h=this._options;let d=e.computeModelMatrix(t);const u=v["a"].getValueOrDefault(c.plane,t,h.plane),p=v["a"].getValueOrUndefined(c.dimensions,t,h.dimensions);return h.plane=u,h.dimensions=p,d=U(u,p,d,d),new l["a"]({id:e,geometry:new y["a"],modelMatrix:d,attributes:{show:new _["a"](i&&e.isShowing&&this._showProperty.getValue(t)&&this._showOutlineProperty.getValue(t)),color:a["a"].fromColor(o),distanceDisplayCondition:r["a"].fromDistanceDisplayCondition(s)}})},P.prototype._isHidden=function(t,e){return!Object(s["a"])(e.plane)||!Object(s["a"])(e.dimensions)||!Object(s["a"])(t.position)||m["a"].prototype._isHidden.call(this,t,e)},P.prototype._getIsClosed=function(t){return!1},P.prototype._isDynamic=function(t,e){return!t.position.isConstant||!v["a"].isConstant(t.orientation)||!e.plane.isConstant||!e.dimensions.isConstant||!v["a"].isConstant(e.outlineWidth)},P.prototype._setStaticOptions=function(t,e){const i=this._materialProperty instanceof b["a"],o=this._options;o.vertexFormat=i?f["a"].VERTEX_FORMAT:g["a"].MaterialSupport.TEXTURED.vertexFormat,o.plane=e.plane.getValue(c["a"].MINIMUM_VALUE,o.plane),o.dimensions=e.dimensions.getValue(c["a"].MINIMUM_VALUE,o.dimensions)},P.DynamicGeometryUpdater=D,Object(s["a"])(Object.create)&&(D.prototype=Object.create(O["a"].prototype),D.prototype.constructor=D),D.prototype._isHidden=function(t,e,i){const o=this._options,n=v["a"].getValueOrUndefined(t.position,i,C);return!Object(s["a"])(n)||!Object(s["a"])(o.plane)||!Object(s["a"])(o.dimensions)||O["a"].prototype._isHidden.call(this,t,e,i)},D.prototype._setOptions=function(t,e,i){const o=this._options;o.plane=v["a"].getValueOrDefault(e.plane,i,o.plane),o.dimensions=v["a"].getValueOrUndefined(e.dimensions,i,o.dimensions)};const T=new o["a"],V=new o["a"],E=new o["a"],M=new o["a"],S=new d["a"],I=new d["a"],x=new u["a"];function U(t,e,i,n){const a=t.normal,s=t.distance,r=o["a"].multiplyByScalar(a,-s,E);let l=o["a"].clone(o["a"].UNIT_Z,V);h["a"].equalsEpsilon(Math.abs(o["a"].dot(l,a)),1,h["a"].EPSILON8)&&(l=o["a"].clone(o["a"].UNIT_Y,l));const c=o["a"].cross(l,a,T);l=o["a"].cross(a,c,l),o["a"].normalize(c,c),o["a"].normalize(l,l);const p=S;d["a"].setColumn(p,0,c,p),d["a"].setColumn(p,1,l,p),d["a"].setColumn(p,2,a,p);const y=o["a"].fromElements(e.x,e.y,1,M),_=d["a"].multiplyByScale(p,y,I),g=u["a"].fromRotationTranslation(_,r,x);return u["a"].multiplyTransformation(i,g,n)}P.createPrimitiveMatrix=U,e["a"]=P},c21f:function(t,e,i){"use strict";var o=i("be18"),n=i("2f63"),a=i("4f04"),s=i("df07"),r=i("7749"),l=i("f806");function c(){a["a"].throwInstantiationError()}Object.defineProperties(c.prototype,{isConstant:{get:a["a"].throwInstantiationError},definitionChanged:{get:a["a"].throwInstantiationError},referenceFrame:{get:a["a"].throwInstantiationError}}),c.prototype.getValue=a["a"].throwInstantiationError,c.prototype.getValueInReferenceFrame=a["a"].throwInstantiationError,c.prototype.equals=a["a"].throwInstantiationError;const h=new s["a"];c.convertToReferenceFrame=function(t,e,i,a,c){if(!Object(n["a"])(e))return e;if(Object(n["a"])(c)||(c=new o["a"]),i===a)return o["a"].clone(e,c);let d=l["a"].computeIcrfToFixedMatrix(t,h);return Object(n["a"])(d)||(d=l["a"].computeTemeToPseudoFixedMatrix(t,h)),i===r["a"].INERTIAL?s["a"].multiplyByVector(d,e,c):i===r["a"].FIXED?s["a"].multiplyByVector(s["a"].transpose(d,h),e,c):void 0},e["a"]=c},d9c4:function(t,e,i){"use strict";var o=i("535a"),n=i("2f63"),a=i("21d7"),s=i("1757"),r=i("984f"),l=i("dde7"),c=i("0a43");function h(t){return Array.isArray(t)&&(t=new s["a"](t)),new r["a"](t)}function d(t){this._definitionChanged=new a["a"],this._show=void 0,this._showSubscription=void 0,this._hierarchy=void 0,this._hierarchySubscription=void 0,this._height=void 0,this._heightSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._extrudedHeight=void 0,this._extrudedHeightSubscription=void 0,this._extrudedHeightReference=void 0,this._extrudedHeightReferenceSubscription=void 0,this._stRotation=void 0,this._stRotationSubscription=void 0,this._granularity=void 0,this._granularitySubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._perPositionHeight=void 0,this._perPositionHeightSubscription=void 0,this._closeTop=void 0,this._closeTopSubscription=void 0,this._closeBottom=void 0,this._closeBottomSubscription=void 0,this._arcType=void 0,this._arcTypeSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._classificationType=void 0,this._classificationTypeSubscription=void 0,this._zIndex=void 0,this._zIndexSubscription=void 0,this.merge(Object(o["a"])(t,o["a"].EMPTY_OBJECT))}Object.defineProperties(d.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(c["a"])("show"),hierarchy:Object(c["a"])("hierarchy",void 0,h),height:Object(c["a"])("height"),heightReference:Object(c["a"])("heightReference"),extrudedHeight:Object(c["a"])("extrudedHeight"),extrudedHeightReference:Object(c["a"])("extrudedHeightReference"),stRotation:Object(c["a"])("stRotation"),granularity:Object(c["a"])("granularity"),fill:Object(c["a"])("fill"),material:Object(l["a"])("material"),outline:Object(c["a"])("outline"),outlineColor:Object(c["a"])("outlineColor"),outlineWidth:Object(c["a"])("outlineWidth"),perPositionHeight:Object(c["a"])("perPositionHeight"),closeTop:Object(c["a"])("closeTop"),closeBottom:Object(c["a"])("closeBottom"),arcType:Object(c["a"])("arcType"),shadows:Object(c["a"])("shadows"),distanceDisplayCondition:Object(c["a"])("distanceDisplayCondition"),classificationType:Object(c["a"])("classificationType"),zIndex:Object(c["a"])("zIndex")}),d.prototype.clone=function(t){return Object(n["a"])(t)?(t.show=this.show,t.hierarchy=this.hierarchy,t.height=this.height,t.heightReference=this.heightReference,t.extrudedHeight=this.extrudedHeight,t.extrudedHeightReference=this.extrudedHeightReference,t.stRotation=this.stRotation,t.granularity=this.granularity,t.fill=this.fill,t.material=this.material,t.outline=this.outline,t.outlineColor=this.outlineColor,t.outlineWidth=this.outlineWidth,t.perPositionHeight=this.perPositionHeight,t.closeTop=this.closeTop,t.closeBottom=this.closeBottom,t.arcType=this.arcType,t.shadows=this.shadows,t.distanceDisplayCondition=this.distanceDisplayCondition,t.classificationType=this.classificationType,t.zIndex=this.zIndex,t):new d(this)},d.prototype.merge=function(t){this.show=Object(o["a"])(this.show,t.show),this.hierarchy=Object(o["a"])(this.hierarchy,t.hierarchy),this.height=Object(o["a"])(this.height,t.height),this.heightReference=Object(o["a"])(this.heightReference,t.heightReference),this.extrudedHeight=Object(o["a"])(this.extrudedHeight,t.extrudedHeight),this.extrudedHeightReference=Object(o["a"])(this.extrudedHeightReference,t.extrudedHeightReference),this.stRotation=Object(o["a"])(this.stRotation,t.stRotation),this.granularity=Object(o["a"])(this.granularity,t.granularity),this.fill=Object(o["a"])(this.fill,t.fill),this.material=Object(o["a"])(this.material,t.material),this.outline=Object(o["a"])(this.outline,t.outline),this.outlineColor=Object(o["a"])(this.outlineColor,t.outlineColor),this.outlineWidth=Object(o["a"])(this.outlineWidth,t.outlineWidth),this.perPositionHeight=Object(o["a"])(this.perPositionHeight,t.perPositionHeight),this.closeTop=Object(o["a"])(this.closeTop,t.closeTop),this.closeBottom=Object(o["a"])(this.closeBottom,t.closeBottom),this.arcType=Object(o["a"])(this.arcType,t.arcType),this.shadows=Object(o["a"])(this.shadows,t.shadows),this.distanceDisplayCondition=Object(o["a"])(this.distanceDisplayCondition,t.distanceDisplayCondition),this.classificationType=Object(o["a"])(this.classificationType,t.classificationType),this.zIndex=Object(o["a"])(this.zIndex,t.zIndex)},e["a"]=d}}]);