(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Cesium~be05483c"],{"091c":function(e,t,i){"use strict";var n=i("933b"),o=i("be18"),a=i("2f63"),s=i("7d62"),r=i("5ed2"),l=i("df07"),c=i("52f0"),d=i("7749"),u=i("ea72"),h=i("f806"),p=i("4082"),f=i("a307"),m=i("fef5"),b=i("2bbe"),O=i("40b2"),g=i("ea07"),j=i("1142"),_=i("2198"),y=i("d607"),v=i("a435");const w=60,x=1,k=new u["a"],C=new u["a"],T=new u["a"];function S(e){this.entity=e,this.polyline=void 0,this.index=void 0,this.updater=void 0}function E(e,t,i,n,o,s,l,c,d){let u,h=c;u=e.getValueInReferenceFrame(t,s,d[h]),Object(a["a"])(u)&&(d[h++]=u);let p=!Object(a["a"])(o)||r["a"].lessThanOrEquals(o,t)||r["a"].greaterThanOrEquals(o,i),f=0;const m=n.length;let b=n[f];const O=i;let g,j,_,y=!1;while(f<m){if(!p&&r["a"].greaterThanOrEquals(b,o)&&(u=e.getValueInReferenceFrame(o,s,d[h]),Object(a["a"])(u)&&(d[h++]=u),p=!0),r["a"].greaterThan(b,t)&&r["a"].lessThan(b,O)&&!b.equals(o)&&(u=e.getValueInReferenceFrame(b,s,d[h]),Object(a["a"])(u)&&(d[h++]=u)),f<m-1){if(l>0&&!y){const e=n[f+1],t=r["a"].secondsDifference(e,b);y=t>l,y&&(g=Math.ceil(t/l),j=0,_=t/Math.max(g,2),g=Math.max(g-1,1))}if(y&&j<g){b=r["a"].addSeconds(b,_,new r["a"]),j++;continue}}y=!1,f++,b=n[f]}return u=e.getValueInReferenceFrame(i,s,d[h]),Object(a["a"])(u)&&(d[h++]=u),h}function D(e,t,i,n,o,s,l,c){let d,u=0,h=l,p=t;const f=Math.max(s,60);let m=!Object(a["a"])(n)||r["a"].lessThanOrEquals(n,t)||r["a"].greaterThanOrEquals(n,i);while(r["a"].lessThan(p,i))!m&&r["a"].greaterThanOrEquals(p,n)&&(m=!0,d=e.getValueInReferenceFrame(n,o,c[h]),Object(a["a"])(d)&&(c[h]=d,h++)),d=e.getValueInReferenceFrame(p,o,c[h]),Object(a["a"])(d)&&(c[h]=d,h++),u++,p=r["a"].addSeconds(t,f*u,new r["a"]);return d=e.getValueInReferenceFrame(i,o,c[h]),Object(a["a"])(d)&&(c[h]=d,h++),h}function M(e,t,i,n,o,s,l,c){T.start=t,T.stop=i;let d=l;const h=e.intervals;for(let p=0;p<h.length;p++){const t=h.get(p);if(!u["a"].intersect(t,T,k).isEmpty){let i=t.start;t.isStartIncluded||(i=t.isStopIncluded?t.stop:r["a"].addSeconds(t.start,r["a"].secondsDifference(t.stop,t.start)/2,new r["a"]));const n=e.getValueInReferenceFrame(i,o,c[d]);Object(a["a"])(n)&&(c[d]=n,d++)}}return d}function L(e,t,i,n,o,s,r,l){const c=e.getValueInReferenceFrame(t,o,l[r]);return Object(a["a"])(c)&&(l[r++]=c),r}function P(e,t,i,n,o,a,s,l){C.start=t,C.stop=i;let c=s;const d=e.intervals;for(let h=0;h<d.length;h++){const e=d.get(h);if(!u["a"].intersect(e,C,k).isEmpty){const s=e.start,d=e.stop;let u=t;r["a"].greaterThan(s,u)&&(u=s);let h=i;r["a"].lessThan(d,h)&&(h=d),c=I(e.data,u,h,n,o,a,c,l)}}return c}function I(e,t,i,n,o,a,s,r){while(e instanceof j["a"])e=e.resolvedProperty;if(e instanceof _["a"]){const l=e._property._times;s=E(e,t,i,l,n,o,a,s,r)}else s=e instanceof m["a"]?P(e,t,i,n,o,a,s,r):e instanceof v["a"]?M(e,t,i,n,o,a,s,r):e instanceof b["a"]||e instanceof y["a"]&&g["a"].isConstant(e)?L(e,t,i,n,o,a,s,r):D(e,t,i,n,o,a,s,r);return s}function R(e,t,i,n,o,s,r){Object(a["a"])(r)||(r=[]);const l=I(e,t,i,n,o,s,0,r);return r.length=l,r}const N=new l["a"];function B(e,t){this._unusedIndexes=[],this._polylineCollection=new p["a"],this._scene=e,this._referenceFrame=t,e.primitives.add(this._polylineCollection)}function A(e,t){t.collectionChanged.addEventListener(A.prototype._onCollectionChanged,this),this._scene=e,this._updaters={},this._entityCollection=t,this._items=new n["a"],this._onCollectionChanged(t,t.values,[],[])}B.prototype.update=function(e){if(this._referenceFrame===d["a"].INERTIAL){let t=h["a"].computeIcrfToFixedMatrix(e,N);Object(a["a"])(t)||(t=h["a"].computeTemeToPseudoFixedMatrix(e,N)),c["a"].fromRotationTranslation(t,o["a"].ZERO,this._polylineCollection.modelMatrix)}},B.prototype.updateObject=function(e,t){const i=t.entity,n=i._path,o=i._position;let s,l;const c=n._show;let d=t.polyline,u=i.isShowing&&i.isAvailable(e)&&(!Object(a["a"])(c)||c.getValue(e));if(u){const t=g["a"].getValueOrUndefined(n._leadTime,e),o=g["a"].getValueOrUndefined(n._trailTime,e),c=i._availability,d=Object(a["a"])(c),h=Object(a["a"])(t),p=Object(a["a"])(o);if(u=d||h&&p,u){if(p&&(s=r["a"].addSeconds(e,-o,new r["a"])),h&&(l=r["a"].addSeconds(e,t,new r["a"])),d){const e=c.start,t=c.stop;p&&!r["a"].greaterThan(e,s)||(s=e),h&&!r["a"].lessThan(t,l)||(l=t)}u=r["a"].lessThan(s,l)}}if(!u)return void(Object(a["a"])(d)&&(this._unusedIndexes.push(t.index),t.polyline=void 0,d.show=!1,t.index=void 0));if(!Object(a["a"])(d)){const e=this._unusedIndexes,n=e.length;if(n>0){const i=e.pop();d=this._polylineCollection.get(i),t.index=i}else t.index=this._polylineCollection.length,d=this._polylineCollection.add();d.id=i,t.polyline=d}const h=g["a"].getValueOrDefault(n._resolution,e,w);d.show=!0,d.positions=R(o,s,l,e,this._referenceFrame,h,d.positions.slice()),d.material=O["a"].getValue(e,n._material,d.material),d.width=g["a"].getValueOrDefault(n._width,e,x),d.distanceDisplayCondition=g["a"].getValueOrUndefined(n._distanceDisplayCondition,e,d.distanceDisplayCondition)},B.prototype.removeObject=function(e){const t=e.polyline;Object(a["a"])(t)&&(this._unusedIndexes.push(e.index),e.polyline=void 0,t.show=!1,t.id=void 0,e.index=void 0)},B.prototype.destroy=function(){return this._scene.primitives.remove(this._polylineCollection),Object(s["a"])(this)},A.prototype.update=function(e){const t=this._updaters;for(const n in t)t.hasOwnProperty(n)&&t[n].update(e);const i=this._items.values;if(0===i.length&&Object(a["a"])(this._updaters)&&Object.keys(this._updaters).length>0){for(const e in t)t.hasOwnProperty(e)&&t[e].destroy();this._updaters={}}for(let n=0,o=i.length;n<o;n++){const t=i[n],o=t.entity,s=o._position,r=t.updater;let l=d["a"].FIXED;this._scene.mode===f["a"].SCENE3D&&(l=s.referenceFrame);let c=this._updaters[l];r===c&&Object(a["a"])(c)?c.updateObject(e,t):(Object(a["a"])(r)&&r.removeObject(t),Object(a["a"])(c)||(c=new B(this._scene,l),c.update(e),this._updaters[l]=c),t.updater=c,Object(a["a"])(c)&&c.updateObject(e,t))}return!0},A.prototype.isDestroyed=function(){return!1},A.prototype.destroy=function(){this._entityCollection.collectionChanged.removeEventListener(A.prototype._onCollectionChanged,this);const e=this._updaters;for(const t in e)e.hasOwnProperty(t)&&e[t].destroy();return Object(s["a"])(this)},A.prototype._onCollectionChanged=function(e,t,i,n){let o,s,r;const l=this._items;for(o=t.length-1;o>-1;o--)s=t[o],Object(a["a"])(s._path)&&Object(a["a"])(s._position)&&l.set(s.id,new S(s));for(o=n.length-1;o>-1;o--)s=n[o],Object(a["a"])(s._path)&&Object(a["a"])(s._position)?l.contains(s.id)||l.set(s.id,new S(s)):(r=l.get(s.id),Object(a["a"])(r)&&(Object(a["a"])(r.updater)&&r.updater.removeObject(r),l.remove(s.id)));for(o=i.length-1;o>-1;o--)s=i[o],r=l.get(s.id),Object(a["a"])(r)&&(Object(a["a"])(r.updater)&&r.updater.removeObject(r),l.remove(s.id))},A._subSample=R,t["a"]=A},"0c9b":function(e,t,i){"use strict";var n=i("535a"),o=i("2f63"),a=i("21d7"),s=i("3372"),r=i("0a43"),l=i("ea07");const c=new s["a"];function d(e){e=Object(n["a"])(e,n["a"].EMPTY_OBJECT),this._definitionChanged=new a["a"],this._translation=void 0,this._translationSubscription=void 0,this._rotation=void 0,this._rotationSubscription=void 0,this._scale=void 0,this._scaleSubscription=void 0,this.translation=e.translation,this.rotation=e.rotation,this.scale=e.scale}Object.defineProperties(d.prototype,{isConstant:{get:function(){return l["a"].isConstant(this._translation)&&l["a"].isConstant(this._rotation)&&l["a"].isConstant(this._scale)}},definitionChanged:{get:function(){return this._definitionChanged}},translation:Object(r["a"])("translation"),rotation:Object(r["a"])("rotation"),scale:Object(r["a"])("scale")}),d.prototype.getValue=function(e,t){return Object(o["a"])(t)||(t=new s["a"]),t.translation=l["a"].getValueOrClonedDefault(this._translation,e,c.translation,t.translation),t.rotation=l["a"].getValueOrClonedDefault(this._rotation,e,c.rotation,t.rotation),t.scale=l["a"].getValueOrClonedDefault(this._scale,e,c.scale,t.scale),t},d.prototype.equals=function(e){return this===e||e instanceof d&&l["a"].equals(this._translation,e._translation)&&l["a"].equals(this._rotation,e._rotation)&&l["a"].equals(this._scale,e._scale)},t["a"]=d},"239f":function(e,t,i){"use strict";var n=i("2f63");function o(e){this.type="KmlTourWait",this.blocking=!0,this.duration=e,this.timeout=null}o.prototype.play=function(e){const t=this;this.activeCallback=e,this.timeout=setTimeout((function(){delete t.activeCallback,e(!1)}),1e3*this.duration)},o.prototype.stop=function(){clearTimeout(this.timeout),Object(n["a"])(this.activeCallback)&&this.activeCallback(!0)},t["a"]=o},3361:function(e,t,i){"use strict";var n=i("9201"),o=i("933b"),a=i("77af"),s=i("7229"),r=i("670c"),l=i("be18"),c=i("bef8"),d=i("cb75"),u=i("05c2"),h=i("dc1c"),p=i("bd8d"),f=i("71ce"),m=i("8dfe"),b=i("535a"),O=i("9c35"),g=i("2f63"),j=i("c52f"),_=i("21d7"),y=i("1f30"),v=i("157d"),w=i("ddf7"),x=i("4f77"),k=i("8dd9"),C=i("452d"),T=i("5ed2"),S=i("93da"),E=i("6dfc"),D=i("0569"),M=i("b639"),L=i("ee11"),P=i("1757"),I=i("c0fd"),R=i("eace"),N=i("d4ed"),B=i("283e"),A=i("ea72"),V=i("026b"),U=i("2d75"),F=i("f61d"),W=i("4626"),z=i("a307"),G=i("a1d1"),K=i("881b"),q=i("69aa"),H=i("9fef"),$=i("99f6"),X=i("fef5"),Y=i("9023"),J=i("0fc7"),Q=i("509b"),Z=i("4820"),ee=i("7d5d"),te=i("f08a"),ie=i("4177"),ne=i("6dd3"),oe=i("e6fa"),ae=i("239f"),se=i("e0b6"),re=i("bd04"),le=i("d9c4"),ce=i("05b6"),de=i("7af6"),ue=i("298a"),he=i("1142"),pe=i("2198"),fe=i("d607"),me=i("0ee0"),be=i("9816");const Oe={avi:"video/x-msvideo",bmp:"image/bmp",bz2:"application/x-bzip2",chm:"application/vnd.ms-htmlhelp",css:"text/css",csv:"text/csv",doc:"application/msword",dvi:"application/x-dvi",eps:"application/postscript",flv:"video/x-flv",gif:"image/gif",gz:"application/x-gzip",htm:"text/html",html:"text/html",ico:"image/vnd.microsoft.icon",jnlp:"application/x-java-jnlp-file",jpeg:"image/jpeg",jpg:"image/jpeg",m3u:"audio/x-mpegurl",m4v:"video/mp4",mathml:"application/mathml+xml",mid:"audio/midi",midi:"audio/midi",mov:"video/quicktime",mp3:"audio/mpeg",mp4:"video/mp4",mp4v:"video/mp4",mpeg:"video/mpeg",mpg:"video/mpeg",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",ogg:"application/ogg",pdf:"application/pdf",png:"image/png",pps:"application/vnd.ms-powerpoint",ppt:"application/vnd.ms-powerpoint",ps:"application/postscript",qt:"video/quicktime",rdf:"application/rdf+xml",rss:"application/rss+xml",rtf:"application/rtf",svg:"image/svg+xml",swf:"application/x-shockwave-flash",text:"text/plain",tif:"image/tiff",tiff:"image/tiff",txt:"text/plain",wav:"audio/x-wav",wma:"audio/x-ms-wma",wmv:"video/x-ms-wmv",xml:"application/xml",zip:"application/zip",detectFromFilename:function(e){let t=e.toLowerCase();return t=Object(y["a"])(t),Oe[t]}};let ge;"undefined"!==typeof DOMParser&&(ge=new DOMParser);const je=new G["a"]({stripPrefix:!1,email:!1,replaceFn:function(e){if(!e.protocolUrlMatch)return!1}}),_e=32,ye=2414016,ve=1,we=16093e3,xe=.1,ke=[null,void 0,"http://www.opengis.net/kml/2.2","http://earth.google.com/kml/2.2","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.0"],Ce=["http://www.google.com/kml/ext/2.2"],Te=["http://www.w3.org/2005/Atom"],Se={kml:ke,gx:Ce,atom:Te,kmlgx:ke.concat(Ce)},Ee={Document:Mt,Folder:Lt,Placemark:Pt,NetworkLink:Jt,GroundOverlay:Wt,PhotoOverlay:zt,ScreenOverlay:Ft,Tour:Rt};function De(e){this._dataSource=e,this._deferred=Object(O["a"])(),this._stack=[],this._promises=[],this._timeoutSet=!1,this._used=!1,this._started=0,this._timeThreshold=1e3}function Me(e){const t=e.slice(0,Math.min(4,e.size)),i=Object(O["a"])(),n=new FileReader;return n.addEventListener("load",(function(){i.resolve(1347093252===new DataView(n.result).getUint32(0,!1))})),n.addEventListener("error",(function(){i.reject(n.error)})),n.readAsArrayBuffer(t),i.promise}function Le(e){const t=Object(O["a"])(),i=new FileReader;return i.addEventListener("load",(function(){t.resolve(i.result)})),i.addEventListener("error",(function(){t.reject(i.error)})),i.readAsText(e),t.promise}function Pe(e){const t={xsi:"http://www.w3.org/2001/XMLSchema-instance"};let i,n,o,a;for(const s in t)t.hasOwnProperty(s)&&(o=RegExp(`[< ]${s}:`),a=`xmlns:${s}=`,o.test(e)&&-1===e.indexOf(a)&&(Object(g["a"])(i)||(i=e.substr(0,e.indexOf("<kml")+4),n=e.substr(i.length)),i+=` ${a}"${t[s]}"`));return Object(g["a"])(i)&&(e=i+n),e}function Ie(e){let t=e.indexOf("xmlns:");const i=e.indexOf(">",t);let n,o,a;while(-1!==t&&t<i)n=e.slice(t,e.indexOf('"',t)),o=t,t=e.indexOf(n,t+1),-1!==t?(a=e.indexOf('"',e.indexOf('"',t)+1),e=e.slice(0,t-1)+e.slice(a+1,e.length),t=e.indexOf("xmlns:",o-1)):t=e.indexOf("xmlns:",o+1);return e}function Re(e,t){return Promise.resolve(e.getData(new q["a"].TextWriter)).then((function(e){e=Pe(e),e=Ie(e),t.kml=ge.parseFromString(e,"application/xml")}))}function Ne(e,t){const i=Object(b["a"])(Oe.detectFromFilename(e.filename),"application/octet-stream");return Promise.resolve(e.getData(new q["a"].Data64URIWriter(i))).then((function(i){t[e.filename]=i}))}function Be(e,t,i,n){const o=n.keys,a=new K["a"]("."),s=e.querySelectorAll(t);for(let r=0;r<s.length;r++){const e=s[r],l=e.getAttribute(i),c=new K["a"](l),d=c.absoluteTo(a).toString(),u=o.indexOf(d);if(-1!==u){const a=o[u];e.setAttribute(i,n[a]),"a"===t&&null===e.getAttribute("download")&&e.setAttribute("download",a)}}}function Ae(e,t,i,n){const o=e.querySelectorAll(t);for(let a=0;a<o.length;a++){const e=o[a],t=e.getAttribute(i),s=Je(t,n);e.setAttribute(i,s.url)}}function Ve(e,t,i){let n=Ge(e,"id");n=Object(g["a"])(n)&&0!==n.length?n:Object(f["a"])(),Object(g["a"])(i)&&(n=i+n);let o=t.getById(n);return Object(g["a"])(o)&&(n=Object(f["a"])(),Object(g["a"])(i)&&(n=i+n)),o=t.add(new Q["a"]({id:n})),Object(g["a"])(o.kml)||(o.addProperty("kml"),o.kml=new si),o}function Ue(e,t){return"absolute"===e||"relativeToGround"===e||"relativeToSeaFloor"===t}function Fe(e,t){if(!Object(g["a"])(e))return l["a"].fromDegrees(0,0,0,t);const i=e.match(/[^\s,\n]+/g);if(!Object(g["a"])(i))return l["a"].fromDegrees(0,0,0,t);let n=parseFloat(i[0]),o=parseFloat(i[1]),a=parseFloat(i[2]);return n=isNaN(n)?0:n,o=isNaN(o)?0:o,a=isNaN(a)?0:a,l["a"].fromDegrees(n,o,a,t)}function We(e,t){if(!Object(g["a"])(e))return;const i=e.textContent.match(/[^\s\n]+/g);if(!Object(g["a"])(i))return;const n=i.length,o=new Array(n);let a=0;for(let s=0;s<n;s++)o[a++]=Fe(i[s],t);return o}function ze(e,t){if(!Object(g["a"])(e))return;const i=e.getAttribute(t);if(null!==i){const e=parseFloat(i);return isNaN(e)?void 0:e}}function Ge(e,t){if(!Object(g["a"])(e))return;const i=e.getAttribute(t);return null!==i?i:void 0}function Ke(e,t,i){if(!Object(g["a"])(e))return;const n=e.childNodes,o=n.length;for(let a=0;a<o;a++){const e=n[a];if(e.localName===t&&-1!==i.indexOf(e.namespaceURI))return e}}function qe(e,t,i){if(!Object(g["a"])(e))return;const n=[],o=e.getElementsByTagNameNS("*",t),a=o.length;for(let s=0;s<a;s++){const e=o[s];e.localName===t&&-1!==i.indexOf(e.namespaceURI)&&n.push(e)}return n}function He(e,t,i){if(!Object(g["a"])(e))return[];const n=[],o=e.childNodes,a=o.length;for(let s=0;s<a;s++){const e=o[s];e.localName===t&&-1!==i.indexOf(e.namespaceURI)&&n.push(e)}return n}function $e(e,t,i){const n=Ke(e,t,i);if(Object(g["a"])(n)){const e=parseFloat(n.textContent);return isNaN(e)?void 0:e}}function Xe(e,t,i){const n=Ke(e,t,i);if(Object(g["a"])(n))return n.textContent.trim()}function Ye(e,t,i){const n=Ke(e,t,i);if(Object(g["a"])(n)){const e=n.textContent.trim();return"1"===e||/^true$/i.test(e)}}function Je(e,t,i){if(!Object(g["a"])(e))return;let n;if(Object(g["a"])(i)){e=e.replace(/\\/g,"/");let o=i[e];if(Object(g["a"])(o))n=new N["a"]({url:o});else{const a=new K["a"](t.getUrlComponent()),s=new K["a"](e);o=i[s.absoluteTo(a)],Object(g["a"])(o)&&(n=new N["a"]({url:o}))}}return Object(g["a"])(n)||(n=t.getDerivedResource({url:e})),n}Object.defineProperties(De.prototype,{dataSource:{get:function(){return this._dataSource}}}),De.prototype.addNodes=function(e,t){this._stack.push({nodes:e,index:0,processingData:t}),this._used=!0},De.prototype.addPromise=function(e){this._promises.push(e)},De.prototype.wait=function(){const e=this._deferred;return this._used||e.resolve(),Promise.all([e.promise,Promise.all(this._promises)])},De.prototype.process=function(){const e=1===this._stack.length;return e&&(this._started=ii._getTimestamp()),this._process(e)},De.prototype._giveUpTime=function(){if(this._timeoutSet)return;this._timeoutSet=!0,this._timeThreshold=50;const e=this;setTimeout((function(){e._timeoutSet=!1,e._started=ii._getTimestamp(),e._process(!0)}),0)},De.prototype._nextNode=function(){const e=this._stack,t=e[e.length-1],i=t.index,n=t.nodes;if(i!==n.length)return++t.index,n[i]},De.prototype._pop=function(){const e=this._stack;return e.pop(),0!==e.length||(this._deferred.resolve(),!1)},De.prototype._process=function(e){const t=this.dataSource,i=this._stack[this._stack.length-1].processingData;let n=this._nextNode();while(Object(g["a"])(n)){const e=Ee[n.localName];if(Object(g["a"])(e)&&(-1!==Se.kml.indexOf(n.namespaceURI)||-1!==Se.gx.indexOf(n.namespaceURI))&&(e(t,n,i,this),this._timeoutSet||ii._getTimestamp()>this._started+this._timeThreshold))return void this._giveUpTime();n=this._nextNode()}this._pop()&&e&&this._process(!0)};const Qe={maximumRed:void 0,red:void 0,maximumGreen:void 0,green:void 0,maximumBlue:void 0,blue:void 0};function Ze(e,t){if(!Object(g["a"])(e)||/^\s*$/gm.test(e))return;"#"===e[0]&&(e=e.substring(1));const i=parseInt(e.substring(0,2),16)/255,n=parseInt(e.substring(2,4),16)/255,o=parseInt(e.substring(4,6),16)/255,a=parseInt(e.substring(6,8),16)/255;return t?(a>0?(Qe.maximumRed=a,Qe.red=void 0):(Qe.maximumRed=void 0,Qe.red=0),o>0?(Qe.maximumGreen=o,Qe.green=void 0):(Qe.maximumGreen=void 0,Qe.green=0),n>0?(Qe.maximumBlue=n,Qe.blue=void 0):(Qe.maximumBlue=void 0,Qe.blue=0),Qe.alpha=i,p["a"].fromRandom(Qe)):new p["a"](a,o,n,i)}function et(e,t,i){const n=Xe(e,t,i);if(Object(g["a"])(n))return Ze(n,"random"===Xe(e,"colorMode",i))}function tt(e){const t=Ke(e,"TimeStamp",Se.kmlgx),i=Xe(t,"when",Se.kmlgx);if(!Object(g["a"])(t)||!Object(g["a"])(i)||0===i.length)return;const n=T["a"].fromIso8601(i),o=new V["a"];return o.addInterval(new A["a"]({start:n,stop:C["a"].MAXIMUM_VALUE})),o}function it(e){const t=Ke(e,"TimeSpan",Se.kmlgx);if(!Object(g["a"])(t))return;let i;const n=Ke(t,"begin",Se.kmlgx);let o=Object(g["a"])(n)?T["a"].fromIso8601(n.textContent):void 0;const a=Ke(t,"end",Se.kmlgx);let s=Object(g["a"])(a)?T["a"].fromIso8601(a.textContent):void 0;if(Object(g["a"])(o)&&Object(g["a"])(s)){if(T["a"].lessThan(s,o)){const e=o;o=s,s=e}i=new V["a"],i.addInterval(new A["a"]({start:o,stop:s}))}else Object(g["a"])(o)?(i=new V["a"],i.addInterval(new A["a"]({start:o,stop:C["a"].MAXIMUM_VALUE}))):Object(g["a"])(s)&&(i=new V["a"],i.addInterval(new A["a"]({start:C["a"].MINIMUM_VALUE,stop:s})));return i}function nt(){const e=new $["a"];return e.width=_e,e.height=_e,e.scaleByDistance=new E["a"](ye,ve,we,xe),e.pixelOffsetScaleByDistance=new E["a"](ye,ve,we,xe),e}function ot(){const e=new le["a"];return e.outline=!0,e.outlineColor=p["a"].WHITE,e}function at(){const e=new se["a"];return e.translucencyByDistance=new E["a"](3e6,1,5e6,0),e.pixelOffset=new r["a"](17,0),e.horizontalOrigin=F["a"].LEFT,e.font="16px sans-serif",e.style=W["a"].FILL_AND_OUTLINE,e}function st(e,t,i,n,o){let a=Xe(e,"href",Se.kml);if(!Object(g["a"])(a)||0===a.length)return;if(0===a.indexOf("root://icons/palette-")){const t=a.charAt(21);let i=Object(b["a"])($e(e,"x",Se.gx),0),n=Object(b["a"])($e(e,"y",Se.gx),0);i=Math.min(i/32,7),n=7-Math.min(n/32,7);const o=8*n+i;a=`https://maps.google.com/mapfiles/kml/pal${t}/icon${o}.png`}const s=Je(a,i,n);if(o){const i=Xe(e,"refreshMode",Se.kml),n=Xe(e,"viewRefreshMode",Se.kml);"onInterval"===i||"onExpire"===i?Object(M["a"])("kml-refreshMode-"+i,"KML - Unsupported Icon refreshMode: "+i):"onStop"!==n&&"onRegion"!==n||Object(M["a"])("kml-refreshMode-"+n,"KML - Unsupported Icon viewRefreshMode: "+n);const o=Object(b["a"])(Xe(e,"viewBoundScale",Se.kml),1),a="onStop"===n?"BBOX=[bboxWest],[bboxSouth],[bboxEast],[bboxNorth]":"",r=Object(b["a"])(Xe(e,"viewFormat",Se.kml),a),l=Xe(e,"httpQuery",Se.kml);Object(g["a"])(r)&&s.setQueryParameters(Object(I["a"])(Kt(r))),Object(g["a"])(l)&&s.setQueryParameters(Object(I["a"])(Kt(l)));const c=t._ellipsoid;return Yt(s,t.camera,t.canvas,o,t._lastCameraView.bbox,c),s}return s}function rt(e,t,i,n,o){let s=$e(t,"scale",Se.kml);const c=$e(t,"heading",Se.kml),d=et(t,"color",Se.kml),u=Ke(t,"Icon",Se.kml);let h=st(u,e,n,o,!1);Object(g["a"])(u)&&!Object(g["a"])(h)&&(h=!1);const p=$e(u,"x",Se.gx),f=$e(u,"y",Se.gx),m=$e(u,"w",Se.gx),O=$e(u,"h",Se.gx),j=Ke(t,"hotSpot",Se.kml),_=ze(j,"x"),y=ze(j,"y"),v=Ge(j,"xunits"),w=Ge(j,"yunits");let x,k,C=i.billboard;Object(g["a"])(C)||(C=nt(),i.billboard=C),C.image=h,C.scale=s,C.color=d,(Object(g["a"])(p)||Object(g["a"])(f)||Object(g["a"])(m)||Object(g["a"])(O))&&(C.imageSubRegion=new a["a"](p,f,m,O)),Object(g["a"])(c)&&0!==c&&(C.rotation=S["a"].toRadians(-c),C.alignedAxis=l["a"].UNIT_Z),s=Object(b["a"])(s,1),Object(g["a"])(_)&&("pixels"===v?x=-_*s:"insetPixels"===v?x=(_-_e)*s:"fraction"===v&&(x=-_*_e*s),x+=.5*_e*s),Object(g["a"])(y)&&("pixels"===w?k=y*s:"insetPixels"===w?k=(-y+_e)*s:"fraction"===w&&(k=y*_e*s),k-=.5*_e*s),(Object(g["a"])(x)||Object(g["a"])(k))&&(C.pixelOffset=new r["a"](x,k))}function lt(e,t,i,n,o){for(let a=0,s=t.childNodes.length;a<s;a++){const s=t.childNodes.item(a);if("IconStyle"===s.localName)rt(e,s,i,n,o);else if("LabelStyle"===s.localName){let e=i.label;Object(g["a"])(e)||(e=at(),i.label=e),e.scale=Object(b["a"])($e(s,"scale",Se.kml),e.scale),e.fillColor=Object(b["a"])(et(s,"color",Se.kml),e.fillColor),e.text=i.name}else if("LineStyle"===s.localName){let e=i.polyline;Object(g["a"])(e)||(e=new ce["a"],i.polyline=e),e.width=$e(s,"width",Se.kml),e.material=et(s,"color",Se.kml),Object(g["a"])(et(s,"outerColor",Se.gx))&&Object(M["a"])("kml-gx:outerColor","KML - gx:outerColor is not supported in a LineStyle"),Object(g["a"])($e(s,"outerWidth",Se.gx))&&Object(M["a"])("kml-gx:outerWidth","KML - gx:outerWidth is not supported in a LineStyle"),Object(g["a"])($e(s,"physicalWidth",Se.gx))&&Object(M["a"])("kml-gx:physicalWidth","KML - gx:physicalWidth is not supported in a LineStyle"),Object(g["a"])(Ye(s,"labelVisibility",Se.gx))&&Object(M["a"])("kml-gx:labelVisibility","KML - gx:labelVisibility is not supported in a LineStyle")}else if("PolyStyle"===s.localName){let e=i.polygon;Object(g["a"])(e)||(e=ot(),i.polygon=e),e.material=Object(b["a"])(et(s,"color",Se.kml),e.material),e.fill=Object(b["a"])(Ye(s,"fill",Se.kml),e.fill),e.outline=Object(b["a"])(Ye(s,"outline",Se.kml),e.outline)}else if("BalloonStyle"===s.localName){const e=Object(b["a"])(Ze(Xe(s,"bgColor",Se.kml)),p["a"].WHITE),t=Object(b["a"])(Ze(Xe(s,"textColor",Se.kml)),p["a"].BLACK),n=Xe(s,"text",Se.kml);i.addProperty("balloonStyle"),i.balloonStyle={bgColor:e,textColor:t,text:n}}else if("ListStyle"===s.localName){const e=Xe(s,"listItemType",Se.kml);"radioFolder"!==e&&"checkOffOnly"!==e||Object(M["a"])("kml-listStyle-"+e,"KML - Unsupported ListStyle with listItemType: "+e)}}}function ct(e,t,i,n,o){const a=new Q["a"];let s,r=-1;const l=t.childNodes,c=l.length;for(let u=0;u<c;u++){const e=l[u];"Style"!==e.localName&&"StyleMap"!==e.localName||(r=u)}if(-1!==r){const t=l[r];if("Style"===t.localName)lt(e,t,a,n,o);else{const r=He(t,"Pair",Se.kml);for(let t=0;t<r.length;t++){const l=r[t],c=Xe(l,"key",Se.kml);if("normal"===c){const t=Xe(l,"styleUrl",Se.kml);if(Object(g["a"])(t))s=i.getById(t),Object(g["a"])(s)||(s=i.getById("#"+t)),Object(g["a"])(s)&&a.merge(s);else{const t=Ke(l,"Style",Se.kml);lt(e,t,a,n,o)}}else Object(M["a"])("kml-styleMap-"+c,"KML - Unsupported StyleMap key: "+c)}}}const d=Xe(t,"styleUrl",Se.kml);if(Object(g["a"])(d)){let e=d;if("#"!==d[0]&&-1!==d.indexOf("#")){const t=d.split("#"),i=t[0],o=n.getDerivedResource({url:i});e=`${o.getUrlComponent()}#${t[1]}`}s=i.getById(e),Object(g["a"])(s)||(s=i.getById("#"+e)),Object(g["a"])(s)&&a.merge(s)}return a}function dt(e,t,i){return t.fetchXML().then((function(n){return ut(e,n,i,t,!0)}))}function ut(e,t,i,n,o,a){let s,r,l,c;const d=qe(t,"Style",Se.kml);if(Object(g["a"])(d)){const t=d.length;for(s=0;s<t;s++)c=d[s],r=Ge(c,"id"),Object(g["a"])(r)&&(r="#"+r,o&&Object(g["a"])(n)&&(r=n.getUrlComponent()+r),Object(g["a"])(i.getById(r))||(l=new Q["a"]({id:r}),i.add(l),lt(e,c,l,n,a)))}const u=qe(t,"StyleMap",Se.kml);if(Object(g["a"])(u)){const t=u.length;for(s=0;s<t;s++){const t=u[s];if(r=Ge(t,"id"),Object(g["a"])(r)){const s=He(t,"Pair",Se.kml);for(let t=0;t<s.length;t++){const d=s[t],u=Xe(d,"key",Se.kml);if("normal"===u){if(r="#"+r,o&&Object(g["a"])(n)&&(r=n.getUrlComponent()+r),!Object(g["a"])(i.getById(r))){l=i.getOrCreateEntity(r);let t=Xe(d,"styleUrl",Se.kml);if(Object(g["a"])(t)){"#"!==t[0]&&(t="#"+t),o&&Object(g["a"])(n)&&(t=n.getUrlComponent()+t);const e=i.getById(t);Object(g["a"])(e)&&l.merge(e)}else c=Ke(d,"Style",Se.kml),lt(e,c,l,n,a)}}else Object(M["a"])("kml-styleMap-"+u,"KML - Unsupported StyleMap key: "+u)}}}}const h=[],p=t.getElementsByTagName("styleUrl"),f=p.length;for(s=0;s<f;s++){const t=p[s].textContent;if("#"!==t[0]){const o=t.split("#");if(2===o.length){const t=o[0],a=n.getDerivedResource({url:t});h.push(dt(e,a,i))}}}return h}function ht(e,t,i){const n=new he["a"](e,t.id,["position"]),o=new fe["a"](t.position);t.polyline=Object(g["a"])(i.polyline)?i.polyline.clone():new ce["a"],t.polyline.positions=new de["a"]([n,o])}function pt(e,t){return!Object(g["a"])(e)&&!Object(g["a"])(t)||"clampToGround"===e?U["a"].CLAMP_TO_GROUND:"relativeToGround"===e?U["a"].RELATIVE_TO_GROUND:"absolute"===e?U["a"].NONE:"clampToSeaFloor"===t?(Object(M["a"])("kml-gx:altitudeMode-clampToSeaFloor","KML - <gx:altitudeMode>:clampToSeaFloor is currently not supported, using <kml:altitudeMode>:clampToGround."),U["a"].CLAMP_TO_GROUND):"relativeToSeaFloor"===t?(Object(M["a"])("kml-gx:altitudeMode-relativeToSeaFloor","KML - <gx:altitudeMode>:relativeToSeaFloor is currently not supported, using <kml:altitudeMode>:relativeToGround."),U["a"].RELATIVE_TO_GROUND):(Object(g["a"])(e)?Object(M["a"])("kml-altitudeMode-unknown",`KML - Unknown <kml:altitudeMode>:${e}, using <kml:altitudeMode>:CLAMP_TO_GROUND.`):Object(M["a"])("kml-gx:altitudeMode-unknown",`KML - Unknown <gx:altitudeMode>:${t}, using <kml:altitudeMode>:CLAMP_TO_GROUND.`),U["a"].CLAMP_TO_GROUND)}function ft(e,t,i){return"relativeToSeaFloor"===i||"absolute"===t||"relativeToGround"===t?e:((Object(g["a"])(t)&&"clampToGround"!==t||Object(g["a"])(i)&&"clampToSeaFloor"!==i)&&Object(M["a"])("kml-altitudeMode-unknown","KML - Unknown altitudeMode: "+Object(b["a"])(t,i)),new fe["a"](e))}function mt(e,t,i,n){if(!Object(g["a"])(e))return;if("relativeToSeaFloor"===i||"absolute"===t||"relativeToGround"===t)return e;(Object(g["a"])(t)&&"clampToGround"!==t||Object(g["a"])(i)&&"clampToSeaFloor"!==i)&&Object(M["a"])("kml-altitudeMode-unknown","KML - Unknown altitudeMode: "+Object(b["a"])(t,i));const o=e.length;for(let a=0;a<o;a++){const t=e[a];n.scaleToGeodeticSurface(t,t)}return e}function bt(e,t,i,n){let o=t.label;Object(g["a"])(o)||(o=Object(g["a"])(i.label)?i.label.clone():at(),t.label=o),o.text=t.name;let a=t.billboard;Object(g["a"])(a)||(a=Object(g["a"])(i.billboard)?i.billboard.clone():nt(),t.billboard=a),Object(g["a"])(a.image)?a.image.getValue()||(a.image=void 0):a.image=e._pinBuilder.fromColor(p["a"].YELLOW,64);let s=1;Object(g["a"])(a.scale)&&(s=a.scale.getValue(),0!==s?o.pixelOffset=new r["a"](16*s+1,0):(o.pixelOffset=void 0,o.horizontalOrigin=void 0)),Object(g["a"])(n)&&e._clampToGround&&(a.heightReference=n,o.heightReference=n)}function Ot(e,t){let i=e.path;Object(g["a"])(i)||(i=new re["a"],i.leadTime=0,e.path=i);const n=t.polyline;Object(g["a"])(n)&&(i.material=n.material,i.width=n.width)}function gt(e,t,i,n,o){const a=Xe(i,"coordinates",Se.kml),s=Xe(i,"altitudeMode",Se.kml),r=Xe(i,"altitudeMode",Se.gx),l=Ye(i,"extrude",Se.kml),c=e._ellipsoid,d=Fe(a,c);return n.position=d,bt(e,n,o,pt(s,r)),l&&Ue(s,r)&&ht(t,n,o),!0}function jt(e,t,i,o,a){const s=Ke(i,"coordinates",Se.kml),r=Xe(i,"altitudeMode",Se.kml),l=Xe(i,"altitudeMode",Se.gx),c=Ye(i,"extrude",Se.kml),d=Ye(i,"tessellate",Se.kml),u=Ue(r,l),h=$e(i,"drawOrder",Se.gx),f=e._ellipsoid,m=We(s,f);let O=a.polyline;if(u&&c){const e=new be["a"];o.wall=e,e.positions=m;const t=a.polygon;Object(g["a"])(t)&&(e.fill=t.fill,e.material=t.material),e.outline=!0,Object(g["a"])(O)?(e.outlineColor=Object(g["a"])(O.material)?O.material.color:p["a"].WHITE,e.outlineWidth=O.width):Object(g["a"])(t)&&(e.outlineColor=Object(g["a"])(t.material)?t.material.color:p["a"].WHITE)}else if(e._clampToGround&&!u&&d){const e=new ce["a"];e.clampToGround=!0,o.polyline=e,e.positions=m,Object(g["a"])(O)?(e.material=Object(g["a"])(O.material)?O.material.color.getValue(C["a"].MINIMUM_VALUE):p["a"].WHITE,e.width=Object(b["a"])(O.width,1)):(e.material=p["a"].WHITE,e.width=1),e.zIndex=h}else Object(g["a"])(h)&&Object(M["a"])("kml-gx:drawOrder","KML - gx:drawOrder is not supported in LineStrings when clampToGround is false"),e._clampToGround&&!d&&Object(M["a"])("kml-line-tesselate","Ignoring clampToGround for KML lines without the tessellate flag."),O=Object(g["a"])(O)?O.clone():new ce["a"],o.polyline=O,O.positions=mt(m,r,l,f),d&&!u||(O.arcType=n["a"].NONE);return!0}function _t(e,t,i,n,o){const a=Ke(i,"outerBoundaryIs",Se.kml);let s=Ke(a,"LinearRing",Se.kml),r=Ke(s,"coordinates",Se.kml);const l=e._ellipsoid;let c=We(r,l);const d=Ye(i,"extrude",Se.kml),u=Xe(i,"altitudeMode",Se.kml),h=Xe(i,"altitudeMode",Se.gx),f=Ue(u,h),m=Object(g["a"])(o.polygon)?o.polygon.clone():ot(),b=o.polyline;if(Object(g["a"])(b)&&(m.outlineColor=Object(g["a"])(b.material)?b.material.color:p["a"].WHITE,m.outlineWidth=b.width),n.polygon=m,f?(m.perPositionHeight=!0,m.extrudedHeight=d?0:void 0):e._clampToGround||(m.height=0),Object(g["a"])(c)){const e=new P["a"](c),t=He(i,"innerBoundaryIs",Se.kml);for(let i=0;i<t.length;i++){s=He(t[i],"LinearRing",Se.kml);for(let t=0;t<s.length;t++)r=Ke(s[t],"coordinates",Se.kml),c=We(r,l),Object(g["a"])(c)&&e.holes.push(new P["a"](c))}m.hierarchy=e}return!0}function yt(e,t,i,n,o){const a=Xe(i,"altitudeMode",Se.kml),s=Xe(i,"altitudeMode",Se.gx),r=He(i,"coord",Se.gx),l=He(i,"angles",Se.gx),c=He(i,"when",Se.kml),d=Ye(i,"extrude",Se.kml),u=Ue(a,s),h=e._ellipsoid;l.length>0&&Object(M["a"])("kml-gx:angles","KML - gx:angles are not supported in gx:Tracks");const p=Math.min(r.length,c.length),f=[],m=[];for(let O=0;O<p;O++){const e=Fe(r[O].textContent,h);f.push(e),m.push(T["a"].fromIso8601(c[O].textContent))}const b=new pe["a"];return b.addSamples(m,f),n.position=b,bt(e,n,o,pt(a,s)),Ot(n,o),n.availability=new V["a"],c.length>0&&n.availability.addInterval(new A["a"]({start:m[0],stop:m[m.length-1]})),u&&d&&ht(t,n,o),!0}function vt(e,t,i,n,o,a,s,r,l){const c=e[0],d=e[e.length-1],u=new pe["a"];u.addSamples(e,t),i.intervals.addInterval(new A["a"]({start:c,stop:d,isStartIncluded:l,isStopIncluded:l,data:ft(u,s,r)})),n.addInterval(new A["a"]({start:c,stop:d,isStartIncluded:l,isStopIncluded:l})),o.intervals.addInterval(new A["a"]({start:c,stop:d,isStartIncluded:l,isStopIncluded:l,data:a}))}function wt(e,t,i,n,o){const a=Ye(i,"interpolate",Se.gx),s=He(i,"Track",Se.gx);let r,l,c,d=!1;const u=new me["a"],h=new V["a"],p=new X["a"],f=e._ellipsoid;for(let m=0,b=s.length;m<b;m++){const e=s[m],t=He(e,"when",Se.kml),i=He(e,"coord",Se.gx),n=Xe(e,"altitudeMode",Se.kml),o=Xe(e,"altitudeMode",Se.gx),b=Ue(n,o),O=Ye(e,"extrude",Se.kml),j=Math.min(i.length,t.length),_=[];r=[];for(let a=0;a<j;a++){const e=Fe(i[a].textContent,f);_.push(e),r.push(T["a"].fromIso8601(t[a].textContent))}a&&(Object(g["a"])(l)&&vt([l,r[0]],[c,_[0]],p,h,u,!1,"absolute",void 0,!1),l=r[j-1],c=_[_.length-1]),vt(r,_,p,h,u,b&&O,n,o,!0),d=d||b&&O}return n.availability=h,n.position=p,bt(e,n,o),Ot(n,o),d&&(ht(t,n,o),n.polyline.show=u),!0}const xt={Point:gt,LineString:jt,LinearRing:jt,Polygon:_t,Track:yt,MultiTrack:wt,MultiGeometry:kt,Model:Ct};function kt(e,t,i,n,o,a){const s=i.childNodes;let r=!1;for(let l=0,c=s.length;l<c;l++){const i=s.item(l),c=xt[i.localName];if(Object(g["a"])(c)){const s=Ve(i,t,a);s.parent=n,s.name=n.name,s.availability=n.availability,s.description=n.description,s.kml=n.kml,c(e,t,i,s,o)&&(r=!0)}}return r}function Ct(e,t,i,n,o){return Object(M["a"])("kml-unsupportedGeometry","KML - Unsupported geometry: "+i.localName),!1}function Tt(e,t){const i=Ke(e,"ExtendedData",Se.kml);if(!Object(g["a"])(i))return;Object(g["a"])(Ke(i,"SchemaData",Se.kml))&&Object(M["a"])("kml-schemaData","KML - SchemaData is unsupported"),Object(g["a"])(Ge(i,"xmlns:prefix"))&&Object(M["a"])("kml-extendedData","KML - ExtendedData with xmlns:prefix is unsupported");const n={},o=He(i,"Data",Se.kml);if(Object(g["a"])(o)){const e=o.length;for(let t=0;t<e;t++){const e=o[t],i=Ge(e,"name");Object(g["a"])(i)&&(n[i]={displayName:Xe(e,"displayName",Se.kml),value:Xe(e,"value",Se.kml)})}}t.kml.extendedData=n}let St;function Et(e,t,i,n,o){let a,s,r;const l=t.kml,c=l.extendedData,d=Xe(e,"description",Se.kml),u=Object(b["a"])(t.balloonStyle,i.balloonStyle);let h,f=p["a"].WHITE,m=p["a"].BLACK,O=d;if(Object(g["a"])(u)&&(f=Object(b["a"])(u.bgColor,p["a"].WHITE),m=Object(b["a"])(u.textColor,p["a"].BLACK),O=Object(b["a"])(u.text,d)),Object(g["a"])(O)){if(O=O.replace("$[name]",Object(b["a"])(t.name,"")),O=O.replace("$[description]",Object(b["a"])(d,"")),O=O.replace("$[address]",Object(b["a"])(l.address,"")),O=O.replace("$[Snippet]",Object(b["a"])(l.snippet,"")),O=O.replace("$[id]",t.id),O=O.replace("$[geDirections]",""),Object(g["a"])(c)){const e=O.match(/\$\[.+?\]/g);if(null!==e)for(a=0;a<e.length;a++){const t=e[a];let i=t.substr(2,t.length-3);const n=/\/displayName$/.test(i);i=i.replace(/\/displayName$/,""),h=c[i],Object(g["a"])(h)&&(h=n?h.displayName:h.value),Object(g["a"])(h)&&(O=O.replace(t,Object(b["a"])(h,"")))}}}else if(Object(g["a"])(c)&&(r=Object.keys(c),r.length>0)){for(O='<table class="cesium-infoBox-defaultTable cesium-infoBox-defaultTable-lighter"><tbody>',a=0;a<r.length;a++)s=r[a],h=c[s],O+=`<tr><th>${Object(b["a"])(h.displayName,s)}</th><td>${Object(b["a"])(h.value,"")}</td></tr>`;O+="</tbody></table>"}if(!Object(g["a"])(O))return;O=je.link(O),St.innerHTML=O;const j=St.querySelectorAll("a");for(a=0;a<j.length;a++)j[a].setAttribute("target","_blank");Object(g["a"])(n)&&n.keys.length>1&&(Be(St,"a","href",n),Be(St,"link","href",n),Be(St,"area","href",n),Be(St,"img","src",n),Be(St,"iframe","src",n),Be(St,"video","src",n),Be(St,"audio","src",n),Be(St,"source","src",n),Be(St,"track","src",n),Be(St,"input","src",n),Be(St,"embed","src",n),Be(St,"script","src",n),Be(St,"video","poster",n)),Ae(St,"a","href",o),Ae(St,"link","href",o),Ae(St,"area","href",o),Ae(St,"img","src",o),Ae(St,"iframe","src",o),Ae(St,"video","src",o),Ae(St,"audio","src",o),Ae(St,"source","src",o),Ae(St,"track","src",o),Ae(St,"input","src",o),Ae(St,"embed","src",o),Ae(St,"script","src",o),Ae(St,"video","poster",o);let _='<div class="cesium-infoBox-description-lighter" style="';_+="overflow:auto;",_+="word-wrap:break-word;",_+=`background-color:${f.toCssColorString()};`,_+=`color:${m.toCssColorString()};`,_+='">',_+=St.innerHTML+"</div>",St.innerHTML="",t.description=_}function Dt(e,t,i){const n=i.entityCollection,o=i.parentEntity,a=i.sourceResource,s=i.uriResolver,r=Ve(t,n,i.context),l=r.kml,c=ct(e,t,i.styleCollection,a,s),d=Xe(t,"name",Se.kml);r.name=d,r.parent=o;let u=it(t);function h(e){return!e||e.show&&h(e.parent)}Object(g["a"])(u)||(u=tt(t)),r.availability=u,ni(r);const p=Ye(t,"visibility",Se.kml);r.show=h(o)&&Object(b["a"])(p,!0);const f=Ke(t,"author",Se.atom),m=l.author;m.name=Xe(f,"name",Se.atom),m.uri=Xe(f,"uri",Se.atom),m.email=Xe(f,"email",Se.atom);const O=Ke(t,"link",Se.atom),j=l.link;j.href=Ge(O,"href"),j.hreflang=Ge(O,"hreflang"),j.rel=Ge(O,"rel"),j.type=Ge(O,"type"),j.title=Ge(O,"title"),j.length=Ge(O,"length"),l.address=Xe(t,"address",Se.kml),l.phoneNumber=Xe(t,"phoneNumber",Se.kml),l.snippet=Xe(t,"Snippet",Se.kml),Tt(t,r),Et(t,r,c,s,a);const _=e._ellipsoid;return Ut(t,r,_),Vt(t,r,_),Object(g["a"])(Ke(t,"Region",Se.kml))&&Object(M["a"])("kml-region","KML - Placemark Regions are unsupported"),{entity:r,styleEntity:c}}function Mt(e,t,i,n){n.addNodes(t.childNodes,i),n.process()}function Lt(e,t,i,n){const o=Dt(e,t,i),a=Object(h["a"])(i);a.parentEntity=o.entity,Mt(e,t,a,n)}function Pt(e,t,i,n){const o=Dt(e,t,i),a=o.entity,s=o.styleEntity;let r=!1;const l=t.childNodes;for(let c=0,d=l.length;c<d&&!r;c++){const t=l.item(c),n=xt[t.localName];Object(g["a"])(n)&&(n(e,i.entityCollection,t,a,s,a.id),r=!0)}r||(a.merge(s),bt(e,a,s))}"undefined"!==typeof document&&(St=document.createElement("div"));const It={FlyTo:At,Wait:Bt,SoundCue:Nt,AnimatedUpdate:Nt,TourControl:Nt};function Rt(e,t,i,n){const o=Xe(t,"name",Se.kml),a=Ge(t,"id"),s=new ne["a"](o,a),r=Ke(t,"Playlist",Se.gx);if(r){const t=e._ellipsoid,i=r.childNodes;for(let e=0;e<i.length;e++){const n=i[e];if(n.localName){const e=It[n.localName];e?e(s,n,t):console.log("Unknown KML Tour playlist entry type "+n.localName)}}}e._kmlTours.push(s)}function Nt(e,t){Object(M["a"])("KML Tour unsupported node "+t.localName)}function Bt(e,t){const i=$e(t,"duration",Se.gx);e.addPlaylistEntry(new ae["a"](i))}function At(e,t,i){const n=$e(t,"duration",Se.gx),o=Xe(t,"flyToMode",Se.gx),a={kml:{}};Ut(t,a,i),Vt(t,a,i);const s=a.kml.lookAt||a.kml.camera,r=new oe["a"](n,o,s);e.addPlaylistEntry(r)}function Vt(e,t,i){const n=Ke(e,"Camera",Se.kml);if(Object(g["a"])(n)){const e=Object(b["a"])($e(n,"longitude",Se.kml),0),o=Object(b["a"])($e(n,"latitude",Se.kml),0),a=Object(b["a"])($e(n,"altitude",Se.kml),0),s=Object(b["a"])($e(n,"heading",Se.kml),0),r=Object(b["a"])($e(n,"tilt",Se.kml),0),c=Object(b["a"])($e(n,"roll",Se.kml),0),d=l["a"].fromDegrees(e,o,a,i),u=k["a"].fromDegrees(s,r-90,c);t.kml.camera=new te["a"](d,u)}}function Ut(e,t,i){const n=Ke(e,"LookAt",Se.kml);if(Object(g["a"])(n)){const e=Object(b["a"])($e(n,"longitude",Se.kml),0),o=Object(b["a"])($e(n,"latitude",Se.kml),0),a=Object(b["a"])($e(n,"altitude",Se.kml),0);let s=$e(n,"heading",Se.kml),r=$e(n,"tilt",Se.kml);const c=Object(b["a"])($e(n,"range",Se.kml),0);r=S["a"].toRadians(Object(b["a"])(r,0)),s=S["a"].toRadians(Object(b["a"])(s,0));const d=new x["a"](s,r-S["a"].PI_OVER_TWO,c),u=l["a"].fromDegrees(e,o,a,i);t.kml.lookAt=new ie["a"](u,d)}}function Ft(e,t,i,n){const o=i.screenOverlayContainer;if(!Object(g["a"])(o))return;const a=i.sourceResource,s=i.uriResolver,r=Ke(t,"Icon",Se.kml),l=st(r,e,a,s,!1);if(!Object(g["a"])(l))return;const c=document.createElement("img");e._screenOverlays.push(c),c.src=l.url,c.onload=function(){const e=["position: absolute"],i=Ke(t,"screenXY",Se.kml),n=Ke(t,"overlayXY",Se.kml),o=Ke(t,"size",Se.kml);let a,s,r,l,d,u;Object(g["a"])(o)&&(a=ze(o,"x"),s=ze(o,"y"),r=Ge(o,"xunits"),l=Ge(o,"yunits"),Object(g["a"])(a)&&-1!==a&&0!==a&&("fraction"===r?d=`width: ${Math.floor(100*a)}%`:"pixels"===r&&(d=`width: ${a}px`),e.push(d)),Object(g["a"])(s)&&-1!==s&&0!==s&&("fraction"===l?u=`height: ${Math.floor(100*s)}%`:"pixels"===l&&(u=`height: ${s}px`),e.push(u))),c.style=e.join(";");let h=0,p=c.height;Object(g["a"])(n)&&(a=ze(n,"x"),s=ze(n,"y"),r=Ge(n,"xunits"),l=Ge(n,"yunits"),Object(g["a"])(a)&&("fraction"===r?h=a*c.width:("pixels"===r||"insetPixels"===r)&&(h=a)),Object(g["a"])(s)&&("fraction"===l?p=s*c.height:("pixels"===l||"insetPixels"===l)&&(p=s))),Object(g["a"])(i)&&(a=ze(i,"x"),s=ze(i,"y"),r=Ge(i,"xunits"),l=Ge(i,"yunits"),Object(g["a"])(a)&&("fraction"===r?d=`left: calc(${Math.floor(100*a)}% - ${h}px)`:"pixels"===r?d=`left: ${a-h}px`:"insetPixels"===r&&(d=`right: ${a-h}px`),e.push(d)),Object(g["a"])(s)&&("fraction"===l?u=`bottom: calc(${Math.floor(100*s)}% - ${p}px)`:"pixels"===l?u=`bottom: ${s-p}px`:"insetPixels"===l&&(u=`top: ${s-p}px`),e.push(u))),c.style=e.join(";")},o.appendChild(c)}function Wt(e,t,i,n){const o=Dt(e,t,i),a=o.entity;let s,r=!1;const l=e._ellipsoid,c=We(Ke(t,"LatLonQuad",Se.gx),l),d=$e(t,"drawOrder",Se.kml);if(Object(g["a"])(c))s=ot(),s.hierarchy=new P["a"](c),s.zIndex=d,a.polygon=s,r=!0;else{s=new ue["a"],s.zIndex=d,a.rectangle=s;const e=Ke(t,"LatLonBox",Se.kml);if(Object(g["a"])(e)){let t=$e(e,"west",Se.kml),i=$e(e,"south",Se.kml),n=$e(e,"east",Se.kml),o=$e(e,"north",Se.kml);Object(g["a"])(t)&&(t=S["a"].negativePiToPi(S["a"].toRadians(t))),Object(g["a"])(i)&&(i=S["a"].clampToLatitudeRange(S["a"].toRadians(i))),Object(g["a"])(n)&&(n=S["a"].negativePiToPi(S["a"].toRadians(n))),Object(g["a"])(o)&&(o=S["a"].clampToLatitudeRange(S["a"].toRadians(o))),s.coordinates=new R["a"](t,i,n,o);const a=$e(e,"rotation",Se.kml);if(Object(g["a"])(a)){const e=S["a"].toRadians(a);s.rotation=e,s.stRotation=e}}}const u=Ke(t,"Icon",Se.kml),h=st(u,e,i.sourceResource,i.uriResolver,!0);if(Object(g["a"])(h)){r&&Object(M["a"])("kml-gx:LatLonQuad","KML - gx:LatLonQuad Icon does not support texture projection.");const e=$e(u,"x",Se.gx),i=$e(u,"y",Se.gx),n=$e(u,"w",Se.gx),o=$e(u,"h",Se.gx);(Object(g["a"])(e)||Object(g["a"])(i)||Object(g["a"])(n)||Object(g["a"])(o))&&Object(M["a"])("kml-groundOverlay-xywh","KML - gx:x, gx:y, gx:w, gx:h aren't supported for GroundOverlays"),s.material=h,s.material.color=et(t,"color",Se.kml),s.material.transparent=!0}else s.material=et(t,"color",Se.kml);let p=Xe(t,"altitudeMode",Se.kml);Object(g["a"])(p)?"absolute"===p?(s.height=$e(t,"altitude",Se.kml),s.zIndex=void 0):"clampToGround"!==p&&Object(M["a"])("kml-altitudeMode-unknown","KML - Unknown altitudeMode: "+p):(p=Xe(t,"altitudeMode",Se.gx),"relativeToSeaFloor"===p?(Object(M["a"])("kml-altitudeMode-relativeToSeaFloor","KML - altitudeMode relativeToSeaFloor is currently not supported, treating as absolute."),s.height=$e(t,"altitude",Se.kml),s.zIndex=void 0):"clampToSeaFloor"===p?Object(M["a"])("kml-altitudeMode-clampToSeaFloor","KML - altitudeMode clampToSeaFloor is currently not supported, treating as clampToGround."):Object(g["a"])(p)&&Object(M["a"])("kml-altitudeMode-unknown","KML - Unknown altitudeMode: "+p))}function zt(e,t,i,n){e._unsupportedNode.raiseEvent(e,i.parentEntity,t,i.entityCollection,i.styleCollection,i.sourceResource,i.uriResolver),Object(M["a"])("kml-unsupportedFeature-"+t.nodeName,"KML - Unsupported feature: "+t.nodeName)}const Gt={INTERVAL:0,EXPIRE:1,STOP:2};function Kt(e){if(!Object(g["a"])(e)||0===e.length)return"";const t=e[0];return"&"!==t&&"?"!==t||(e=e.substring(1)),e}const qt=new R["a"],Ht=new c["a"],$t=new r["a"],Xt=new l["a"];function Yt(e,t,i,n,o,a){function s(e){return e<-S["a"].PI_OVER_TWO?-S["a"].PI_OVER_TWO:e>S["a"].PI_OVER_TWO?S["a"].PI_OVER_TWO:e}function r(e){return e>S["a"].PI?e-S["a"].TWO_PI:e<-S["a"].PI?e+S["a"].TWO_PI:e}let c=Object(D["a"])(e.queryParameters);if(c=c.replace(/%5B/g,"[").replace(/%5D/g,"]"),Object(g["a"])(t)&&t._mode!==z["a"].MORPHING){let e,d;if(o=Object(b["a"])(o,qt),Object(g["a"])(i)&&($t.x=.5*i.clientWidth,$t.y=.5*i.clientHeight,e=t.pickEllipsoid($t,a,Xt)),Object(g["a"])(e)?d=a.cartesianToCartographic(e,Ht):(d=R["a"].center(o,Ht),e=a.cartographicToCartesian(d)),Object(g["a"])(n)&&!S["a"].equalsEpsilon(n,1,S["a"].EPSILON9)){const e=o.width*n*.5,t=o.height*n*.5;o=new R["a"](r(d.longitude-e),s(d.latitude-t),r(d.longitude+e),s(d.latitude+t))}c=c.replace("[bboxWest]",S["a"].toDegrees(o.west).toString()),c=c.replace("[bboxSouth]",S["a"].toDegrees(o.south).toString()),c=c.replace("[bboxEast]",S["a"].toDegrees(o.east).toString()),c=c.replace("[bboxNorth]",S["a"].toDegrees(o.north).toString());const u=S["a"].toDegrees(d.longitude).toString(),h=S["a"].toDegrees(d.latitude).toString();c=c.replace("[lookatLon]",u),c=c.replace("[lookatLat]",h),c=c.replace("[lookatTilt]",S["a"].toDegrees(t.pitch).toString()),c=c.replace("[lookatHeading]",S["a"].toDegrees(t.heading).toString()),c=c.replace("[lookatRange]",l["a"].distance(t.positionWC,e)),c=c.replace("[lookatTerrainLon]",u),c=c.replace("[lookatTerrainLat]",h),c=c.replace("[lookatTerrainAlt]",d.height.toString()),a.cartesianToCartographic(t.positionWC,Ht),c=c.replace("[cameraLon]",S["a"].toDegrees(Ht.longitude).toString()),c=c.replace("[cameraLat]",S["a"].toDegrees(Ht.latitude).toString()),c=c.replace("[cameraAlt]",S["a"].toDegrees(Ht.height).toString());const p=t.frustum,f=p.aspectRatio;let m="",O="";if(Object(g["a"])(f)){const e=S["a"].toDegrees(p.fov);f>1?(m=e,O=e/f):(O=e,m=e*f)}c=c.replace("[horizFov]",m.toString()),c=c.replace("[vertFov]",O.toString())}else c=c.replace("[bboxWest]","-180"),c=c.replace("[bboxSouth]","-90"),c=c.replace("[bboxEast]","180"),c=c.replace("[bboxNorth]","90"),c=c.replace("[lookatLon]",""),c=c.replace("[lookatLat]",""),c=c.replace("[lookatRange]",""),c=c.replace("[lookatTilt]",""),c=c.replace("[lookatHeading]",""),c=c.replace("[lookatTerrainLon]",""),c=c.replace("[lookatTerrainLat]",""),c=c.replace("[lookatTerrainAlt]",""),c=c.replace("[cameraLon]",""),c=c.replace("[cameraLat]",""),c=c.replace("[cameraAlt]",""),c=c.replace("[horizFov]",""),c=c.replace("[vertFov]","");Object(g["a"])(i)?(c=c.replace("[horizPixels]",i.clientWidth),c=c.replace("[vertPixels]",i.clientHeight)):(c=c.replace("[horizPixels]",""),c=c.replace("[vertPixels]","")),c=c.replace("[terrainEnabled]","1"),c=c.replace("[clientVersion]","1"),c=c.replace("[kmlVersion]","2.2"),c=c.replace("[clientName]","Cesium"),c=c.replace("[language]","English"),e.setQueryParameters(Object(I["a"])(c))}function Jt(e,t,i,n){const o=Dt(e,t,i),a=o.entity,s=i.sourceResource,r=i.uriResolver;let l=Ke(t,"Link",Se.kml);if(Object(g["a"])(l)||(l=Ke(t,"Url",Se.kml)),Object(g["a"])(l)){let t,o,c=Xe(l,"href",Se.kml);if(Object(g["a"])(c)){let d=c;if(c=Je(c,s,i.uriResolver),/^data:/.test(c.getUrlComponent()))/\.kmz/i.test(s.getUrlComponent())||(d=s.getDerivedResource({url:d}));else{d=c.clone(),t=Xe(l,"viewRefreshMode",Se.kml),o=Object(b["a"])(Xe(l,"viewBoundScale",Se.kml),1);const i="onStop"===t?"BBOX=[bboxWest],[bboxSouth],[bboxEast],[bboxNorth]":"",n=Object(b["a"])(Xe(l,"viewFormat",Se.kml),i),a=Xe(l,"httpQuery",Se.kml);Object(g["a"])(n)&&c.setQueryParameters(Object(I["a"])(Kt(n))),Object(g["a"])(a)&&c.setQueryParameters(Object(I["a"])(Kt(a)));const s=e._ellipsoid;Yt(c,e.camera,e.canvas,o,e._lastCameraView.bbox,s)}const u={sourceUri:d,uriResolver:r,context:a.id,screenOverlayContainer:i.screenOverlayContainer},h=new ee["a"],p=ti(e,h,c,u).then((function(i){const n=e._entityCollection,s=h.values;n.suspendEvents();for(let e=0;e<s.length;e++){const t=s[e];Object(g["a"])(t.parent)||(t.parent=a,ni(t)),n.add(t)}n.resumeEvents();const r=Xe(l,"refreshMode",Se.kml);let d=Object(b["a"])($e(l,"refreshInterval",Se.kml),0);if("onInterval"===r&&d>0||"onExpire"===r||"onStop"===t){const t=Ke(i,"NetworkLinkControl",Se.kml),n=Object(g["a"])(t),s=T["a"].now(),h={id:Object(f["a"])(),href:c,cookie:{},lastUpdated:s,updating:!1,entity:a,viewBoundScale:o,needsUpdate:!1,cameraUpdateTime:s};let p=0;if(n&&(h.cookie=Object(I["a"])(Object(b["a"])(Xe(t,"cookie",Se.kml),"")),p=Object(b["a"])($e(t,"minRefreshPeriod",Se.kml),0)),"onInterval"===r)n&&(d=Math.max(p,d)),h.refreshMode=Gt.INTERVAL,h.time=d;else if("onExpire"===r){let e;if(n&&(e=Xe(t,"expires",Se.kml)),Object(g["a"])(e))try{const t=T["a"].fromIso8601(e),i=T["a"].secondsDifference(t,s);i>0&&i<p&&T["a"].addSeconds(s,p,t),h.refreshMode=Gt.EXPIRE,h.time=t}catch(u){Object(M["a"])("kml-refreshMode-onInterval-onExpire","KML - NetworkLinkControl expires is not a valid date")}else Object(M["a"])("kml-refreshMode-onExpire","KML - refreshMode of onExpire requires the NetworkLinkControl to have an expires element")}else Object(g["a"])(e.camera)?(h.refreshMode=Gt.STOP,h.time=Object(b["a"])($e(l,"viewRefreshTime",Se.kml),0)):Object(M["a"])("kml-refrehMode-onStop-noCamera","A NetworkLink with viewRefreshMode=onStop requires the `camera` property to be defined.");Object(g["a"])(h.refreshMode)&&e._networkLinks.set(h.id,h)}else"onRegion"===t&&Object(M["a"])("kml-refrehMode-onRegion","KML - Unsupported viewRefreshMode: onRegion")})).catch((function(t){Object(M["a"])("An error occured during loading "+c.url),e._error.raiseEvent(e,t)}));n.addPromise(p)}}}function Qt(e,t,i,n){const o=Ee[t.localName];return Object(g["a"])(o)?o(e,t,i,n):zt(e,t,i,n)}function Zt(e,t,i,n,o,a,s){t.removeAll();const r=i.documentElement,l="Document"===r.localName?r:Ke(r,"Document",Se.kml);let c=Xe(l,"name",Se.kml);Object(g["a"])(c)||(c=Object(v["a"])(n.getUrlComponent())),Object(g["a"])(e._name)||(e._name=c);const d=new ii._DeferredLoading(e),u=new ee["a"](e);return Promise.all(ut(e,i,u,n,!1,o)).then((function(){let r=i.documentElement;if("kml"===r.localName){const e=r.childNodes;for(let t=0;t<e.length;t++){const i=e[t];if(Object(g["a"])(Ee[i.localName])){r=i;break}}}const l={parentEntity:void 0,entityCollection:t,styleCollection:u,sourceResource:n,uriResolver:o,context:s,screenOverlayContainer:a};return t.suspendEvents(),Qt(e,r,l,d),t.resumeEvents(),d.wait().then((function(){return i.documentElement}))}))}function ei(e,t,i,n,o){const a=Object(s["a"])("ThirdParty/Workers/z-worker-pako.js");q["a"].configure({workerScripts:{deflate:[a,"./pako_deflate.min.js"],inflate:[a,"./pako_inflate.min.js"]}});const r=new q["a"].ZipReader(new q["a"].BlobReader(i));return Promise.resolve(r.getEntries()).then((function(i){const a=[],s={};let l;for(let e=0;e<i.length;e++){const t=i[e];t.directory||(/\.kml$/i.test(t.filename)?Object(g["a"])(l)&&/\//i.test(t.filename)?a.push(Ne(t,s)):(Object(g["a"])(l)&&a.push(Ne(l,s)),l=t):a.push(Ne(t,s)))}return Object(g["a"])(l)&&a.push(Re(l,s)),Promise.all(a).then((function(){if(r.close(),!Object(g["a"])(s.kml))throw new B["a"]("KMZ file does not contain a KML document.");return s.keys=Object.keys(s),Zt(e,t,s.kml,n,s,o)}))}))}function ti(e,t,i,n){n=Object(b["a"])(n,b["a"].EMPTY_OBJECT);let o=n.sourceUri;const a=n.uriResolver,s=n.context;let r=n.screenOverlayContainer,l=i;if("string"===typeof i||i instanceof N["a"]){i=N["a"].createIfNeeded(i),l=i.fetchBlob(),o=Object(b["a"])(o,i.clone());const t=e._resourceCredits,n=i.credits;if(Object(g["a"])(n)){const e=n.length;for(let i=0;i<e;i++)t.push(n[i])}}else o=Object(b["a"])(o,N["a"].DEFAULT.clone());return o=N["a"].createIfNeeded(o),Object(g["a"])(r)&&(r=Object(H["a"])(r)),Promise.resolve(l).then((function(i){return i instanceof Blob?Me(i).then((function(n){return n?ei(e,t,i,o,r):Le(i).then((function(i){let n,l;i=Pe(i),i=Ie(i);try{n=ge.parseFromString(i,"application/xml")}catch(c){l=c.toString()}if(Object(g["a"])(l)||n.body||"parsererror"===n.documentElement.tagName){let e=Object(g["a"])(l)?l:n.documentElement.firstChild.nodeValue;throw e||(e=n.body.innerText),new B["a"](e)}return Zt(e,t,n,o,a,r,s)}))})):Zt(e,t,i,o,a,r,s)})).catch((function(t){return e._error.raiseEvent(e,t),console.log(t),Promise.reject(t)}))}function ii(e){e=Object(b["a"])(e,b["a"].EMPTY_OBJECT);const t=e.camera,i=e.canvas;this._changed=new _["a"],this._error=new _["a"],this._loading=new _["a"],this._refresh=new _["a"],this._unsupportedNode=new _["a"],this._clock=void 0,this._entityCollection=new ee["a"](this),this._name=void 0,this._isLoading=!1,this._pinBuilder=new L["a"],this._networkLinks=new o["a"],this._entityCluster=new Z["a"],this.canvas=i,this.camera=t,this._lastCameraView={position:Object(g["a"])(t)?l["a"].clone(t.positionWC):void 0,direction:Object(g["a"])(t)?l["a"].clone(t.directionWC):void 0,up:Object(g["a"])(t)?l["a"].clone(t.upWC):void 0,bbox:Object(g["a"])(t)?t.computeViewRectangle():R["a"].clone(R["a"].MAX_VALUE)},this._ellipsoid=Object(b["a"])(e.ellipsoid,j["a"].WGS84);let n=e.credit;"string"===typeof n&&(n=new m["a"](n)),this._credit=n,this._resourceCredits=[],this._kmlTours=[],this._screenOverlays=[]}function ni(e){const t=e.parent;if(Object(g["a"])(t)){const i=t.availability;if(Object(g["a"])(i)){const t=e.availability;Object(g["a"])(t)?t.intersect(i):e.availability=i}}}function oi(e,t,i,n,o){return function(a){if(!n.contains(t.id))return;let s=!1;const r=Ke(a,"NetworkLinkControl",Se.kml),l=Object(g["a"])(r);let c=0;if(l){if(Object(g["a"])(Ke(r,"Update",Se.kml)))return Object(M["a"])("kml-networkLinkControl-update","KML - NetworkLinkControl updates aren't supported."),t.updating=!1,void n.remove(t.id);t.cookie=Object(I["a"])(Object(b["a"])(Xe(r,"cookie",Se.kml),"")),c=Object(b["a"])($e(r,"minRefreshPeriod",Se.kml),0)}const d=T["a"].now(),u=t.refreshMode;if(u===Gt.INTERVAL)Object(g["a"])(r)&&(t.time=Math.max(c,t.time));else if(u===Gt.EXPIRE){let e;if(Object(g["a"])(r)&&(e=Xe(r,"expires",Se.kml)),Object(g["a"])(e))try{const i=T["a"].fromIso8601(e),n=T["a"].secondsDifference(i,d);n>0&&n<c&&T["a"].addSeconds(d,c,i),t.time=i}catch(k){Object(M["a"])("kml-networkLinkControl-expires","KML - NetworkLinkControl expires is not a valid date"),s=!0}else Object(M["a"])("kml-refreshMode-onExpire","KML - refreshMode of onExpire requires the NetworkLinkControl to have an expires element"),s=!0}const h=t.entity,p=e._entityCollection,f=i.values;function m(e){p.remove(e);const t=e._children,i=t.length;for(let n=0;n<i;++n)m(t[n])}p.suspendEvents();const O=p.values.slice();let j;for(j=0;j<O.length;++j){const e=O[j];e.parent===h&&(e.parent=void 0,m(e))}for(p.resumeEvents(),p.suspendEvents(),j=0;j<f.length;j++){const e=f[j];Object(g["a"])(e.parent)||(e.parent=h,ni(e)),p.add(e)}p.resumeEvents(),s?n.remove(t.id):t.lastUpdated=d;const _=p.computeAvailability(),y=_.start,v=_.stop,w=T["a"].equals(y,C["a"].MINIMUM_VALUE),x=T["a"].equals(v,C["a"].MAXIMUM_VALUE);if(!w||!x){const t=e._clock;t.startTime===y&&t.stopTime===v||(t.startTime=y,t.stopTime=v,e._changed.raiseEvent(e))}t.updating=!1,t.needsUpdate=!1,e._refresh.raiseEvent(e,o.getUrlComponent(!0))}}ii.load=function(e,t){t=Object(b["a"])(t,b["a"].EMPTY_OBJECT);const i=new ii(t);return i.load(e,t)},Object.defineProperties(ii.prototype,{name:{get:function(){return this._name},set:function(e){this._name!==e&&(this._name=e,this._changed.raiseEvent(this))}},clock:{get:function(){return this._clock}},entities:{get:function(){return this._entityCollection}},isLoading:{get:function(){return this._isLoading}},changedEvent:{get:function(){return this._changed}},errorEvent:{get:function(){return this._error}},loadingEvent:{get:function(){return this._loading}},refreshEvent:{get:function(){return this._refresh}},unsupportedNodeEvent:{get:function(){return this._unsupportedNode}},show:{get:function(){return this._entityCollection.show},set:function(e){this._entityCollection.show=e}},clustering:{get:function(){return this._entityCluster},set:function(e){this._entityCluster=e}},credit:{get:function(){return this._credit}},kmlTours:{get:function(){return this._kmlTours}}}),ii.prototype.load=function(e,t){t=Object(b["a"])(t,b["a"].EMPTY_OBJECT),Y["a"].setLoading(this,!0);const i=this._name;this._name=void 0,this._clampToGround=Object(b["a"])(t.clampToGround,!1);const n=this;return ti(this,this._entityCollection,e,t).then((function(){let e;const t=n._entityCollection.computeAvailability();let o=t.start,a=t.stop;const s=T["a"].equals(o,C["a"].MINIMUM_VALUE),r=T["a"].equals(a,C["a"].MAXIMUM_VALUE);if(!s||!r){let t;s&&(t=new Date,t.setHours(0,0,0,0),o=T["a"].fromDate(t)),r&&(t=new Date,t.setHours(24,0,0,0),a=T["a"].fromDate(t)),e=new J["a"],e.startTime=o,e.stopTime=a,e.currentTime=T["a"].clone(o),e.clockRange=d["a"].LOOP_STOP,e.clockStep=u["a"].SYSTEM_CLOCK_MULTIPLIER,e.multiplier=Math.round(Math.min(Math.max(T["a"].secondsDifference(a,o)/60,1),31556900))}let l=!1;return e!==n._clock&&(n._clock=e,l=!0),i!==n._name&&(l=!0),l&&n._changed.raiseEvent(n),Y["a"].setLoading(n,!1),n})).catch((function(e){return Y["a"].setLoading(n,!1),n._error.raiseEvent(n,e),console.log(e),Promise.reject(e)}))},ii.prototype.destroy=function(){while(this._screenOverlays.length>0){const e=this._screenOverlays.pop();e.remove()}};const ai=new o["a"];function si(){this.author={name:void 0,uri:void 0,email:void 0},this.link={href:void 0,hreflang:void 0,rel:void 0,type:void 0,title:void 0,length:void 0},this.address=void 0,this.phoneNumber=void 0,this.snippet=void 0,this.extendedData=void 0}ii.prototype.update=function(e){const t=this._networkLinks;if(0===t.length)return!0;const i=T["a"].now(),n=this;function a(e){const t=e._children,i=t.length;for(let n=0;n<i;++n){const e=t[n];ai.set(e.id,e),a(e)}}ai.removeAll();let s=!1;const r=this._lastCameraView,c=this.camera;!Object(g["a"])(c)||c.positionWC.equalsEpsilon(r.position,S["a"].EPSILON7)&&c.directionWC.equalsEpsilon(r.direction,S["a"].EPSILON7)&&c.upWC.equalsEpsilon(r.up,S["a"].EPSILON7)||(r.position=l["a"].clone(c.positionWC),r.direction=l["a"].clone(c.directionWC),r.up=l["a"].clone(c.upWC),r.bbox=c.computeViewRectangle(),s=!0);const d=new o["a"];let u=!1;return t.values.forEach((function(e){const t=e.entity;if(!ai.contains(t.id)){if(!e.updating){let o=!1;if(e.refreshMode===Gt.INTERVAL?T["a"].secondsDifference(i,e.lastUpdated)>e.time&&(o=!0):e.refreshMode===Gt.EXPIRE?T["a"].greaterThan(i,e.time)&&(o=!0):e.refreshMode===Gt.STOP&&(s&&(e.needsUpdate=!0,e.cameraUpdateTime=i),e.needsUpdate&&T["a"].secondsDifference(i,e.cameraUpdateTime)>=e.time&&(o=!0)),o){a(t),e.updating=!0;const i=new ee["a"],o=e.href.clone();o.setQueryParameters(e.cookie);const s=Object(b["a"])(n._ellipsoid,j["a"].WGS84);Yt(o,n.camera,n.canvas,e.viewBoundScale,r.bbox,s),ti(n,i,o,{context:t.id}).then(oi(n,e,i,d,o)).catch((function(t){const i=`NetworkLink ${e.href} refresh failed: ${t}`;console.log(i),n._error.raiseEvent(n,i)})),u=!0}}d.set(e.id,e)}})),u&&(this._networkLinks=d,this._changed.raiseEvent(this)),!0},ii._DeferredLoading=De,ii._getTimestamp=w["a"],t["a"]=ii},"40b2":function(e,t,i){"use strict";var n=i("bd8d"),o=i("2f63"),a=i("4f04"),s=i("aea3");function r(){a["a"].throwInstantiationError()}Object.defineProperties(r.prototype,{isConstant:{get:a["a"].throwInstantiationError},definitionChanged:{get:a["a"].throwInstantiationError}}),r.prototype.getType=a["a"].throwInstantiationError,r.prototype.getValue=a["a"].throwInstantiationError,r.prototype.equals=a["a"].throwInstantiationError,r.getValue=function(e,t,i){let a;return Object(o["a"])(t)&&(a=t.getType(e),Object(o["a"])(a))?(Object(o["a"])(i)&&i.type===a||(i=s["a"].fromType(a)),t.getValue(e,i.uniforms),i):(Object(o["a"])(i)&&i.type===s["a"].ColorType||(i=s["a"].fromType(s["a"].ColorType)),n["a"].clone(n["a"].WHITE,i.uniforms.color),i)},t["a"]=r},4177:function(e,t,i){"use strict";function n(e,t){this.position=e,this.headingPitchRange=t}t["a"]=n},"4ccd":function(e,t,i){"use strict";var n=i("670c"),o=i("bd8d"),a=i("535a"),s=i("2f63"),r=i("21d7"),l=i("0a43"),c=i("ea07");const d=o["a"].WHITE,u=.1,h=new n["a"](8,8),p=new n["a"](0,0),f=new n["a"](1,1);function m(e){e=Object(a["a"])(e,a["a"].EMPTY_OBJECT),this._definitionChanged=new r["a"],this._color=void 0,this._colorSubscription=void 0,this._cellAlpha=void 0,this._cellAlphaSubscription=void 0,this._lineCount=void 0,this._lineCountSubscription=void 0,this._lineThickness=void 0,this._lineThicknessSubscription=void 0,this._lineOffset=void 0,this._lineOffsetSubscription=void 0,this.color=e.color,this.cellAlpha=e.cellAlpha,this.lineCount=e.lineCount,this.lineThickness=e.lineThickness,this.lineOffset=e.lineOffset}Object.defineProperties(m.prototype,{isConstant:{get:function(){return c["a"].isConstant(this._color)&&c["a"].isConstant(this._cellAlpha)&&c["a"].isConstant(this._lineCount)&&c["a"].isConstant(this._lineThickness)&&c["a"].isConstant(this._lineOffset)}},definitionChanged:{get:function(){return this._definitionChanged}},color:Object(l["a"])("color"),cellAlpha:Object(l["a"])("cellAlpha"),lineCount:Object(l["a"])("lineCount"),lineThickness:Object(l["a"])("lineThickness"),lineOffset:Object(l["a"])("lineOffset")}),m.prototype.getType=function(e){return"Grid"},m.prototype.getValue=function(e,t){return Object(s["a"])(t)||(t={}),t.color=c["a"].getValueOrClonedDefault(this._color,e,d,t.color),t.cellAlpha=c["a"].getValueOrDefault(this._cellAlpha,e,u),t.lineCount=c["a"].getValueOrClonedDefault(this._lineCount,e,h,t.lineCount),t.lineThickness=c["a"].getValueOrClonedDefault(this._lineThickness,e,f,t.lineThickness),t.lineOffset=c["a"].getValueOrClonedDefault(this._lineOffset,e,p,t.lineOffset),t},m.prototype.equals=function(e){return this===e||e instanceof m&&c["a"].equals(this._color,e._color)&&c["a"].equals(this._cellAlpha,e._cellAlpha)&&c["a"].equals(this._lineCount,e._lineCount)&&c["a"].equals(this._lineThickness,e._lineThickness)&&c["a"].equals(this._lineOffset,e._lineOffset)},t["a"]=m},5174:function(e,t,i){"use strict";var n=i("933b"),o=i("670c"),a=i("be18"),s=i("bd8d"),r=i("535a"),l=i("2f63"),c=i("7d62"),d=i("aee6"),u=i("6dfc"),h=i("2d75"),p=i("f61d"),f=i("4626"),m=i("05e5"),b=i("2d19"),O=i("ea07");const g=1,j="30px sans-serif",_=f["a"].FILL,y=s["a"].WHITE,v=s["a"].BLACK,w=1,x=!1,k=new s["a"](.165,.165,.165,.8),C=new o["a"](7,5),T=o["a"].ZERO,S=a["a"].ZERO,E=h["a"].NONE,D=p["a"].CENTER,M=m["a"].CENTER,L=new a["a"],P=new s["a"],I=new s["a"],R=new s["a"],N=new o["a"],B=new a["a"],A=new o["a"],V=new u["a"],U=new u["a"],F=new u["a"],W=new d["a"];function z(e){this.entity=e,this.label=void 0,this.index=void 0}function G(e,t){t.collectionChanged.addEventListener(G.prototype._onCollectionChanged,this),this._cluster=e,this._entityCollection=t,this._items=new n["a"],this._onCollectionChanged(t,t.values,[],[])}function K(e,t,i){Object(l["a"])(e)&&(e.label=void 0,i.removeLabel(t))}G.prototype.update=function(e){const t=this._items.values,i=this._cluster;for(let n=0,o=t.length;n<o;n++){const o=t[n],s=o.entity,r=s._label;let c,d,u=o.label,h=s.isShowing&&s.isAvailable(e)&&O["a"].getValueOrDefault(r._show,e,!0);if(h&&(d=O["a"].getValueOrUndefined(s._position,e,L),c=O["a"].getValueOrUndefined(r._text,e),h=Object(l["a"])(d)&&Object(l["a"])(c)),!h){K(o,s,i);continue}O["a"].isConstant(s._position)||(i._clusterDirty=!0);let p=!1;const f=O["a"].getValueOrDefault(r._heightReference,e,E);Object(l["a"])(u)||(u=i.getLabel(s),u.id=s,o.label=u,p=a["a"].equals(u.position,d)&&u.heightReference===f),u.show=!0,u.position=d,u.text=c,u.scale=O["a"].getValueOrDefault(r._scale,e,g),u.font=O["a"].getValueOrDefault(r._font,e,j),u.style=O["a"].getValueOrDefault(r._style,e,_),u.fillColor=O["a"].getValueOrDefault(r._fillColor,e,y,P),u.outlineColor=O["a"].getValueOrDefault(r._outlineColor,e,v,I),u.outlineWidth=O["a"].getValueOrDefault(r._outlineWidth,e,w),u.showBackground=O["a"].getValueOrDefault(r._showBackground,e,x),u.backgroundColor=O["a"].getValueOrDefault(r._backgroundColor,e,k,R),u.backgroundPadding=O["a"].getValueOrDefault(r._backgroundPadding,e,C,N),u.pixelOffset=O["a"].getValueOrDefault(r._pixelOffset,e,T,A),u.eyeOffset=O["a"].getValueOrDefault(r._eyeOffset,e,S,B),u.heightReference=f,u.horizontalOrigin=O["a"].getValueOrDefault(r._horizontalOrigin,e,D),u.verticalOrigin=O["a"].getValueOrDefault(r._verticalOrigin,e,M),u.translucencyByDistance=O["a"].getValueOrUndefined(r._translucencyByDistance,e,V),u.pixelOffsetScaleByDistance=O["a"].getValueOrUndefined(r._pixelOffsetScaleByDistance,e,U),u.scaleByDistance=O["a"].getValueOrUndefined(r._scaleByDistance,e,F),u.distanceDisplayCondition=O["a"].getValueOrUndefined(r._distanceDisplayCondition,e,W),u.disableDepthTestDistance=O["a"].getValueOrUndefined(r._disableDepthTestDistance,e),p&&u._updateClamping()}return!0},G.prototype.getBoundingSphere=function(e,t){const i=this._items.get(e.id);if(!Object(l["a"])(i)||!Object(l["a"])(i.label))return b["a"].FAILED;const n=i.label;return t.center=a["a"].clone(Object(r["a"])(n._clampedPosition,n.position),t.center),t.radius=0,b["a"].DONE},G.prototype.isDestroyed=function(){return!1},G.prototype.destroy=function(){this._entityCollection.collectionChanged.removeEventListener(G.prototype._onCollectionChanged,this);const e=this._entityCollection.values;for(let t=0;t<e.length;t++)this._cluster.removeLabel(e[t]);return Object(c["a"])(this)},G.prototype._onCollectionChanged=function(e,t,i,n){let o,a;const s=this._items,r=this._cluster;for(o=t.length-1;o>-1;o--)a=t[o],Object(l["a"])(a._label)&&Object(l["a"])(a._position)&&s.set(a.id,new z(a));for(o=n.length-1;o>-1;o--)a=n[o],Object(l["a"])(a._label)&&Object(l["a"])(a._position)?s.contains(a.id)||s.set(a.id,new z(a)):(K(s.get(a.id),a,r),s.remove(a.id));for(o=i.length-1;o>-1;o--)a=i[o],K(s.get(a.id),a,r),s.remove(a.id)},t["a"]=G},"57b5":function(e,t,i){"use strict";var n=i("670c"),o=i("bd8d"),a=i("535a"),s=i("2f63"),r=i("21d7"),l=i("0a43"),c=i("ea07");const d=new n["a"](1,1),u=!1,h=o["a"].WHITE;function p(e){e=Object(a["a"])(e,a["a"].EMPTY_OBJECT),this._definitionChanged=new r["a"],this._image=void 0,this._imageSubscription=void 0,this._repeat=void 0,this._repeatSubscription=void 0,this._color=void 0,this._colorSubscription=void 0,this._transparent=void 0,this._transparentSubscription=void 0,this.image=e.image,this.repeat=e.repeat,this.color=e.color,this.transparent=e.transparent}Object.defineProperties(p.prototype,{isConstant:{get:function(){return c["a"].isConstant(this._image)&&c["a"].isConstant(this._repeat)}},definitionChanged:{get:function(){return this._definitionChanged}},image:Object(l["a"])("image"),repeat:Object(l["a"])("repeat"),color:Object(l["a"])("color"),transparent:Object(l["a"])("transparent")}),p.prototype.getType=function(e){return"Image"},p.prototype.getValue=function(e,t){return Object(s["a"])(t)||(t={}),t.image=c["a"].getValueOrUndefined(this._image,e),t.repeat=c["a"].getValueOrClonedDefault(this._repeat,e,d,t.repeat),t.color=c["a"].getValueOrClonedDefault(this._color,e,h,t.color),c["a"].getValueOrDefault(this._transparent,e,u)&&(t.color.alpha=Math.min(.99,t.color.alpha)),t},p.prototype.equals=function(e){return this===e||e instanceof p&&c["a"].equals(this._image,e._image)&&c["a"].equals(this._repeat,e._repeat)&&c["a"].equals(this._color,e._color)&&c["a"].equals(this._transparent,e._transparent)},t["a"]=p},"6dd3":function(e,t,i){"use strict";var n=i("2f63"),o=i("21d7");function a(e,t){this.id=t,this.name=e,this.playlistIndex=0,this.playlist=[],this.tourStart=new o["a"],this.tourEnd=new o["a"],this.entryStart=new o["a"],this.entryEnd=new o["a"],this._activeEntries=[]}function s(e){for(let t=e.pop();void 0!==t;t=e.pop())t.stop()}function r(e,t,i){const o=this.playlist[this.playlistIndex];if(o){const n=l.bind(this,e,t,i);if(this._activeEntries.push(o),this.entryStart.raiseEvent(o),o.blocking)o.play(n,e.scene.camera,t);else{const a=this;o.play((function(){a.entryEnd.raiseEvent(o);const e=a._activeEntries.indexOf(o);e>=0&&a._activeEntries.splice(e,1)})),n(e,t,i)}}else Object(n["a"])(i)&&i(!1)}function l(e,t,i,n){const o=this.playlist[this.playlistIndex];if(this.entryEnd.raiseEvent(o,n),n)i(n);else{const n=this._activeEntries.indexOf(o);n>=0&&this._activeEntries.splice(n,1),this.playlistIndex++,r.call(this,e,t,i)}}a.prototype.addPlaylistEntry=function(e){this.playlist.push(e)},a.prototype.play=function(e,t){this.tourStart.raiseEvent();const i=this;r.call(this,e,t,(function(e){i.playlistIndex=0,e||s(i._activeEntries),i.tourEnd.raiseEvent(e)}))},a.prototype.stop=function(){s(this._activeEntries)},t["a"]=a},a10a:function(e,t,i){"use strict";var n=i("933b"),o=i("cef5"),a=i("670c"),s=i("bd8d"),r=i("2f63"),l=i("7d62"),c=i("52f0"),d=i("d4ed"),u=i("c1f7"),h=i("2d75"),p=i("ce35"),f=i("8a9e"),m=i("c86b"),b=i("2d19"),O=i("ea07");const g=1,j=0,_=!0,y=!0,v=m["a"].ENABLED,w=h["a"].NONE,x=s["a"].RED,k=0,C=s["a"].WHITE,T=u["a"].HIGHLIGHT,S=.5,E=new a["a"](1,1),D=new c["a"],M=new c["a"];function L(e,t){t.collectionChanged.addEventListener(L.prototype._onCollectionChanged,this),this._scene=e,this._primitives=e.primitives,this._entityCollection=t,this._modelHash={},this._entitiesToVisualize=new n["a"],this._onCollectionChanged(t,t.values,[],[])}function P(e,t,i,n){const o=i[t.id];Object(r["a"])(o)&&(n.removeAndDestroy(o.modelPrimitive),delete i[t.id])}function I(e,t){const i=t[e.id];Object(r["a"])(i)&&(i.nodeTransformationsScratch={},i.articulationsScratch={})}function R(e,t,i){e.readyPromise.catch((function(e){console.error(e),i[t.id].loadFail=!0}))}L.prototype.update=function(e){const t=this._entitiesToVisualize.values,i=this._modelHash,n=this._primitives;for(let o=0,a=t.length;o<a;o++){const a=t[o],s=a._model;let l,u,h=i[a.id],m=a.isShowing&&a.isAvailable(e)&&O["a"].getValueOrDefault(s._show,e,!0);if(m&&(u=a.computeModelMatrix(e,D),l=d["a"].createIfNeeded(O["a"].getValueOrUndefined(s._uri,e)),m=Object(r["a"])(u)&&Object(r["a"])(l)),!m){Object(r["a"])(h)&&(h.modelPrimitive.show=!1);continue}let b=Object(r["a"])(h)?h.modelPrimitive:void 0;if(Object(r["a"])(b)&&l.url===h.url||(Object(r["a"])(b)&&(n.removeAndDestroy(b),delete i[a.id]),b=p["a"].fromGltf({url:l,incrementallyLoadTextures:O["a"].getValueOrDefault(s._incrementallyLoadTextures,e,_),scene:this._scene}),b.id=a,n.add(b),h={modelPrimitive:b,url:l.url,animationsRunning:!1,nodeTransformationsScratch:{},articulationsScratch:{},loadFail:!1},i[a.id]=h,R(b,a,i)),b.show=!0,b.scale=O["a"].getValueOrDefault(s._scale,e,g),b.minimumPixelSize=O["a"].getValueOrDefault(s._minimumPixelSize,e,j),b.maximumScale=O["a"].getValueOrUndefined(s._maximumScale,e),b.modelMatrix=c["a"].clone(u,b.modelMatrix),b.shadows=O["a"].getValueOrDefault(s._shadows,e,v),b.heightReference=O["a"].getValueOrDefault(s._heightReference,e,w),b.distanceDisplayCondition=O["a"].getValueOrUndefined(s._distanceDisplayCondition,e),b.silhouetteColor=O["a"].getValueOrDefault(s._silhouetteColor,e,x,b._silhouetteColor),b.silhouetteSize=O["a"].getValueOrDefault(s._silhouetteSize,e,k),b.color=O["a"].getValueOrDefault(s._color,e,C,b._color),b.colorBlendMode=O["a"].getValueOrDefault(s._colorBlendMode,e,T),b.colorBlendAmount=O["a"].getValueOrDefault(s._colorBlendAmount,e,S),b.clippingPlanes=O["a"].getValueOrUndefined(s._clippingPlanes,e),b.clampAnimations=O["a"].getValueOrDefault(s._clampAnimations,e,y),b.imageBasedLighting.imageBasedLightingFactor=O["a"].getValueOrDefault(s._imageBasedLightingFactor,e,E),b.lightColor=O["a"].getValueOrUndefined(s._lightColor,e),b.ready){const t=O["a"].getValueOrDefault(s._runAnimations,e,!0);h.animationsRunning!==t&&(t?b.activeAnimations.addAll({loop:f["a"].REPEAT}):b.activeAnimations.removeAll(),h.animationsRunning=t);const i=O["a"].getValueOrUndefined(s._nodeTransformations,e,h.nodeTransformationsScratch);if(Object(r["a"])(i)){const e=Object.keys(i);for(let t=0,n=e.length;t<n;++t){const n=e[t],o=i[n];if(!Object(r["a"])(o))continue;const a=b.getNode(n);if(!Object(r["a"])(a))continue;const s=c["a"].fromTranslationRotationScale(o,M);a.matrix=c["a"].multiply(a.originalMatrix,s,s)}}let n=!1;const o=O["a"].getValueOrUndefined(s._articulations,e,h.articulationsScratch);if(Object(r["a"])(o)){const e=Object.keys(o);for(let t=0,i=e.length;t<i;++t){const i=e[t],a=o[i];Object(r["a"])(a)&&(n=!0,b.setArticulationStage(i,a))}}n&&b.applyArticulations()}}return!0},L.prototype.isDestroyed=function(){return!1},L.prototype.destroy=function(){this._entityCollection.collectionChanged.removeEventListener(L.prototype._onCollectionChanged,this);const e=this._entitiesToVisualize.values,t=this._modelHash,i=this._primitives;for(let n=e.length-1;n>-1;n--)P(this,e[n],t,i);return Object(l["a"])(this)},L.prototype.getBoundingSphere=function(e,t){const i=this._modelHash[e.id];if(!Object(r["a"])(i)||i.loadFail)return b["a"].FAILED;const n=i.modelPrimitive;if(!Object(r["a"])(n)||!n.show)return b["a"].FAILED;if(!n.ready)return b["a"].PENDING;if(n.heightReference===h["a"].NONE)o["a"].transform(n.boundingSphere,n.modelMatrix,t);else{if(!Object(r["a"])(n._clampedModelMatrix))return b["a"].PENDING;o["a"].transform(n.boundingSphere,n._clampedModelMatrix,t)}return b["a"].DONE},L.prototype._onCollectionChanged=function(e,t,i,n){let o,a;const s=this._entitiesToVisualize,l=this._modelHash,c=this._primitives;for(o=t.length-1;o>-1;o--)a=t[o],Object(r["a"])(a._model)&&Object(r["a"])(a._position)&&s.set(a.id,a);for(o=n.length-1;o>-1;o--)a=n[o],Object(r["a"])(a._model)&&Object(r["a"])(a._position)?(I(a,l),s.set(a.id,a)):(P(this,a,l,c),s.remove(a.id));for(o=i.length-1;o>-1;o--)a=i[o],P(this,a,l,c),s.remove(a.id)},t["a"]=L},bd04:function(e,t,i){"use strict";var n=i("535a"),o=i("2f63"),a=i("21d7"),s=i("dde7"),r=i("0a43");function l(e){this._definitionChanged=new a["a"],this._show=void 0,this._showSubscription=void 0,this._leadTime=void 0,this._leadTimeSubscription=void 0,this._trailTime=void 0,this._trailTimeSubscription=void 0,this._width=void 0,this._widthSubscription=void 0,this._resolution=void 0,this._resolutionSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this.merge(Object(n["a"])(e,n["a"].EMPTY_OBJECT))}Object.defineProperties(l.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(r["a"])("show"),leadTime:Object(r["a"])("leadTime"),trailTime:Object(r["a"])("trailTime"),width:Object(r["a"])("width"),resolution:Object(r["a"])("resolution"),material:Object(s["a"])("material"),distanceDisplayCondition:Object(r["a"])("distanceDisplayCondition")}),l.prototype.clone=function(e){return Object(o["a"])(e)?(e.show=this.show,e.leadTime=this.leadTime,e.trailTime=this.trailTime,e.width=this.width,e.resolution=this.resolution,e.material=this.material,e.distanceDisplayCondition=this.distanceDisplayCondition,e):new l(this)},l.prototype.merge=function(e){this.show=Object(n["a"])(this.show,e.show),this.leadTime=Object(n["a"])(this.leadTime,e.leadTime),this.trailTime=Object(n["a"])(this.trailTime,e.trailTime),this.width=Object(n["a"])(this.width,e.width),this.resolution=Object(n["a"])(this.resolution,e.resolution),this.material=Object(n["a"])(this.material,e.material),this.distanceDisplayCondition=Object(n["a"])(this.distanceDisplayCondition,e.distanceDisplayCondition)},t["a"]=l},c6e8:function(e,t,i){"use strict";var n=i("535a"),o=i("2f63"),a=i("4f04"),s=i("0276"),r=i("b639"),l=i("acad"),c=i("2d75"),d=i("2d36"),u=i("984f"),h=i("3ba2"),p=i("fd5d");const f=new u["a"](0);function m(e){h["a"].call(this,e),this._zIndex=0,this._terrainOffsetProperty=void 0}Object(o["a"])(Object.create)&&(m.prototype=Object.create(h["a"].prototype),m.prototype.constructor=m),Object.defineProperties(m.prototype,{zIndex:{get:function(){return this._zIndex}},terrainOffsetProperty:{get:function(){return this._terrainOffsetProperty}}}),m.prototype._isOnTerrain=function(e,t){return this._fillEnabled&&!Object(o["a"])(t.height)&&!Object(o["a"])(t.extrudedHeight)&&l["a"].isSupported(this._scene)},m.prototype._getIsClosed=function(e){const t=e.height,i=e.extrudedHeight;return 0===t||Object(o["a"])(i)&&i!==t},m.prototype._computeCenter=a["a"].throwInstantiationError,m.prototype._onEntityPropertyChanged=function(e,t,i,a){if(h["a"].prototype._onEntityPropertyChanged.call(this,e,t,i,a),-1===this._observedPropertyNames.indexOf(t))return;const s=this._entity[this._geometryPropertyName];if(!Object(o["a"])(s))return;Object(o["a"])(s.zIndex)&&(Object(o["a"])(s.height)||Object(o["a"])(s.extrudedHeight))&&Object(r["a"])(r["a"].geometryZIndex),this._zIndex=Object(n["a"])(s.zIndex,f),Object(o["a"])(this._terrainOffsetProperty)&&(this._terrainOffsetProperty.destroy(),this._terrainOffsetProperty=void 0);const l=s.heightReference,c=s.extrudedHeightReference;if(Object(o["a"])(l)||Object(o["a"])(c)){const e=new d["a"](this._computeCenter.bind(this),!this._dynamic);this._terrainOffsetProperty=new p["a"](this._scene,e,l,c)}},m.prototype.destroy=function(){Object(o["a"])(this._terrainOffsetProperty)&&(this._terrainOffsetProperty.destroy(),this._terrainOffsetProperty=void 0),h["a"].prototype.destroy.call(this)},m.getGeometryHeight=function(e,t){if(Object(o["a"])(e))return t!==c["a"].CLAMP_TO_GROUND?e:0;t!==c["a"].NONE&&Object(r["a"])(r["a"].geometryHeightReference)},m.getGeometryExtrudedHeight=function(e,t){if(Object(o["a"])(e))return t!==c["a"].CLAMP_TO_GROUND?e:m.CLAMP_TO_GROUND;t!==c["a"].NONE&&Object(r["a"])(r["a"].geometryExtrudedHeightReference)},m.CLAMP_TO_GROUND="clamp",m.computeGeometryOffsetAttribute=function(e,t,i,n){Object(o["a"])(e)&&Object(o["a"])(t)||(t=c["a"].NONE),Object(o["a"])(i)&&Object(o["a"])(n)||(n=c["a"].NONE);let a=0;return t!==c["a"].NONE&&a++,n===c["a"].RELATIVE_TO_GROUND&&a++,2===a?s["a"].ALL:1===a?s["a"].TOP:void 0},t["a"]=m},d888:function(e,t,i){"use strict";var n=i("535a"),o=i("2f63"),a=i("21d7"),s=i("0a43"),r=i("0c9b"),l=i("f0a0");function c(e){return new r["a"](e)}function d(e){return new l["a"](e,c)}function u(e){return new l["a"](e)}function h(e){this._definitionChanged=new a["a"],this._show=void 0,this._showSubscription=void 0,this._uri=void 0,this._uriSubscription=void 0,this._scale=void 0,this._scaleSubscription=void 0,this._minimumPixelSize=void 0,this._minimumPixelSizeSubscription=void 0,this._maximumScale=void 0,this._maximumScaleSubscription=void 0,this._incrementallyLoadTextures=void 0,this._incrementallyLoadTexturesSubscription=void 0,this._runAnimations=void 0,this._runAnimationsSubscription=void 0,this._clampAnimations=void 0,this._clampAnimationsSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._silhouetteColor=void 0,this._silhouetteColorSubscription=void 0,this._silhouetteSize=void 0,this._silhouetteSizeSubscription=void 0,this._color=void 0,this._colorSubscription=void 0,this._colorBlendMode=void 0,this._colorBlendModeSubscription=void 0,this._colorBlendAmount=void 0,this._colorBlendAmountSubscription=void 0,this._imageBasedLightingFactor=void 0,this._imageBasedLightingFactorSubscription=void 0,this._lightColor=void 0,this._lightColorSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._nodeTransformations=void 0,this._nodeTransformationsSubscription=void 0,this._articulations=void 0,this._articulationsSubscription=void 0,this._clippingPlanes=void 0,this._clippingPlanesSubscription=void 0,this.merge(Object(n["a"])(e,n["a"].EMPTY_OBJECT))}Object.defineProperties(h.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(s["a"])("show"),uri:Object(s["a"])("uri"),scale:Object(s["a"])("scale"),minimumPixelSize:Object(s["a"])("minimumPixelSize"),maximumScale:Object(s["a"])("maximumScale"),incrementallyLoadTextures:Object(s["a"])("incrementallyLoadTextures"),runAnimations:Object(s["a"])("runAnimations"),clampAnimations:Object(s["a"])("clampAnimations"),shadows:Object(s["a"])("shadows"),heightReference:Object(s["a"])("heightReference"),silhouetteColor:Object(s["a"])("silhouetteColor"),silhouetteSize:Object(s["a"])("silhouetteSize"),color:Object(s["a"])("color"),colorBlendMode:Object(s["a"])("colorBlendMode"),colorBlendAmount:Object(s["a"])("colorBlendAmount"),imageBasedLightingFactor:Object(s["a"])("imageBasedLightingFactor"),lightColor:Object(s["a"])("lightColor"),distanceDisplayCondition:Object(s["a"])("distanceDisplayCondition"),nodeTransformations:Object(s["a"])("nodeTransformations",void 0,d),articulations:Object(s["a"])("articulations",void 0,u),clippingPlanes:Object(s["a"])("clippingPlanes")}),h.prototype.clone=function(e){return Object(o["a"])(e)?(e.show=this.show,e.uri=this.uri,e.scale=this.scale,e.minimumPixelSize=this.minimumPixelSize,e.maximumScale=this.maximumScale,e.incrementallyLoadTextures=this.incrementallyLoadTextures,e.runAnimations=this.runAnimations,e.clampAnimations=this.clampAnimations,e.heightReference=this._heightReference,e.silhouetteColor=this.silhouetteColor,e.silhouetteSize=this.silhouetteSize,e.color=this.color,e.colorBlendMode=this.colorBlendMode,e.colorBlendAmount=this.colorBlendAmount,e.imageBasedLightingFactor=this.imageBasedLightingFactor,e.lightColor=this.lightColor,e.distanceDisplayCondition=this.distanceDisplayCondition,e.nodeTransformations=this.nodeTransformations,e.articulations=this.articulations,e.clippingPlanes=this.clippingPlanes,e):new h(this)},h.prototype.merge=function(e){this.show=Object(n["a"])(this.show,e.show),this.uri=Object(n["a"])(this.uri,e.uri),this.scale=Object(n["a"])(this.scale,e.scale),this.minimumPixelSize=Object(n["a"])(this.minimumPixelSize,e.minimumPixelSize),this.maximumScale=Object(n["a"])(this.maximumScale,e.maximumScale),this.incrementallyLoadTextures=Object(n["a"])(this.incrementallyLoadTextures,e.incrementallyLoadTextures),this.runAnimations=Object(n["a"])(this.runAnimations,e.runAnimations),this.clampAnimations=Object(n["a"])(this.clampAnimations,e.clampAnimations),this.shadows=Object(n["a"])(this.shadows,e.shadows),this.heightReference=Object(n["a"])(this.heightReference,e.heightReference),this.silhouetteColor=Object(n["a"])(this.silhouetteColor,e.silhouetteColor),this.silhouetteSize=Object(n["a"])(this.silhouetteSize,e.silhouetteSize),this.color=Object(n["a"])(this.color,e.color),this.colorBlendMode=Object(n["a"])(this.colorBlendMode,e.colorBlendMode),this.colorBlendAmount=Object(n["a"])(this.colorBlendAmount,e.colorBlendAmount),this.imageBasedLightingFactor=Object(n["a"])(this.imageBasedLightingFactor,e.imageBasedLightingFactor),this.lightColor=Object(n["a"])(this.lightColor,e.lightColor),this.distanceDisplayCondition=Object(n["a"])(this.distanceDisplayCondition,e.distanceDisplayCondition),this.clippingPlanes=Object(n["a"])(this.clippingPlanes,e.clippingPlanes);const t=e.nodeTransformations;if(Object(o["a"])(t)){const e=this.nodeTransformations;Object(o["a"])(e)?e.merge(t):this.nodeTransformations=new l["a"](t,c)}const i=e.articulations;if(Object(o["a"])(i)){const e=this.articulations;Object(o["a"])(e)?e.merge(i):this.articulations=new l["a"](i)}},t["a"]=h},e0b6:function(e,t,i){"use strict";var n=i("535a"),o=i("2f63"),a=i("21d7"),s=i("0a43");function r(e){this._definitionChanged=new a["a"],this._show=void 0,this._showSubscription=void 0,this._text=void 0,this._textSubscription=void 0,this._font=void 0,this._fontSubscription=void 0,this._style=void 0,this._styleSubscription=void 0,this._scale=void 0,this._scaleSubscription=void 0,this._showBackground=void 0,this._showBackgroundSubscription=void 0,this._backgroundColor=void 0,this._backgroundColorSubscription=void 0,this._backgroundPadding=void 0,this._backgroundPaddingSubscription=void 0,this._pixelOffset=void 0,this._pixelOffsetSubscription=void 0,this._eyeOffset=void 0,this._eyeOffsetSubscription=void 0,this._horizontalOrigin=void 0,this._horizontalOriginSubscription=void 0,this._verticalOrigin=void 0,this._verticalOriginSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._fillColor=void 0,this._fillColorSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._translucencyByDistance=void 0,this._translucencyByDistanceSubscription=void 0,this._pixelOffsetScaleByDistance=void 0,this._pixelOffsetScaleByDistanceSubscription=void 0,this._scaleByDistance=void 0,this._scaleByDistanceSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._disableDepthTestDistance=void 0,this._disableDepthTestDistanceSubscription=void 0,this.merge(Object(n["a"])(e,n["a"].EMPTY_OBJECT))}Object.defineProperties(r.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(s["a"])("show"),text:Object(s["a"])("text"),font:Object(s["a"])("font"),style:Object(s["a"])("style"),scale:Object(s["a"])("scale"),showBackground:Object(s["a"])("showBackground"),backgroundColor:Object(s["a"])("backgroundColor"),backgroundPadding:Object(s["a"])("backgroundPadding"),pixelOffset:Object(s["a"])("pixelOffset"),eyeOffset:Object(s["a"])("eyeOffset"),horizontalOrigin:Object(s["a"])("horizontalOrigin"),verticalOrigin:Object(s["a"])("verticalOrigin"),heightReference:Object(s["a"])("heightReference"),fillColor:Object(s["a"])("fillColor"),outlineColor:Object(s["a"])("outlineColor"),outlineWidth:Object(s["a"])("outlineWidth"),translucencyByDistance:Object(s["a"])("translucencyByDistance"),pixelOffsetScaleByDistance:Object(s["a"])("pixelOffsetScaleByDistance"),scaleByDistance:Object(s["a"])("scaleByDistance"),distanceDisplayCondition:Object(s["a"])("distanceDisplayCondition"),disableDepthTestDistance:Object(s["a"])("disableDepthTestDistance")}),r.prototype.clone=function(e){return Object(o["a"])(e)?(e.show=this.show,e.text=this.text,e.font=this.font,e.style=this.style,e.scale=this.scale,e.showBackground=this.showBackground,e.backgroundColor=this.backgroundColor,e.backgroundPadding=this.backgroundPadding,e.pixelOffset=this.pixelOffset,e.eyeOffset=this.eyeOffset,e.horizontalOrigin=this.horizontalOrigin,e.verticalOrigin=this.verticalOrigin,e.heightReference=this.heightReference,e.fillColor=this.fillColor,e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.translucencyByDistance=this.translucencyByDistance,e.pixelOffsetScaleByDistance=this.pixelOffsetScaleByDistance,e.scaleByDistance=this.scaleByDistance,e.distanceDisplayCondition=this.distanceDisplayCondition,e.disableDepthTestDistance=this.disableDepthTestDistance,e):new r(this)},r.prototype.merge=function(e){this.show=Object(n["a"])(this.show,e.show),this.text=Object(n["a"])(this.text,e.text),this.font=Object(n["a"])(this.font,e.font),this.style=Object(n["a"])(this.style,e.style),this.scale=Object(n["a"])(this.scale,e.scale),this.showBackground=Object(n["a"])(this.showBackground,e.showBackground),this.backgroundColor=Object(n["a"])(this.backgroundColor,e.backgroundColor),this.backgroundPadding=Object(n["a"])(this.backgroundPadding,e.backgroundPadding),this.pixelOffset=Object(n["a"])(this.pixelOffset,e.pixelOffset),this.eyeOffset=Object(n["a"])(this.eyeOffset,e.eyeOffset),this.horizontalOrigin=Object(n["a"])(this.horizontalOrigin,e.horizontalOrigin),this.verticalOrigin=Object(n["a"])(this.verticalOrigin,e.verticalOrigin),this.heightReference=Object(n["a"])(this.heightReference,e.heightReference),this.fillColor=Object(n["a"])(this.fillColor,e.fillColor),this.outlineColor=Object(n["a"])(this.outlineColor,e.outlineColor),this.outlineWidth=Object(n["a"])(this.outlineWidth,e.outlineWidth),this.translucencyByDistance=Object(n["a"])(this.translucencyByDistance,e.translucencyByDistance),this.pixelOffsetScaleByDistance=Object(n["a"])(this.pixelOffsetScaleByDistance,e.pixelOffsetScaleByDistance),this.scaleByDistance=Object(n["a"])(this.scaleByDistance,e.scaleByDistance),this.distanceDisplayCondition=Object(n["a"])(this.distanceDisplayCondition,e.distanceDisplayCondition),this.disableDepthTestDistance=Object(n["a"])(this.disableDepthTestDistance,e.disableDepthTestDistance)},t["a"]=r},e6fa:function(e,t,i){"use strict";var n=i("cef5"),o=i("2bb9"),a=i("2f63"),s=i("55f9");function r(e,t,i){this.type="KmlTourFlyTo",this.blocking=!0,this.activeCamera=null,this.activeCallback=null,this.duration=e,this.view=i,this.flyToMode=t}r.prototype.play=function(e,t,i){if(this.activeCamera=t,Object(a["a"])(e)&&null!==e){const t=this;this.activeCallback=function(i){delete t.activeCallback,delete t.activeCamera,e(!Object(a["a"])(i)&&i)}}const o=this.getCameraOptions(i);if(this.view.headingPitchRoll)t.flyTo(o);else if(this.view.headingPitchRange){const e=new n["a"](this.view.position);t.flyToBoundingSphere(e,o)}},r.prototype.stop=function(){Object(a["a"])(this.activeCamera)&&this.activeCamera.cancelFlight(),Object(a["a"])(this.activeCallback)&&this.activeCallback(!0)},r.prototype.getCameraOptions=function(e){let t={duration:this.duration};return Object(a["a"])(this.activeCallback)&&(t.complete=this.activeCallback),"smooth"===this.flyToMode&&(t.easingFunction=s["a"].LINEAR_NONE),this.view.headingPitchRoll?(t.destination=this.view.position,t.orientation=this.view.headingPitchRoll):this.view.headingPitchRange&&(t.offset=this.view.headingPitchRange),Object(a["a"])(e)&&(t=Object(o["a"])(t,e)),t},t["a"]=r},f08a:function(e,t,i){"use strict";function n(e,t){this.position=e,this.headingPitchRoll=t}t["a"]=n}}]);