(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Cesium~986a2130"],{1948:function(e,t,i){"use strict";var n=i("bd8d"),r=i("535a"),o=i("2f63"),a=i("21d7"),s=i("5d5c");const c=new n["a"](1,1,1,.4),h=new n["a"](0,1,0,.05),d=new n["a"](0,.5,0,.2);function u(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT),this.defaultAlpha=void 0,this.defaultNightAlpha=void 0,this.defaultDayAlpha=void 0,this.defaultBrightness=void 0,this.defaultContrast=void 0,this.defaultHue=void 0,this.defaultSaturation=void 0,this.defaultGamma=void 0,this.defaultMinificationFilter=void 0,this.defaultMagnificationFilter=void 0,this._tilingScheme=Object(o["a"])(e.tilingScheme)?e.tilingScheme:new s["a"]({ellipsoid:e.ellipsoid}),this._cells=Object(r["a"])(e.cells,8),this._color=Object(r["a"])(e.color,c),this._glowColor=Object(r["a"])(e.glowColor,h),this._glowWidth=Object(r["a"])(e.glowWidth,6),this._backgroundColor=Object(r["a"])(e.backgroundColor,d),this._errorEvent=new a["a"],this._tileWidth=Object(r["a"])(e.tileWidth,256),this._tileHeight=Object(r["a"])(e.tileHeight,256),this._canvasSize=Object(r["a"])(e.canvasSize,256),this._canvas=this._createGridCanvas(),this._readyPromise=Promise.resolve(!0)}Object.defineProperties(u.prototype,{proxy:{get:function(){}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){}},minimumLevel:{get:function(){}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return!0}},readyPromise:{get:function(){return this._readyPromise}},credit:{get:function(){}},hasAlphaChannel:{get:function(){return!0}}}),u.prototype._drawGrid=function(e){const t=0,i=this._canvasSize;for(let n=0;n<=this._cells;++n){const r=n/this._cells,o=1+r*(i-1);e.moveTo(o,t),e.lineTo(o,i),e.moveTo(t,o),e.lineTo(i,o)}e.stroke()},u.prototype._createGridCanvas=function(){const e=document.createElement("canvas");e.width=this._canvasSize,e.height=this._canvasSize;const t=0,i=this._canvasSize,n=e.getContext("2d"),r=this._backgroundColor.toCssColorString();n.fillStyle=r,n.fillRect(t,t,i,i);const o=this._glowColor.toCssColorString();n.strokeStyle=o,n.lineWidth=this._glowWidth,n.strokeRect(t,t,i,i),this._drawGrid(n),n.lineWidth=.5*this._glowWidth,n.strokeRect(t,t,i,i),this._drawGrid(n);const a=this._color.toCssColorString();return n.strokeStyle=a,n.lineWidth=2,n.strokeRect(t,t,i,i),n.lineWidth=1,this._drawGrid(n),e},u.prototype.getTileCredits=function(e,t,i){},u.prototype.requestImage=function(e,t,i,n){return Promise.resolve(this._canvas)},u.prototype.pickFeatures=function(e,t,i,n,r){},t["a"]=u},"6d42":function(e,t,i){"use strict";var n=i("535a"),r=i("2f63"),o=i("72b0");function a(e){e=Object(n["a"])(e,n["a"].EMPTY_OBJECT);const t=e.id,i=e.group,o=e.class,a=Object(r["a"])(i.properties)?i.properties:{};this._class=o,this._properties=a,this._id=t,this._extras=i.extras,this._extensions=i.extensions}Object.defineProperties(a.prototype,{class:{get:function(){return this._class}},id:{get:function(){return this._id}},extras:{get:function(){return this._extras}},extensions:{get:function(){return this._extensions}}}),a.prototype.hasProperty=function(e){return o["a"].hasProperty(e,this._properties,this._class)},a.prototype.hasPropertyBySemantic=function(e){return o["a"].hasPropertyBySemantic(e,this._properties,this._class)},a.prototype.getPropertyIds=function(e){return o["a"].getPropertyIds(this._properties,this._class,e)},a.prototype.getProperty=function(e){return o["a"].getProperty(e,this._properties,this._class)},a.prototype.setProperty=function(e,t){return o["a"].setProperty(e,t,this._properties,this._class)},a.prototype.getPropertyBySemantic=function(e){return o["a"].getPropertyBySemantic(e,this._properties,this._class)},a.prototype.setPropertyBySemantic=function(e,t){return o["a"].setPropertyBySemantic(e,t,this._properties,this._class)},t["a"]=a},a0f5:function(e,t,i){"use strict";var n=i("dd06"),r=i("abab"),o=i("535a"),a=i("9c35"),s=i("2f63"),c=i("7d62"),h=i("4f04"),d=i("d940"),u=i("c888"),l=i("69e5"),p=i("a894"),m=i("d289"),_=i("6dc0"),g=i("e90c"),f=i("5770"),b=i("9d1c"),y=i("1dca"),v=i("fb17"),S=i("e3b4"),O=i("b7c8"),P=i("5a6c"),w=i("29ab"),C=i("63ae"),I=i("2e78"),T=i("894b"),j=i("a307"),E=i("3626"),x=i("6102"),D=i("25ef");function M(e){e=Object(o["a"])(e,o["a"].EMPTY_OBJECT),this.geometryInstances=e.geometryInstances,this._hasPerInstanceColors=!0;let t=e.appearance;Object(s["a"])(t)||(t=new I["a"]),this.appearance=t,this.show=Object(o["a"])(e.show,!0),this.classificationType=Object(o["a"])(e.classificationType,P["a"].BOTH),this.debugShowBoundingVolume=Object(o["a"])(e.debugShowBoundingVolume,!1),this._debugShowShadowVolume=Object(o["a"])(e.debugShowShadowVolume,!1),this._primitiveOptions={geometryInstances:void 0,appearance:void 0,vertexCacheOptimize:!1,interleave:Object(o["a"])(e.interleave,!1),releaseGeometryInstances:Object(o["a"])(e.releaseGeometryInstances,!0),allowPicking:Object(o["a"])(e.allowPicking,!0),asynchronous:Object(o["a"])(e.asynchronous,!0),compressVertices:!1,_createShaderProgramFunction:void 0,_createCommandsFunction:void 0,_updateAndQueueCommandsFunction:void 0},this._zIndex=void 0,this._ready=!1,this._readyPromise=Object(a["a"])(),this._primitive=void 0,this._sp=void 0,this._sp2D=void 0,this._spMorph=void 0,this._renderState=V(!1),this._renderState3DTiles=V(!0),this._renderStateMorph=_["a"].fromCache({cull:{enabled:!0,face:w["a"].FRONT},depthTest:{enabled:!0},blending:O["a"].PRE_MULTIPLIED_ALPHA_BLEND,depthMask:!1})}function A(e,t,i){const r=t.context,o=e._primitive,a=o._attributeLocations;let c=o._batchTable.getVertexShaderCallback()(S["a"]);c=T["a"]._appendShowToShader(o,c),c=T["a"]._appendDistanceDisplayConditionToShader(o,c),c=T["a"]._modifyShaderPosition(e,c,t.scene3DOnly);let h=o._batchTable.getVertexShaderCallback()(v["a"]);h=T["a"]._appendShowToShader(o,h),h=T["a"]._appendDistanceDisplayConditionToShader(o,h),h=T["a"]._modifyShaderPosition(e,h,t.scene3DOnly);let d=o._batchTable.getVertexShaderCallback()(b["a"]);const u=["GLOBE_MINIMUM_ALTITUDE "+t.mapProjection.ellipsoid.minimumRadius.toFixed(1)];let l="",p="";Object(s["a"])(i.material)?(p=Object(s["a"])(i.material)?i.material.shaderSource:"",-1!==p.search(/varying\s+float\s+v_polylineAngle;/g)&&u.push("ANGLE_VARYING"),-1!==p.search(/varying\s+float\s+v_width;/g)&&u.push("WIDTH_VARYING")):l="PER_INSTANCE_COLOR",u.push(l);const m=e.debugShowShadowVolume?["DEBUG_SHOW_VOLUME",l]:[l],_=new f["a"]({defines:u,sources:[c]}),O=new f["a"]({defines:m,sources:[p,d]});e._sp=g["a"].replaceCache({context:r,shaderProgram:o._sp,vertexShaderSource:_,fragmentShaderSource:O,attributeLocations:a});let P=r.shaderCache.getDerivedShaderProgram(e._sp,"2dColor");if(!Object(s["a"])(P)){const t=new f["a"]({defines:u.concat(["COLUMBUS_VIEW_2D"]),sources:[c]});P=r.shaderCache.createDerivedShaderProgram(e._sp,"2dColor",{context:r,shaderProgram:e._sp2D,vertexShaderSource:t,fragmentShaderSource:O,attributeLocations:a})}e._sp2D=P;let w=r.shaderCache.getDerivedShaderProgram(e._sp,"MorphColor");if(!Object(s["a"])(w)){const t=new f["a"]({defines:u.concat(["MAX_TERRAIN_HEIGHT "+n["a"]._defaultMaxTerrainHeight.toFixed(1)]),sources:[h]});d=o._batchTable.getVertexShaderCallback()(y["a"]);const i=new f["a"]({defines:m,sources:[p,d]});w=r.shaderCache.createDerivedShaderProgram(e._sp,"MorphColor",{context:r,shaderProgram:e._spMorph,vertexShaderSource:t,fragmentShaderSource:i,attributeLocations:a})}e._spMorph=w}function V(e){return _["a"].fromCache({cull:{enabled:!0},blending:O["a"].PRE_MULTIPLIED_ALPHA_BLEND,depthMask:!1,stencilTest:{enabled:e,frontFunction:x["a"].EQUAL,frontOperation:{fail:D["a"].KEEP,zFail:D["a"].KEEP,zPass:D["a"].KEEP},backFunction:x["a"].EQUAL,backOperation:{fail:D["a"].KEEP,zFail:D["a"].KEEP,zPass:D["a"].KEEP},reference:E["a"].CESIUM_3D_TILE_MASK,mask:E["a"].CESIUM_3D_TILE_MASK}})}function H(e,t,i,n,r,o){const a=e._primitive,c=a._va.length;r.length=c,o.length=c;const h=t instanceof C["a"],d=h?{}:i._uniforms,u=a._batchTable.getUniformMapCallback()(d);for(let l=0;l<c;l++){const t=a._va[l];let i=r[l];Object(s["a"])(i)||(i=r[l]=new p["a"]({owner:e,primitiveType:a._primitiveType})),i.vertexArray=t,i.renderState=e._renderState,i.shaderProgram=e._sp,i.uniformMap=u,i.pass=m["a"].TERRAIN_CLASSIFICATION,i.pickId="czm_batchTable_pickColor(v_endPlaneNormalEcAndBatchId.w)";const n=p["a"].shallowClone(i,i.derivedCommands.tileset);n.renderState=e._renderState3DTiles,n.pass=m["a"].CESIUM_3D_TILE_CLASSIFICATION,i.derivedCommands.tileset=n;const o=p["a"].shallowClone(i,i.derivedCommands.color2D);o.shaderProgram=e._sp2D,i.derivedCommands.color2D=o;const c=p["a"].shallowClone(n,n.derivedCommands.color2D);c.shaderProgram=e._sp2D,n.derivedCommands.color2D=c;const h=p["a"].shallowClone(i,i.derivedCommands.colorMorph);h.renderState=e._renderStateMorph,h.shaderProgram=e._spMorph,h.pickId="czm_batchTable_pickColor(v_batchId)",i.derivedCommands.colorMorph=h}}function k(e,t,i,n,r,o,a){i.mode===j["a"].MORPHING?t=t.derivedCommands.colorMorph:i.mode!==j["a"].SCENE3D&&(t=t.derivedCommands.color2D),t.modelMatrix=n,t.boundingVolume=o,t.cull=r,t.debugShowBoundingVolume=a,i.commandList.push(t)}function N(e,t,i,n,r,o,a){const c=e._primitive;let h;T["a"]._updateBoundingVolumes(c,t,r),t.mode===j["a"].SCENE3D?h=c._boundingSphereWC:t.mode===j["a"].COLUMBUS_VIEW?h=c._boundingSphereCV:t.mode===j["a"].SCENE2D&&Object(s["a"])(c._boundingSphere2D)?h=c._boundingSphere2D:Object(s["a"])(c._boundingSphereMorph)&&(h=c._boundingSphereMorph);const d=t.mode===j["a"].MORPHING,u=e.classificationType,l=u!==P["a"].CESIUM_3D_TILE,p=u!==P["a"].TERRAIN&&!d;let m;const _=t.passes;if(_.render||_.pick&&c.allowPicking){const n=i.length;for(let s=0;s<n;++s){const n=h[s];l&&(m=i[s],k(e,m,t,r,o,n,a)),p&&(m=i[s].derivedCommands.tileset,k(e,m,t,r,o,n,a))}}}Object.defineProperties(M.prototype,{interleave:{get:function(){return this._primitiveOptions.interleave}},releaseGeometryInstances:{get:function(){return this._primitiveOptions.releaseGeometryInstances}},allowPicking:{get:function(){return this._primitiveOptions.allowPicking}},asynchronous:{get:function(){return this._primitiveOptions.asynchronous}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},debugShowShadowVolume:{get:function(){return this._debugShowShadowVolume}}}),M.initializeTerrainHeights=function(){return n["a"].initialize()},M.prototype.update=function(e){if(!Object(s["a"])(this._primitive)&&!Object(s["a"])(this.geometryInstances))return;if(!n["a"].initialized)return void M.initializeTerrainHeights();let t;const i=this,o=this._primitiveOptions;if(!Object(s["a"])(this._primitive)){const n=Array.isArray(this.geometryInstances)?this.geometryInstances:[this.geometryInstances],a=n.length,c=new Array(a);let h;for(t=0;t<a;++t)if(h=n[t].attributes,!Object(s["a"])(h)||!Object(s["a"])(h.color)){this._hasPerInstanceColors=!1;break}for(t=0;t<a;++t){const o=n[t];h={};const a=o.attributes;for(const e in a)a.hasOwnProperty(e)&&(h[e]=a[e]);Object(s["a"])(h.width)||(h.width=new u["a"]({componentDatatype:r["a"].UNSIGNED_BYTE,componentsPerAttribute:1,value:[o.geometry.width]})),o.geometry._scene3DOnly=e.scene3DOnly,l["a"].setProjectionAndEllipsoid(o.geometry,e.mapProjection),c[t]=new d["a"]({geometry:o.geometry,attributes:h,id:o.id,pickPrimitive:i})}o.geometryInstances=c,o.appearance=this.appearance,o._createShaderProgramFunction=function(e,t,n){A(i,t,n)},o._createCommandsFunction=function(e,t,n,r,o,a,s){H(i,t,n,r,a,s)},o._updateAndQueueCommandsFunction=function(e,t,n,r,o,a,s,c){N(i,t,n,r,o,a,s)},this._primitive=new T["a"](o),this._primitive.readyPromise.then((function(e){i._ready=!0,i.releaseGeometryInstances&&(i.geometryInstances=void 0);const t=e._error;Object(s["a"])(t)?i._readyPromise.reject(t):i._readyPromise.resolve(i)}))}if(this.appearance instanceof C["a"]&&!this._hasPerInstanceColors)throw new h["a"]("All GeometryInstances must have color attributes to use PolylineColorAppearance with GroundPolylinePrimitive.");this._primitive.appearance=this.appearance,this._primitive.show=this.show,this._primitive.debugShowBoundingVolume=this.debugShowBoundingVolume,this._primitive.update(e)},M.prototype.getGeometryInstanceAttributes=function(e){return this._primitive.getGeometryInstanceAttributes(e)},M.isSupported=function(e){return e.frameState.context.depthTexture},M.prototype.isDestroyed=function(){return!1},M.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),this._sp=this._sp&&this._sp.destroy(),this._sp2D=void 0,this._spMorph=void 0,Object(c["a"])(this)},t["a"]=M},acad:function(e,t,i){"use strict";var n=i("dd06"),r=i("cef5"),o=i("be18"),a=i("bef8"),s=i("535a"),c=i("9c35"),h=i("2f63"),d=i("7d62"),u=i("d940"),l=i("78e5"),p=i("eace"),m=i("c698"),_=i("e8b2"),g=i("5a6c"),f=i("3a8e"),b=i("a307"),y=i("2a1b");const v={u_globeMinimumAltitude:function(){return 55e3}};function S(e){e=Object(s["a"])(e,s["a"].EMPTY_OBJECT);let t=e.appearance;const i=e.geometryInstances;if(!Object(h["a"])(t)&&Object(h["a"])(i)){const e=Array.isArray(i)?i:[i],n=e.length;for(let i=0;i<n;i++){const n=e[i].attributes;if(Object(h["a"])(n)&&Object(h["a"])(n.color)){t=new f["a"]({flat:!0});break}}}this.appearance=t,this.geometryInstances=e.geometryInstances,this.show=Object(s["a"])(e.show,!0),this.classificationType=Object(s["a"])(e.classificationType,g["a"].BOTH),this.debugShowBoundingVolume=Object(s["a"])(e.debugShowBoundingVolume,!1),this.debugShowShadowVolume=Object(s["a"])(e.debugShowShadowVolume,!1),this._boundingVolumes=[],this._boundingVolumes2D=[],this._ready=!1,this._readyPromise=Object(c["a"])(),this._primitive=void 0,this._maxHeight=void 0,this._minHeight=void 0,this._maxTerrainHeight=n["a"]._defaultMaxTerrainHeight,this._minTerrainHeight=n["a"]._defaultMinTerrainHeight,this._boundingSpheresKeys=[],this._boundingSpheres=[],this._useFragmentCulling=!1,this._zIndex=void 0;const r=this;this._classificationPrimitiveOptions={geometryInstances:void 0,appearance:void 0,vertexCacheOptimize:Object(s["a"])(e.vertexCacheOptimize,!1),interleave:Object(s["a"])(e.interleave,!1),releaseGeometryInstances:Object(s["a"])(e.releaseGeometryInstances,!0),allowPicking:Object(s["a"])(e.allowPicking,!0),asynchronous:Object(s["a"])(e.asynchronous,!0),compressVertices:Object(s["a"])(e.compressVertices,!0),_createBoundingVolumeFunction:void 0,_updateAndQueueCommandsFunction:void 0,_pickPrimitive:r,_extruded:!0,_uniformMap:v}}function O(e){return function(t,i){const n=i.maximumRadius,r=n/Math.cos(.5*t)-n;return e._maxHeight+r}}function P(e){return function(t,i){return e._minHeight}}Object.defineProperties(S.prototype,{vertexCacheOptimize:{get:function(){return this._classificationPrimitiveOptions.vertexCacheOptimize}},interleave:{get:function(){return this._classificationPrimitiveOptions.interleave}},releaseGeometryInstances:{get:function(){return this._classificationPrimitiveOptions.releaseGeometryInstances}},allowPicking:{get:function(){return this._classificationPrimitiveOptions.allowPicking}},asynchronous:{get:function(){return this._classificationPrimitiveOptions.asynchronous}},compressVertices:{get:function(){return this._classificationPrimitiveOptions.compressVertices}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}}}),S.isSupported=_["a"].isSupported;const w=new o["a"],C=new o["a"],I=new o["a"],T=new a["a"],j=new p["a"];function E(e,t){const i=e.mapProjection.ellipsoid;if(!Object(h["a"])(t.attributes)||!Object(h["a"])(t.attributes.position3DHigh))return Object(h["a"])(t.rectangle)?t.rectangle:void 0;const n=t.attributes.position3DHigh.values,r=t.attributes.position3DLow.values,a=n.length;let s=Number.POSITIVE_INFINITY,c=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY;for(let h=0;h<a;h+=3){const e=o["a"].unpack(n,h,w),t=o["a"].unpack(r,h,C),a=o["a"].add(e,t,I),l=i.cartesianToCartographic(a,T),p=l.latitude,m=l.longitude;s=Math.min(s,p),c=Math.min(c,m),d=Math.max(d,p),u=Math.max(u,m)}const l=j;return l.north=d,l.south=s,l.east=u,l.west=c,l}function x(e,t,i){const r=n["a"].getMinimumMaximumHeights(t,i);e._minTerrainHeight=r.minimumTerrainHeight,e._maxTerrainHeight=r.maximumTerrainHeight}function D(e,t,i){const n=t.mapProjection.ellipsoid,a=E(t,i),s=l["a"].fromRectangle(a,e._minHeight,e._maxHeight,n);if(e._boundingVolumes.push(s),!t.scene3DOnly){const i=t.mapProjection,n=r["a"].fromRectangleWithHeights2D(a,i,e._maxHeight,e._minHeight);o["a"].fromElements(n.center.z,n.center.x,n.center.y,n.center),e._boundingVolumes2D.push(n)}}function M(e,t){return Math.floor(e%t/2)}function A(e,t,i,n,r,o,a){const s=e._primitive;i.mode!==b["a"].SCENE3D&&t.shaderProgram===s._spColor&&s._needs2DShader&&(t=t.derivedCommands.appearance2D),t.owner=e,t.modelMatrix=n,t.boundingVolume=o,t.cull=r,t.debugShowBoundingVolume=a,i.commandList.push(t)}function V(e,t,i,n,r,o){const a=e._primitive;i.mode!==b["a"].SCENE3D&&t.shaderProgram===a._spPick&&a._needs2DShader&&(t=t.derivedCommands.pick2D),t.owner=e,t.modelMatrix=n,t.boundingVolume=o,t.cull=r,i.commandList.push(t)}function H(e,t,i,n,r,o,a,s){let c;c=t.mode===b["a"].SCENE3D?e._boundingVolumes:e._boundingVolumes2D;const h=e.classificationType,d=h!==g["a"].CESIUM_3D_TILE,u=h!==g["a"].TERRAIN,l=t.passes,p=e._primitive;let m,_,f;if(l.render){const n=i.length;for(m=0;m<n;++m)_=c[M(m,n)],d&&(f=i[m],A(e,f,t,r,o,_,a)),u&&(f=i[m].derivedCommands.tileset,A(e,f,t,r,o,_,a));if(t.invertClassification){const i=p._commandsIgnoreShow,n=i.length;for(m=0;m<n;++m)_=c[m],f=i[m],A(e,f,t,r,o,_,a)}}if(l.pick){const i=n.length;let a;for(e._useFragmentCulling||(a=p._primitive._pickOffsets),m=0;m<i;++m){if(_=c[M(m,i)],!e._useFragmentCulling){const e=a[M(m,i)];_=c[e.index]}d&&(f=n[m],V(e,f,t,r,o,_)),u&&(f=n[m].derivedCommands.tileset,V(e,f,t,r,o,_))}}}S.initializeTerrainHeights=function(){return n["a"].initialize()},S.prototype.update=function(e){if(!Object(h["a"])(this._primitive)&&!Object(h["a"])(this.geometryInstances))return;if(!n["a"].initialized)return void S.initializeTerrainHeights();const t=this,i=this._classificationPrimitiveOptions;if(!Object(h["a"])(this._primitive)){const r=e.mapProjection.ellipsoid;let o,a,s;const c=Array.isArray(this.geometryInstances)?this.geometryInstances:[this.geometryInstances],d=c.length,l=new Array(d);let g,f;for(g=0;g<d;++g){o=c[g],a=o.geometry;const t=E(e,a);Object(h["a"])(f)?Object(h["a"])(t)&&p["a"].union(f,t,f):f=p["a"].clone(t);const i=o.id;if(Object(h["a"])(i)&&Object(h["a"])(t)){const e=n["a"].getBoundingSphere(t,r);this._boundingSpheresKeys.push(i),this._boundingSpheres.push(e)}s=a.constructor,!Object(h["a"])(s)||Object(h["a"])(s.createShadowVolume)}x(this,f,r);const b=e.terrainExaggeration,v=e.terrainExaggerationRelativeHeight;this._minHeight=m["a"].getHeight(this._minTerrainHeight,b,v),this._maxHeight=m["a"].getHeight(this._maxTerrainHeight,b,v);const w=S._supportsMaterials(e.context);if(this._useFragmentCulling=w,w){let t,i=!0;for(g=0;g<d;++g)if(o=c[g],a=o.geometry,f=E(e,a),y["a"].shouldUseSphericalCoordinates(f)){i=!1;break}for(g=0;g<d;++g){o=c[g],a=o.geometry,s=a.constructor;const n=E(e,a),h=a.textureCoordinateRotationPoints;t=i?y["a"].getPlanarTextureCoordinateAttributes(n,h,r,e.mapProjection,this._maxHeight):y["a"].getSphericalExtentGeometryInstanceAttributes(n,h,r,e.mapProjection);const d=o.attributes;for(const e in d)d.hasOwnProperty(e)&&(t[e]=d[e]);l[g]=new u["a"]({geometry:s.createShadowVolume(a,P(this),O(this)),attributes:t,id:o.id})}}else for(g=0;g<d;++g)o=c[g],a=o.geometry,s=a.constructor,l[g]=new u["a"]({geometry:s.createShadowVolume(a,P(this),O(this)),attributes:o.attributes,id:o.id});i.geometryInstances=l,i.appearance=this.appearance,i._createBoundingVolumeFunction=function(e,i){D(t,e,i)},i._updateAndQueueCommandsFunction=function(e,i,n,r,o,a,s,c){H(t,i,n,r,o,a,s,c)},this._primitive=new _["a"](i),this._primitive.readyPromise.then((function(e){t._ready=!0,t.releaseGeometryInstances&&(t.geometryInstances=void 0);const i=e._error;Object(h["a"])(i)?t._readyPromise.reject(i):t._readyPromise.resolve(t)}))}this._primitive.appearance=this.appearance,this._primitive.show=this.show,this._primitive.debugShowShadowVolume=this.debugShowShadowVolume,this._primitive.debugShowBoundingVolume=this.debugShowBoundingVolume,this._primitive.update(e)},S.prototype.getBoundingSphere=function(e){const t=this._boundingSpheresKeys.indexOf(e);if(-1!==t)return this._boundingSpheres[t]},S.prototype.getGeometryInstanceAttributes=function(e){return this._primitive.getGeometryInstanceAttributes(e)},S.prototype.isDestroyed=function(){return!1},S.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),Object(d["a"])(this)},S._supportsMaterials=function(e){return e.depthTexture},S.supportsMaterials=function(e){return S._supportsMaterials(e.frameState.context)},t["a"]=S}}]);