(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Cesium~9d9b77a3"],{"0fc7":function(t,i,e){"use strict";var o=e("e62c"),a=e("535a"),s=e("2f63"),n=e("21d7"),r=e("5ed2"),c=e("108c");function d(){this._definitionChanged=new n["a"],this._startTime=void 0,this._stopTime=void 0,this._currentTime=void 0,this._clockRange=void 0,this._clockStep=void 0,this._multiplier=void 0}Object.defineProperties(d.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},startTime:Object(c["a"])("startTime"),stopTime:Object(c["a"])("stopTime"),currentTime:Object(c["a"])("currentTime"),clockRange:Object(c["a"])("clockRange"),clockStep:Object(c["a"])("clockStep"),multiplier:Object(c["a"])("multiplier")}),d.prototype.clone=function(t){return Object(s["a"])(t)||(t=new d),t.startTime=this.startTime,t.stopTime=this.stopTime,t.currentTime=this.currentTime,t.clockRange=this.clockRange,t.clockStep=this.clockStep,t.multiplier=this.multiplier,t},d.prototype.equals=function(t){return this===t||Object(s["a"])(t)&&r["a"].equals(this.startTime,t.startTime)&&r["a"].equals(this.stopTime,t.stopTime)&&r["a"].equals(this.currentTime,t.currentTime)&&this.clockRange===t.clockRange&&this.clockStep===t.clockStep&&this.multiplier===t.multiplier},d.prototype.merge=function(t){this.startTime=Object(a["a"])(this.startTime,t.startTime),this.stopTime=Object(a["a"])(this.stopTime,t.stopTime),this.currentTime=Object(a["a"])(this.currentTime,t.currentTime),this.clockRange=Object(a["a"])(this.clockRange,t.clockRange),this.clockStep=Object(a["a"])(this.clockStep,t.clockStep),this.multiplier=Object(a["a"])(this.multiplier,t.multiplier)},d.prototype.getValue=function(t){return Object(s["a"])(t)||(t=new o["a"]),t.startTime=Object(a["a"])(this.startTime,t.startTime),t.stopTime=Object(a["a"])(this.stopTime,t.stopTime),t.currentTime=Object(a["a"])(this.currentTime,t.currentTime),t.clockRange=Object(a["a"])(this.clockRange,t.clockRange),t.multiplier=Object(a["a"])(this.multiplier,t.multiplier),t.clockStep=Object(a["a"])(this.clockStep,t.clockStep),t},i["a"]=d},"474a":function(t,i,e){"use strict";var o=e("535a"),a=e("2f63"),s=e("21d7"),n=e("dde7"),r=e("0a43");function c(t){this._definitionChanged=new s["a"],this._show=void 0,this._showSubscription=void 0,this._semiMajorAxis=void 0,this._semiMajorAxisSubscription=void 0,this._semiMinorAxis=void 0,this._semiMinorAxisSubscription=void 0,this._height=void 0,this._heightSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._extrudedHeight=void 0,this._extrudedHeightSubscription=void 0,this._extrudedHeightReference=void 0,this._extrudedHeightReferenceSubscription=void 0,this._rotation=void 0,this._rotationSubscription=void 0,this._stRotation=void 0,this._stRotationSubscription=void 0,this._granularity=void 0,this._granularitySubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._numberOfVerticalLines=void 0,this._numberOfVerticalLinesSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._classificationType=void 0,this._classificationTypeSubscription=void 0,this._zIndex=void 0,this._zIndexSubscription=void 0,this.merge(Object(o["a"])(t,o["a"].EMPTY_OBJECT))}Object.defineProperties(c.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(r["a"])("show"),semiMajorAxis:Object(r["a"])("semiMajorAxis"),semiMinorAxis:Object(r["a"])("semiMinorAxis"),height:Object(r["a"])("height"),heightReference:Object(r["a"])("heightReference"),extrudedHeight:Object(r["a"])("extrudedHeight"),extrudedHeightReference:Object(r["a"])("extrudedHeightReference"),rotation:Object(r["a"])("rotation"),stRotation:Object(r["a"])("stRotation"),granularity:Object(r["a"])("granularity"),fill:Object(r["a"])("fill"),material:Object(n["a"])("material"),outline:Object(r["a"])("outline"),outlineColor:Object(r["a"])("outlineColor"),outlineWidth:Object(r["a"])("outlineWidth"),numberOfVerticalLines:Object(r["a"])("numberOfVerticalLines"),shadows:Object(r["a"])("shadows"),distanceDisplayCondition:Object(r["a"])("distanceDisplayCondition"),classificationType:Object(r["a"])("classificationType"),zIndex:Object(r["a"])("zIndex")}),c.prototype.clone=function(t){return Object(a["a"])(t)?(t.show=this.show,t.semiMajorAxis=this.semiMajorAxis,t.semiMinorAxis=this.semiMinorAxis,t.height=this.height,t.heightReference=this.heightReference,t.extrudedHeight=this.extrudedHeight,t.extrudedHeightReference=this.extrudedHeightReference,t.rotation=this.rotation,t.stRotation=this.stRotation,t.granularity=this.granularity,t.fill=this.fill,t.material=this.material,t.outline=this.outline,t.outlineColor=this.outlineColor,t.outlineWidth=this.outlineWidth,t.numberOfVerticalLines=this.numberOfVerticalLines,t.shadows=this.shadows,t.distanceDisplayCondition=this.distanceDisplayCondition,t.classificationType=this.classificationType,t.zIndex=this.zIndex,t):new c(this)},c.prototype.merge=function(t){this.show=Object(o["a"])(this.show,t.show),this.semiMajorAxis=Object(o["a"])(this.semiMajorAxis,t.semiMajorAxis),this.semiMinorAxis=Object(o["a"])(this.semiMinorAxis,t.semiMinorAxis),this.height=Object(o["a"])(this.height,t.height),this.heightReference=Object(o["a"])(this.heightReference,t.heightReference),this.extrudedHeight=Object(o["a"])(this.extrudedHeight,t.extrudedHeight),this.extrudedHeightReference=Object(o["a"])(this.extrudedHeightReference,t.extrudedHeightReference),this.rotation=Object(o["a"])(this.rotation,t.rotation),this.stRotation=Object(o["a"])(this.stRotation,t.stRotation),this.granularity=Object(o["a"])(this.granularity,t.granularity),this.fill=Object(o["a"])(this.fill,t.fill),this.material=Object(o["a"])(this.material,t.material),this.outline=Object(o["a"])(this.outline,t.outline),this.outlineColor=Object(o["a"])(this.outlineColor,t.outlineColor),this.outlineWidth=Object(o["a"])(this.outlineWidth,t.outlineWidth),this.numberOfVerticalLines=Object(o["a"])(this.numberOfVerticalLines,t.numberOfVerticalLines),this.shadows=Object(o["a"])(this.shadows,t.shadows),this.distanceDisplayCondition=Object(o["a"])(this.distanceDisplayCondition,t.distanceDisplayCondition),this.classificationType=Object(o["a"])(this.classificationType,t.classificationType),this.zIndex=Object(o["a"])(this.zIndex,t.zIndex)},i["a"]=c},"4df0":function(t,i,e){"use strict";var o=e("dd06"),a=e("be18"),s=e("bd8d"),n=e("9541"),r=e("2f63"),c=e("77bc"),d=e("a6ac"),h=e("1ac2"),l=e("d940"),u=e("452d"),m=e("c2eb"),p=e("eace"),_=e("ac9c"),f=e("2d75"),g=e("d6db"),v=e("3a8e"),b=e("b83c"),y=e("9171"),O=e("3ba2"),C=e("c6e8"),j=e("ea07");const w=new s["a"],S=a["a"].ZERO,x=new a["a"],M=new p["a"];function P(t){this.id=t,this.vertexFormat=void 0,this.center=void 0,this.semiMajorAxis=void 0,this.semiMinorAxis=void 0,this.rotation=void 0,this.height=void 0,this.extrudedHeight=void 0,this.granularity=void 0,this.stRotation=void 0,this.numberOfVerticalLines=void 0,this.offsetAttribute=void 0}function V(t,i){C["a"].call(this,{entity:t,scene:i,geometryOptions:new P(t),geometryPropertyName:"ellipse",observedPropertyNames:["availability","position","ellipse"]}),this._onEntityPropertyChanged(t,"ellipse",t.ellipse,void 0)}function D(t,i,e){y["a"].call(this,t,i,e)}Object(r["a"])(Object.create)&&(V.prototype=Object.create(C["a"].prototype),V.prototype.constructor=V),V.prototype.createFillGeometryInstance=function(t){const i=this._entity,e=i.isAvailable(t),o={show:new _["a"](e&&i.isShowing&&this._showProperty.getValue(t)&&this._fillProperty.getValue(t)),distanceDisplayCondition:c["a"].fromDistanceDisplayCondition(this._distanceDisplayConditionProperty.getValue(t)),offset:void 0,color:void 0};if(this._materialProperty instanceof b["a"]){let i;Object(r["a"])(this._materialProperty.color)&&(this._materialProperty.color.isConstant||e)&&(i=this._materialProperty.color.getValue(t,w)),Object(r["a"])(i)||(i=s["a"].WHITE),o.color=n["a"].fromColor(i)}return Object(r["a"])(this._options.offsetAttribute)&&(o.offset=m["a"].fromCartesian3(j["a"].getValueOrDefault(this._terrainOffsetProperty,t,S,x))),new l["a"]({id:i,geometry:new d["a"](this._options),attributes:o})},V.prototype.createOutlineGeometryInstance=function(t){const i=this._entity,e=i.isAvailable(t),o=j["a"].getValueOrDefault(this._outlineColorProperty,t,s["a"].BLACK,w),a=this._distanceDisplayConditionProperty.getValue(t),d={show:new _["a"](e&&i.isShowing&&this._showProperty.getValue(t)&&this._showOutlineProperty.getValue(t)),color:n["a"].fromColor(o),distanceDisplayCondition:c["a"].fromDistanceDisplayCondition(a),offset:void 0};return Object(r["a"])(this._options.offsetAttribute)&&(d.offset=m["a"].fromCartesian3(j["a"].getValueOrDefault(this._terrainOffsetProperty,t,S,x))),new l["a"]({id:i,geometry:new h["a"](this._options),attributes:d})},V.prototype._computeCenter=function(t,i){return j["a"].getValueOrUndefined(this._entity.position,t,i)},V.prototype._isHidden=function(t,i){const e=t.position;return!Object(r["a"])(e)||!Object(r["a"])(i.semiMajorAxis)||!Object(r["a"])(i.semiMinorAxis)||O["a"].prototype._isHidden.call(this,t,i)},V.prototype._isDynamic=function(t,i){return!t.position.isConstant||!i.semiMajorAxis.isConstant||!i.semiMinorAxis.isConstant||!j["a"].isConstant(i.rotation)||!j["a"].isConstant(i.height)||!j["a"].isConstant(i.extrudedHeight)||!j["a"].isConstant(i.granularity)||!j["a"].isConstant(i.stRotation)||!j["a"].isConstant(i.outlineWidth)||!j["a"].isConstant(i.numberOfVerticalLines)||!j["a"].isConstant(i.zIndex)||this._onTerrain&&!j["a"].isConstant(this._materialProperty)&&!(this._materialProperty instanceof b["a"])},V.prototype._setStaticOptions=function(t,i){let e=j["a"].getValueOrUndefined(i.height,u["a"].MINIMUM_VALUE);const a=j["a"].getValueOrDefault(i.heightReference,u["a"].MINIMUM_VALUE,f["a"].NONE);let s=j["a"].getValueOrUndefined(i.extrudedHeight,u["a"].MINIMUM_VALUE);const n=j["a"].getValueOrDefault(i.extrudedHeightReference,u["a"].MINIMUM_VALUE,f["a"].NONE);Object(r["a"])(s)&&!Object(r["a"])(e)&&(e=0);const c=this._options;c.vertexFormat=this._materialProperty instanceof b["a"]?v["a"].VERTEX_FORMAT:g["a"].MaterialSupport.TEXTURED.vertexFormat,c.center=t.position.getValue(u["a"].MINIMUM_VALUE,c.center),c.semiMajorAxis=i.semiMajorAxis.getValue(u["a"].MINIMUM_VALUE,c.semiMajorAxis),c.semiMinorAxis=i.semiMinorAxis.getValue(u["a"].MINIMUM_VALUE,c.semiMinorAxis),c.rotation=j["a"].getValueOrUndefined(i.rotation,u["a"].MINIMUM_VALUE),c.granularity=j["a"].getValueOrUndefined(i.granularity,u["a"].MINIMUM_VALUE),c.stRotation=j["a"].getValueOrUndefined(i.stRotation,u["a"].MINIMUM_VALUE),c.numberOfVerticalLines=j["a"].getValueOrUndefined(i.numberOfVerticalLines,u["a"].MINIMUM_VALUE),c.offsetAttribute=C["a"].computeGeometryOffsetAttribute(e,a,s,n),c.height=C["a"].getGeometryHeight(e,a),s=C["a"].getGeometryExtrudedHeight(s,n),s===C["a"].CLAMP_TO_GROUND&&(s=o["a"].getMinimumMaximumHeights(d["a"].computeRectangle(c,M)).minimumTerrainHeight),c.extrudedHeight=s},V.DynamicGeometryUpdater=D,Object(r["a"])(Object.create)&&(D.prototype=Object.create(y["a"].prototype),D.prototype.constructor=D),D.prototype._isHidden=function(t,i,e){const o=this._options;return!Object(r["a"])(o.center)||!Object(r["a"])(o.semiMajorAxis)||!Object(r["a"])(o.semiMinorAxis)||y["a"].prototype._isHidden.call(this,t,i,e)},D.prototype._setOptions=function(t,i,e){const a=this._options;let s=j["a"].getValueOrUndefined(i.height,e);const n=j["a"].getValueOrDefault(i.heightReference,e,f["a"].NONE);let c=j["a"].getValueOrUndefined(i.extrudedHeight,e);const h=j["a"].getValueOrDefault(i.extrudedHeightReference,e,f["a"].NONE);Object(r["a"])(c)&&!Object(r["a"])(s)&&(s=0),a.center=j["a"].getValueOrUndefined(t.position,e,a.center),a.semiMajorAxis=j["a"].getValueOrUndefined(i.semiMajorAxis,e),a.semiMinorAxis=j["a"].getValueOrUndefined(i.semiMinorAxis,e),a.rotation=j["a"].getValueOrUndefined(i.rotation,e),a.granularity=j["a"].getValueOrUndefined(i.granularity,e),a.stRotation=j["a"].getValueOrUndefined(i.stRotation,e),a.numberOfVerticalLines=j["a"].getValueOrUndefined(i.numberOfVerticalLines,e),a.offsetAttribute=C["a"].computeGeometryOffsetAttribute(s,n,c,h),a.height=C["a"].getGeometryHeight(s,n),c=C["a"].getGeometryExtrudedHeight(c,h),c===C["a"].CLAMP_TO_GROUND&&(c=o["a"].getMinimumMaximumHeights(d["a"].computeRectangle(a,M)).minimumTerrainHeight),a.extrudedHeight=c},i["a"]=V},"8be7":function(t,i,e){"use strict";var o=e("be18"),a=e("bd8d"),s=e("9541"),n=e("535a"),r=e("2f63"),c=e("aee6"),d=e("77bc"),h=e("6cae"),l=e("bcbd"),u=e("d940"),m=e("0276"),p=e("452d"),_=e("52f0"),f=e("c2eb"),g=e("ac9c"),v=e("2d75"),b=e("d6db"),y=e("3a8e"),O=e("894b"),C=e("a307"),j=e("b83c"),w=e("9171"),S=e("3ba2"),x=e("6fa2"),M=e("40b2"),P=e("ea07");const V=new j["a"](a["a"].WHITE),D=o["a"].ZERO,A=new o["a"],R=new o["a"],U=new o["a"],E=new a["a"],I=new o["a"](1,1,1);function T(t){this.id=t,this.vertexFormat=void 0,this.radii=void 0,this.innerRadii=void 0,this.minimumClock=void 0,this.maximumClock=void 0,this.minimumCone=void 0,this.maximumCone=void 0,this.stackPartitions=void 0,this.slicePartitions=void 0,this.subdivisions=void 0,this.offsetAttribute=void 0}function k(t,i){S["a"].call(this,{entity:t,scene:i,geometryOptions:new T(t),geometryPropertyName:"ellipsoid",observedPropertyNames:["availability","position","orientation","ellipsoid"]}),this._onEntityPropertyChanged(t,"ellipsoid",t.ellipsoid,void 0)}function L(t,i,e){w["a"].call(this,t,i,e),this._scene=t._scene,this._modelMatrix=new _["a"],this._attributes=void 0,this._outlineAttributes=void 0,this._lastSceneMode=void 0,this._lastShow=void 0,this._lastOutlineShow=void 0,this._lastOutlineWidth=void 0,this._lastOutlineColor=void 0,this._lastOffset=new o["a"],this._material={}}Object(r["a"])(Object.create)&&(k.prototype=Object.create(S["a"].prototype),k.prototype.constructor=k),Object.defineProperties(k.prototype,{terrainOffsetProperty:{get:function(){return this._terrainOffsetProperty}}}),k.prototype.createFillGeometryInstance=function(t,i,e){const o=this._entity,n=o.isAvailable(t);let c;const l=new g["a"](n&&o.isShowing&&this._showProperty.getValue(t)&&this._fillProperty.getValue(t)),m=this._distanceDisplayConditionProperty.getValue(t),p=d["a"].fromDistanceDisplayCondition(m),_={show:l,distanceDisplayCondition:p,color:void 0,offset:void 0};if(this._materialProperty instanceof j["a"]){let i;Object(r["a"])(this._materialProperty.color)&&(this._materialProperty.color.isConstant||n)&&(i=this._materialProperty.color.getValue(t,E)),Object(r["a"])(i)||(i=a["a"].WHITE),c=s["a"].fromColor(i),_.color=c}return Object(r["a"])(this._options.offsetAttribute)&&(_.offset=f["a"].fromCartesian3(P["a"].getValueOrDefault(this._terrainOffsetProperty,t,D,A))),new u["a"]({id:o,geometry:new h["a"](this._options),modelMatrix:i?void 0:o.computeModelMatrixForHeightReference(t,o.ellipsoid.heightReference,.5*this._options.radii.z,this._scene.mapProjection.ellipsoid,e),attributes:_})},k.prototype.createOutlineGeometryInstance=function(t,i,e){const o=this._entity,n=o.isAvailable(t),c=P["a"].getValueOrDefault(this._outlineColorProperty,t,a["a"].BLACK,E),h=this._distanceDisplayConditionProperty.getValue(t),m={show:new g["a"](n&&o.isShowing&&this._showProperty.getValue(t)&&this._showOutlineProperty.getValue(t)),color:s["a"].fromColor(c),distanceDisplayCondition:d["a"].fromDistanceDisplayCondition(h),offset:void 0};return Object(r["a"])(this._options.offsetAttribute)&&(m.offset=f["a"].fromCartesian3(P["a"].getValueOrDefault(this._terrainOffsetProperty,t,D,A))),new u["a"]({id:o,geometry:new l["a"](this._options),modelMatrix:i?void 0:o.computeModelMatrixForHeightReference(t,o.ellipsoid.heightReference,.5*this._options.radii.z,this._scene.mapProjection.ellipsoid,e),attributes:m})},k.prototype._computeCenter=function(t,i){return P["a"].getValueOrUndefined(this._entity.position,t,i)},k.prototype._isHidden=function(t,i){return!Object(r["a"])(t.position)||!Object(r["a"])(i.radii)||S["a"].prototype._isHidden.call(this,t,i)},k.prototype._isDynamic=function(t,i){return!t.position.isConstant||!P["a"].isConstant(t.orientation)||!i.radii.isConstant||!P["a"].isConstant(i.innerRadii)||!P["a"].isConstant(i.stackPartitions)||!P["a"].isConstant(i.slicePartitions)||!P["a"].isConstant(i.outlineWidth)||!P["a"].isConstant(i.minimumClock)||!P["a"].isConstant(i.maximumClock)||!P["a"].isConstant(i.minimumCone)||!P["a"].isConstant(i.maximumCone)||!P["a"].isConstant(i.subdivisions)},k.prototype._setStaticOptions=function(t,i){const e=P["a"].getValueOrDefault(i.heightReference,p["a"].MINIMUM_VALUE,v["a"].NONE),o=this._options;o.vertexFormat=this._materialProperty instanceof j["a"]?y["a"].VERTEX_FORMAT:b["a"].MaterialSupport.TEXTURED.vertexFormat,o.radii=i.radii.getValue(p["a"].MINIMUM_VALUE,o.radii),o.innerRadii=P["a"].getValueOrUndefined(i.innerRadii,o.radii),o.minimumClock=P["a"].getValueOrUndefined(i.minimumClock,p["a"].MINIMUM_VALUE),o.maximumClock=P["a"].getValueOrUndefined(i.maximumClock,p["a"].MINIMUM_VALUE),o.minimumCone=P["a"].getValueOrUndefined(i.minimumCone,p["a"].MINIMUM_VALUE),o.maximumCone=P["a"].getValueOrUndefined(i.maximumCone,p["a"].MINIMUM_VALUE),o.stackPartitions=P["a"].getValueOrUndefined(i.stackPartitions,p["a"].MINIMUM_VALUE),o.slicePartitions=P["a"].getValueOrUndefined(i.slicePartitions,p["a"].MINIMUM_VALUE),o.subdivisions=P["a"].getValueOrUndefined(i.subdivisions,p["a"].MINIMUM_VALUE),o.offsetAttribute=e!==v["a"].NONE?m["a"].ALL:void 0},k.prototype._onEntityPropertyChanged=x["a"],k.DynamicGeometryUpdater=L,Object(r["a"])(Object.create)&&(L.prototype=Object.create(w["a"].prototype),L.prototype.constructor=L),L.prototype.update=function(t){const i=this._entity,e=i.ellipsoid;if(!i.isShowing||!i.isAvailable(t)||!P["a"].getValueOrDefault(e.show,t,!0))return Object(r["a"])(this._primitive)&&(this._primitive.show=!1),void(Object(r["a"])(this._outlinePrimitive)&&(this._outlinePrimitive.show=!1));const h=P["a"].getValueOrUndefined(e.radii,t,R);let l=Object(r["a"])(h)?i.computeModelMatrixForHeightReference(t,e.heightReference,.5*h.z,this._scene.mapProjection.ellipsoid,this._modelMatrix):void 0;if(!Object(r["a"])(l)||!Object(r["a"])(h))return Object(r["a"])(this._primitive)&&(this._primitive.show=!1),void(Object(r["a"])(this._outlinePrimitive)&&(this._outlinePrimitive.show=!1));const u=P["a"].getValueOrDefault(e.fill,t,!0),p=P["a"].getValueOrDefault(e.outline,t,!1),j=P["a"].getValueOrClonedDefault(e.outlineColor,t,a["a"].BLACK,E),w=M["a"].getValue(t,Object(n["a"])(e.material,V),this._material),S=P["a"].getValueOrUndefined(e.innerRadii,t,U),x=P["a"].getValueOrUndefined(e.minimumClock,t),T=P["a"].getValueOrUndefined(e.maximumClock,t),k=P["a"].getValueOrUndefined(e.minimumCone,t),L=P["a"].getValueOrUndefined(e.maximumCone,t),N=P["a"].getValueOrUndefined(e.stackPartitions,t),H=P["a"].getValueOrUndefined(e.slicePartitions,t),z=P["a"].getValueOrUndefined(e.subdivisions,t),G=P["a"].getValueOrDefault(e.outlineWidth,t,1),W=P["a"].getValueOrDefault(e.heightReference,t,v["a"].NONE),F=W!==v["a"].NONE?m["a"].ALL:void 0,B=this._scene.mode,q=B===C["a"].SCENE3D&&W===v["a"].NONE,X=this._options,J=this._geometryUpdater.shadowsProperty.getValue(t),K=this._geometryUpdater.distanceDisplayConditionProperty,Y=K.getValue(t),Z=P["a"].getValueOrDefault(this._geometryUpdater.terrainOffsetProperty,t,D,A),Q=!q||this._lastSceneMode!==B||!Object(r["a"])(this._primitive)||X.stackPartitions!==N||X.slicePartitions!==H||Object(r["a"])(S)&&!o["a"].equals(X.innerRadii!==S)||X.minimumClock!==x||X.maximumClock!==T||X.minimumCone!==k||X.maximumCone!==L||X.subdivisions!==z||this._lastOutlineWidth!==G||X.offsetAttribute!==F;if(Q){const i=this._primitives;if(i.removeAndDestroy(this._primitive),i.removeAndDestroy(this._outlinePrimitive),this._primitive=void 0,this._outlinePrimitive=void 0,this._lastSceneMode=B,this._lastOutlineWidth=G,X.stackPartitions=N,X.slicePartitions=H,X.subdivisions=z,X.offsetAttribute=F,X.radii=o["a"].clone(q?I:h,X.radii),Object(r["a"])(S))if(q){const t=o["a"].magnitude(h);X.innerRadii=o["a"].fromElements(S.x/t,S.y/t,S.z/t,X.innerRadii)}else X.innerRadii=o["a"].clone(S,X.innerRadii);else X.innerRadii=void 0;X.minimumClock=x,X.maximumClock=T,X.minimumCone=k,X.maximumCone=L;const e=new b["a"]({material:w,translucent:w.isTranslucent(),closed:!0});X.vertexFormat=e.vertexFormat;const s=this._geometryUpdater.createFillGeometryInstance(t,q,this._modelMatrix);this._primitive=i.add(new O["a"]({geometryInstances:s,appearance:e,asynchronous:!1,shadows:J}));const n=this._geometryUpdater.createOutlineGeometryInstance(t,q,this._modelMatrix);this._outlinePrimitive=i.add(new O["a"]({geometryInstances:n,appearance:new y["a"]({flat:!0,translucent:255!==n.attributes.color.value[3],renderState:{lineWidth:this._geometryUpdater._scene.clampLineWidth(G)}}),asynchronous:!1,shadows:J})),this._lastShow=u,this._lastOutlineShow=p,this._lastOutlineColor=a["a"].clone(j,this._lastOutlineColor),this._lastDistanceDisplayCondition=Y,this._lastOffset=o["a"].clone(Z,this._lastOffset)}else if(this._primitive.ready){const t=this._primitive,e=this._outlinePrimitive;t.show=!0,e.show=!0,t.appearance.material=w;let n=this._attributes;Object(r["a"])(n)||(n=t.getGeometryInstanceAttributes(i),this._attributes=n),u!==this._lastShow&&(n.show=g["a"].toValue(u,n.show),this._lastShow=u);let h=this._outlineAttributes;Object(r["a"])(h)||(h=e.getGeometryInstanceAttributes(i),this._outlineAttributes=h),p!==this._lastOutlineShow&&(h.show=g["a"].toValue(p,h.show),this._lastOutlineShow=p),a["a"].equals(j,this._lastOutlineColor)||(h.color=s["a"].toValue(j,h.color),a["a"].clone(j,this._lastOutlineColor)),c["a"].equals(Y,this._lastDistanceDisplayCondition)||(n.distanceDisplayCondition=d["a"].toValue(Y,n.distanceDisplayCondition),h.distanceDisplayCondition=d["a"].toValue(Y,h.distanceDisplayCondition),c["a"].clone(Y,this._lastDistanceDisplayCondition)),o["a"].equals(Z,this._lastOffset)||(n.offset=f["a"].toValue(Z,n.offset),h.offset=f["a"].toValue(Z,n.offset),o["a"].clone(Z,this._lastOffset))}q&&(h.x=Math.max(h.x,.001),h.y=Math.max(h.y,.001),h.z=Math.max(h.z,.001),l=_["a"].multiplyByScale(l,h,l),this._primitive.modelMatrix=l,this._outlinePrimitive.modelMatrix=l)},i["a"]=k},9023:function(t,i,e){"use strict";var o=e("4f04");function a(){o["a"].throwInstantiationError()}Object.defineProperties(a.prototype,{name:{get:o["a"].throwInstantiationError},clock:{get:o["a"].throwInstantiationError},entities:{get:o["a"].throwInstantiationError},isLoading:{get:o["a"].throwInstantiationError},changedEvent:{get:o["a"].throwInstantiationError},errorEvent:{get:o["a"].throwInstantiationError},loadingEvent:{get:o["a"].throwInstantiationError},show:{get:o["a"].throwInstantiationError},clustering:{get:o["a"].throwInstantiationError}}),a.prototype.update=function(t){o["a"].throwInstantiationError()},a.setLoading=function(t,i){t._isLoading!==i&&(i?t._entityCollection.suspendEvents():t._entityCollection.resumeEvents(),t._isLoading=i,t._loading.raiseEvent(t,i))},i["a"]=a},9171:function(t,i,e){"use strict";var o=e("cef5"),a=e("2f63"),s=e("7d62"),n=e("4f04"),r=e("acad"),c=e("d6db"),d=e("3a8e"),h=e("894b"),l=e("2d19"),u=e("b83c"),m=e("40b2"),p=e("ea07");function _(t,i,e){this._primitives=i,this._orderedGroundPrimitives=e,this._primitive=void 0,this._outlinePrimitive=void 0,this._geometryUpdater=t,this._options=t._options,this._entity=t._entity,this._material=void 0}_.prototype._isHidden=function(t,i,e){return!t.isShowing||!t.isAvailable(e)||!p["a"].getValueOrDefault(i.show,e,!0)},_.prototype._setOptions=n["a"].throwInstantiationError,_.prototype.update=function(t){const i=this._geometryUpdater,e=i._onTerrain,o=this._primitives,s=this._orderedGroundPrimitives;e?s.remove(this._primitive):(o.removeAndDestroy(this._primitive),o.removeAndDestroy(this._outlinePrimitive),this._outlinePrimitive=void 0),this._primitive=void 0;const n=this._entity,l=n[this._geometryUpdater._geometryPropertyName];if(this._setOptions(n,l,t),this._isHidden(n,l,t))return;const _=this._geometryUpdater.shadowsProperty.getValue(t),f=this._options;if(!Object(a["a"])(l.fill)||l.fill.getValue(t)){const a=i.fillMaterialProperty,n=a instanceof u["a"];let l;const g=i._getIsClosed(f);if(n)l=new d["a"]({closed:g,flat:e&&!i._supportsMaterialsforEntitiesOnTerrain});else{const i=m["a"].getValue(t,a,this._material);this._material=i,l=new c["a"]({material:i,translucent:i.isTranslucent(),closed:g})}if(e)f.vertexFormat=d["a"].VERTEX_FORMAT,this._primitive=s.add(new r["a"]({geometryInstances:this._geometryUpdater.createFillGeometryInstance(t),appearance:l,asynchronous:!1,shadows:_,classificationType:this._geometryUpdater.classificationTypeProperty.getValue(t)}),p["a"].getValueOrUndefined(this._geometryUpdater.zIndex,t));else{f.vertexFormat=l.vertexFormat;const i=this._geometryUpdater.createFillGeometryInstance(t);n&&(l.translucent=255!==i.attributes.color.value[3]),this._primitive=o.add(new h["a"]({geometryInstances:i,appearance:l,asynchronous:!1,shadows:_}))}}if(!e&&Object(a["a"])(l.outline)&&l.outline.getValue(t)){const e=this._geometryUpdater.createOutlineGeometryInstance(t),a=p["a"].getValueOrDefault(l.outlineWidth,t,1);this._outlinePrimitive=o.add(new h["a"]({geometryInstances:e,appearance:new d["a"]({flat:!0,translucent:255!==e.attributes.color.value[3],renderState:{lineWidth:i._scene.clampLineWidth(a)}}),asynchronous:!1,shadows:_}))}},_.prototype.getBoundingSphere=function(t){const i=this._entity,e=this._primitive,s=this._outlinePrimitive;let n;return Object(a["a"])(e)&&e.show&&e.ready&&(n=e.getGeometryInstanceAttributes(i),Object(a["a"])(n)&&Object(a["a"])(n.boundingSphere))||Object(a["a"])(s)&&s.show&&s.ready&&(n=s.getGeometryInstanceAttributes(i),Object(a["a"])(n)&&Object(a["a"])(n.boundingSphere))?(o["a"].clone(n.boundingSphere,t),l["a"].DONE):Object(a["a"])(e)&&!e.ready||Object(a["a"])(s)&&!s.ready?l["a"].PENDING:l["a"].FAILED},_.prototype.isDestroyed=function(){return!1},_.prototype.destroy=function(){const t=this._primitives,i=this._orderedGroundPrimitives;this._geometryUpdater._onTerrain?i.remove(this._primitive):t.removeAndDestroy(this._primitive),t.removeAndDestroy(this._outlinePrimitive),Object(s["a"])(this)},i["a"]=_},b3a7:function(t,i,e){"use strict";var o=e("535a"),a=e("7d62"),s=e("21d7"),n=e("93da");function r(){this._dataSources=[],this._dataSourceAdded=new s["a"],this._dataSourceRemoved=new s["a"],this._dataSourceMoved=new s["a"]}function c(t,i){const e=t.indexOf(i);return e}function d(t,i,e){const o=t._dataSources,a=o.length-1;if(i=n["a"].clamp(i,0,a),e=n["a"].clamp(e,0,a),i===e)return;const s=o[i];o[i]=o[e],o[e]=s,t.dataSourceMoved.raiseEvent(s,e,i)}Object.defineProperties(r.prototype,{length:{get:function(){return this._dataSources.length}},dataSourceAdded:{get:function(){return this._dataSourceAdded}},dataSourceRemoved:{get:function(){return this._dataSourceRemoved}},dataSourceMoved:{get:function(){return this._dataSourceMoved}}}),r.prototype.add=function(t){const i=this,e=this._dataSources;return Promise.resolve(t).then((function(t){return e===i._dataSources&&(i._dataSources.push(t),i._dataSourceAdded.raiseEvent(i,t)),t}))},r.prototype.remove=function(t,i){i=Object(o["a"])(i,!1);const e=this._dataSources.indexOf(t);return-1!==e&&(this._dataSources.splice(e,1),this._dataSourceRemoved.raiseEvent(this,t),i&&"function"===typeof t.destroy&&t.destroy(),!0)},r.prototype.removeAll=function(t){t=Object(o["a"])(t,!1);const i=this._dataSources;for(let e=0,o=i.length;e<o;++e){const o=i[e];this._dataSourceRemoved.raiseEvent(this,o),t&&"function"===typeof o.destroy&&o.destroy()}this._dataSources=[]},r.prototype.contains=function(t){return-1!==this.indexOf(t)},r.prototype.indexOf=function(t){return this._dataSources.indexOf(t)},r.prototype.get=function(t){return this._dataSources[t]},r.prototype.getByName=function(t){return this._dataSources.filter((function(i){return i.name===t}))},r.prototype.raise=function(t){const i=c(this._dataSources,t);d(this,i,i+1)},r.prototype.lower=function(t){const i=c(this._dataSources,t);d(this,i,i-1)},r.prototype.raiseToTop=function(t){const i=c(this._dataSources,t);i!==this._dataSources.length-1&&(this._dataSources.splice(i,1),this._dataSources.push(t),this.dataSourceMoved.raiseEvent(t,this._dataSources.length-1,i))},r.prototype.lowerToBottom=function(t){const i=c(this._dataSources,t);0!==i&&(this._dataSources.splice(i,1),this._dataSources.splice(0,0,t),this.dataSourceMoved.raiseEvent(t,0,i))},r.prototype.isDestroyed=function(){return!1},r.prototype.destroy=function(){return this.removeAll(!0),Object(a["a"])(this)},i["a"]=r},bd0e:function(t,i,e){"use strict";var o=e("535a"),a=e("2f63"),s=e("21d7"),n=e("dde7"),r=e("0a43");function c(t){this._definitionChanged=new s["a"],this._show=void 0,this._showSubscription=void 0,this._radii=void 0,this._radiiSubscription=void 0,this._innerRadii=void 0,this._innerRadiiSubscription=void 0,this._minimumClock=void 0,this._minimumClockSubscription=void 0,this._maximumClock=void 0,this._maximumClockSubscription=void 0,this._minimumCone=void 0,this._minimumConeSubscription=void 0,this._maximumCone=void 0,this._maximumConeSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._stackPartitions=void 0,this._stackPartitionsSubscription=void 0,this._slicePartitions=void 0,this._slicePartitionsSubscription=void 0,this._subdivisions=void 0,this._subdivisionsSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this.merge(Object(o["a"])(t,o["a"].EMPTY_OBJECT))}Object.defineProperties(c.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(r["a"])("show"),radii:Object(r["a"])("radii"),innerRadii:Object(r["a"])("innerRadii"),minimumClock:Object(r["a"])("minimumClock"),maximumClock:Object(r["a"])("maximumClock"),minimumCone:Object(r["a"])("minimumCone"),maximumCone:Object(r["a"])("maximumCone"),heightReference:Object(r["a"])("heightReference"),fill:Object(r["a"])("fill"),material:Object(n["a"])("material"),outline:Object(r["a"])("outline"),outlineColor:Object(r["a"])("outlineColor"),outlineWidth:Object(r["a"])("outlineWidth"),stackPartitions:Object(r["a"])("stackPartitions"),slicePartitions:Object(r["a"])("slicePartitions"),subdivisions:Object(r["a"])("subdivisions"),shadows:Object(r["a"])("shadows"),distanceDisplayCondition:Object(r["a"])("distanceDisplayCondition")}),c.prototype.clone=function(t){return Object(a["a"])(t)?(t.show=this.show,t.radii=this.radii,t.innerRadii=this.innerRadii,t.minimumClock=this.minimumClock,t.maximumClock=this.maximumClock,t.minimumCone=this.minimumCone,t.maximumCone=this.maximumCone,t.heightReference=this.heightReference,t.fill=this.fill,t.material=this.material,t.outline=this.outline,t.outlineColor=this.outlineColor,t.outlineWidth=this.outlineWidth,t.stackPartitions=this.stackPartitions,t.slicePartitions=this.slicePartitions,t.subdivisions=this.subdivisions,t.shadows=this.shadows,t.distanceDisplayCondition=this.distanceDisplayCondition,t):new c(this)},c.prototype.merge=function(t){this.show=Object(o["a"])(this.show,t.show),this.radii=Object(o["a"])(this.radii,t.radii),this.innerRadii=Object(o["a"])(this.innerRadii,t.innerRadii),this.minimumClock=Object(o["a"])(this.minimumClock,t.minimumClock),this.maximumClock=Object(o["a"])(this.maximumClock,t.maximumClock),this.minimumCone=Object(o["a"])(this.minimumCone,t.minimumCone),this.maximumCone=Object(o["a"])(this.maximumCone,t.maximumCone),this.heightReference=Object(o["a"])(this.heightReference,t.heightReference),this.fill=Object(o["a"])(this.fill,t.fill),this.material=Object(o["a"])(this.material,t.material),this.outline=Object(o["a"])(this.outline,t.outline),this.outlineColor=Object(o["a"])(this.outlineColor,t.outlineColor),this.outlineWidth=Object(o["a"])(this.outlineWidth,t.outlineWidth),this.stackPartitions=Object(o["a"])(this.stackPartitions,t.stackPartitions),this.slicePartitions=Object(o["a"])(this.slicePartitions,t.slicePartitions),this.subdivisions=Object(o["a"])(this.subdivisions,t.subdivisions),this.shadows=Object(o["a"])(this.shadows,t.shadows),this.distanceDisplayCondition=Object(o["a"])(this.distanceDisplayCondition,t.distanceDisplayCondition)},i["a"]=c},cab1:function(t,i,e){"use strict";var o=e("933b"),a=e("2f63"),s=e("2d19");function n(t,i){this._primitives=t,this._orderedGroundPrimitives=i,this._dynamicUpdaters=new o["a"]}n.prototype.add=function(t,i){this._dynamicUpdaters.set(i.id,i.createDynamicUpdater(this._primitives,this._orderedGroundPrimitives))},n.prototype.remove=function(t){const i=t.id,e=this._dynamicUpdaters.get(i);Object(a["a"])(e)&&(this._dynamicUpdaters.remove(i),e.destroy())},n.prototype.update=function(t){const i=this._dynamicUpdaters.values;for(let e=0,o=i.length;e<o;e++)i[e].update(t);return!0},n.prototype.removeAllPrimitives=function(){const t=this._dynamicUpdaters.values;for(let i=0,e=t.length;i<e;i++)t[i].destroy();this._dynamicUpdaters.removeAll()},n.prototype.getBoundingSphere=function(t,i){return t=this._dynamicUpdaters.get(t.id),Object(a["a"])(t)&&Object(a["a"])(t.getBoundingSphere)?t.getBoundingSphere(i):s["a"].FAILED},i["a"]=n},e22d:function(t,i,e){"use strict";var o=e("dd06"),a=e("cef5"),s=e("535a"),n=e("2f63"),r=e("7d62"),c=e("eff8"),d=e("a0f5"),h=e("acad"),l=e("3d43"),u=e("738d"),m=e("448f"),p=e("2d19"),_=e("dde1"),f=e("70fd"),g=e("5174"),v=e("a10a"),b=e("6510"),y=e("091c"),O=e("b4c8"),C=e("203c");function j(t){h["a"].initializeTerrainHeights(),d["a"].initializeTerrainHeights();const i=t.scene,e=t.dataSourceCollection;this._eventHelper=new c["a"],this._eventHelper.add(e.dataSourceAdded,this._onDataSourceAdded,this),this._eventHelper.add(e.dataSourceRemoved,this._onDataSourceRemoved,this),this._eventHelper.add(e.dataSourceMoved,this._onDataSourceMoved,this),this._eventHelper.add(i.postRender,this._postRender,this),this._dataSourceCollection=e,this._scene=i,this._visualizersCallback=Object(s["a"])(t.visualizersCallback,j.defaultVisualizersCallback);let o=!1;const a=new u["a"],n=new u["a"];e.length>0&&(i.primitives.add(a),i.groundPrimitives.add(n),o=!0),this._primitives=a,this._groundPrimitives=n;for(let s=0,c=e.length;s<c;s++)this._onDataSourceAdded(e,e.get(s));const r=new _["a"];let l,m;if(this._onDataSourceAdded(void 0,r),this._defaultDataSource=r,!o){const t=this,o=function(){i.primitives.add(a),i.groundPrimitives.add(n),l(),m(),t._removeDefaultDataSourceListener=void 0,t._removeDataSourceCollectionListener=void 0};l=r.entities.collectionChanged.addEventListener(o),m=e.dataSourceAdded.addEventListener(o)}this._removeDefaultDataSourceListener=l,this._removeDataSourceCollectionListener=m,this._ready=!1}j.defaultVisualizersCallback=function(t,i,e){const o=e.entities;return[new m["a"](i,o),new f["a"](t,o,e._primitives,e._groundPrimitives),new g["a"](i,o),new v["a"](t,o),new b["a"](t,o),new O["a"](i,o),new y["a"](t,o),new C["a"](t,o,e._primitives,e._groundPrimitives)]},Object.defineProperties(j.prototype,{scene:{get:function(){return this._scene}},dataSources:{get:function(){return this._dataSourceCollection}},defaultDataSource:{get:function(){return this._defaultDataSource}},ready:{get:function(){return this._ready}}}),j.prototype.isDestroyed=function(){return!1},j.prototype.destroy=function(){this._eventHelper.removeAll();const t=this._dataSourceCollection;for(let i=0,e=t.length;i<e;++i)this._onDataSourceRemoved(this._dataSourceCollection,t.get(i));return this._onDataSourceRemoved(void 0,this._defaultDataSource),Object(n["a"])(this._removeDefaultDataSourceListener)?(this._removeDefaultDataSourceListener(),this._removeDataSourceCollectionListener()):(this._scene.primitives.remove(this._primitives),this._scene.groundPrimitives.remove(this._groundPrimitives)),Object(r["a"])(this)},j.prototype.update=function(t){if(!o["a"].initialized)return this._ready=!1,!1;let i,e,a,s,r=!0;const c=this._dataSourceCollection,d=c.length;for(i=0;i<d;i++){const o=c.get(i);for(Object(n["a"])(o.update)&&(r=o.update(t)&&r),a=o._visualizers,s=a.length,e=0;e<s;e++)r=a[e].update(t)&&r}for(a=this._defaultDataSource._visualizers,s=a.length,e=0;e<s;e++)r=a[e].update(t)&&r;return this._ready=r,r},j.prototype._postRender=function(){const t=this._scene.frameState,i=this._dataSourceCollection,e=i.length;for(let o=0;o<e;o++){const e=i.get(o),a=e.credit;Object(n["a"])(a)&&t.creditDisplay.addCredit(a);const s=e._resourceCredits;if(Object(n["a"])(s)){const i=s.length;for(let e=0;e<i;e++)t.creditDisplay.addCredit(s[e])}}};const w=[],S=new a["a"];j.prototype.getBoundingSphere=function(t,i,e){if(!this._ready)return p["a"].PENDING;let o,s,r=this._defaultDataSource;if(!r.entities.contains(t)){r=void 0;const i=this._dataSourceCollection;for(s=i.length,o=0;o<s;o++){const e=i.get(o);if(e.entities.contains(t)){r=e;break}}}if(!Object(n["a"])(r))return p["a"].FAILED;const c=w,d=S;let h=0,l=p["a"].DONE;const u=r._visualizers,m=u.length;for(o=0;o<m;o++){const e=u[o];if(Object(n["a"])(e.getBoundingSphere)){if(l=u[o].getBoundingSphere(t,d),!i&&l===p["a"].PENDING)return p["a"].PENDING;l===p["a"].DONE&&(c[h]=a["a"].clone(d,c[h]),h++)}}return 0===h?p["a"].FAILED:(c.length=h,a["a"].fromBoundingSpheres(c,e),p["a"].DONE)},j.prototype._onDataSourceAdded=function(t,i){const e=this._scene,o=this._primitives,a=this._groundPrimitives,s=o.add(new u["a"]),n=a.add(new l["a"]);i._primitives=s,i._groundPrimitives=n;const r=i.clustering;r._initialize(e),s.add(r),i._visualizers=this._visualizersCallback(e,r,i)},j.prototype._onDataSourceRemoved=function(t,i){const e=this._primitives,o=this._groundPrimitives,a=i._primitives,s=i._groundPrimitives,n=i.clustering;a.remove(n);const r=i._visualizers,c=r.length;for(let d=0;d<c;d++)r[d].destroy();e.remove(a),o.remove(s),i._visualizers=void 0},j.prototype._onDataSourceMoved=function(t,i,e){const o=this._primitives,a=this._groundPrimitives,s=t._primitives,n=t._groundPrimitives;i===e+1?(o.raise(s),a.raise(n)):i===e-1?(o.lower(s),a.lower(n)):0===i?(o.lowerToBottom(s),a.lowerToBottom(n),o.raise(s),a.raise(n)):(o.raiseToTop(s),a.raiseToTop(n))},i["a"]=j}}]);