(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Cesium~6e959b05"],{"06f0":function(e,t,n){"use strict";var a=n("daa2");const r={NEVER:a["a"].NEVER,LESS:a["a"].LESS,EQUAL:a["a"].EQUAL,LESS_OR_EQUAL:a["a"].LEQUAL,GREATER:a["a"].GREATER,NOT_EQUAL:a["a"].NOTEQUAL,GREATER_OR_EQUAL:a["a"].GEQUAL,ALWAYS:a["a"].ALWAYS};t["a"]=Object.freeze(r)},"0838":function(e,t,n){"use strict";var a=n("be18"),r=n("2f63"),i=n("93da"),o=n("a307");function s(){this.enabled=!0,this.renderable=!0,this.density=2e-4,this.screenSpaceErrorFactor=2,this.minimumBrightness=.03}const c=[359.393,800.749,1275.6501,2151.1192,3141.7763,4777.5198,6281.2493,12364.307,15900.765,49889.0549,78026.8259,99260.7344,120036.3873,151011.0158,156091.1953,203849.3112,274866.9803,319916.3149,493552.0528,628733.5874],u=[2e-5,2e-4,1e-4,7e-5,5e-5,4e-5,3e-5,19e-6,1e-5,85e-7,62e-7,58e-7,53e-7,52e-7,51e-7,42e-7,4e-6,34e-7,26e-7,22e-7];for(let m=0;m<u.length;++m)u[m]*=1e6;const l=u[1],h=u[u.length-1];for(let m=0;m<u.length;++m)u[m]=(u[m]-h)/(l-h);let d=0;function f(e){const t=c,n=t.length;if(e<t[0])return d=0,d;if(e>t[n-1])return d=n-2,d;if(e>=t[d]){if(d+1<n&&e<t[d+1])return d;if(d+2<n&&e<t[d+2])return++d,d}else if(d-1>=0&&e>=t[d-1])return--d,d;let a;for(a=0;a<n-2;++a)if(e>=t[a]&&e<t[a+1])break;return d=a,d}const p=new a["a"];s.prototype.update=function(e){const t=e.fog.enabled=this.enabled;if(!t)return;e.fog.renderable=this.renderable;const n=e.camera,s=n.positionCartographic;if(!Object(r["a"])(s)||s.height>8e5||e.mode!==o["a"].SCENE3D)return void(e.fog.enabled=!1);const d=s.height,m=f(d),_=i["a"].clamp((d-c[m])/(c[m+1]-c[m]),0,1);let g=i["a"].lerp(u[m],u[m+1],_);const b=1e6*this.density,y=b/l*h;g=g*(b-y)*1e-6;const v=a["a"].normalize(n.positionWC,p),E=Math.abs(a["a"].dot(n.directionWC,v));g*=1-E,e.fog.density=g,e.fog.sse=this.screenSpaceErrorFactor,e.fog.minimumBrightness=this.minimumBrightness},t["a"]=s},"08b8":function(e,t,n){"use strict";var a=n("1d87"),r=n("abab"),i=n("2f63"),o=n("5e57"),s=n("6a29"),c=n("9937");function u(){}function l(e,t){const n="runtime."+Object.keys(e.createdBufferViews).length,a=e.buffers,r=Object.keys(a).length;return a[r]=t,e.createdBufferViews[n]={buffer:r,byteOffset:0,byteLength:t.byteLength},n}function h(e,t,n){const a=t._loadResources,r=l(a,e);return a.vertexBuffersToCreate.enqueue(r),r}function d(e,t,n){const a=e.typedArray,i=t._loadResources,o=l(i,a);return i.indexBuffersToCreate.enqueue({id:o,componentType:r["a"].fromTypedArray(a)}),{bufferViewId:o,numberOfIndices:e.numberOfIndices}}function f(e,t,n,a){if(!u._taskProcessorReady)return;const r=n.primitivesToDecode.peek();if(!Object(i["a"])(r))return;const o=e.scheduleTask(r,[r.array.buffer]);return Object(i["a"])(o)?(n.activeDecodingTasks++,n.primitivesToDecode.dequeue(),o.then((function(e){n.activeDecodingTasks--;const i=d(e.indexArray,t,a),o={},s=e.attributeData;for(const n in s)if(s.hasOwnProperty(n)){const e=s[n],r=e.array,i=h(r,t,a),c=e.data;c.bufferView=i,o[n]=c}t._decodedData[`${r.mesh}.primitive.${r.primitive}`]={bufferView:i.bufferViewId,numberOfIndices:i.numberOfIndices,attributes:o}}))):void 0}u._maxDecodingConcurrency=Math.max(o["a"].hardwareConcurrency-1,1),u._decoderTaskProcessor=void 0,u._taskProcessorReady=!1,u._getDecoderTaskProcessor=function(){if(!Object(i["a"])(u._decoderTaskProcessor)){const e=new s["a"]("decodeDraco",u._maxDecodingConcurrency);e.initWebAssemblyModule({modulePath:"ThirdParty/Workers/draco_decoder_nodejs.js",wasmBinaryFile:"ThirdParty/draco_decoder.wasm"}).then((function(){u._taskProcessorReady=!0})),u._decoderTaskProcessor=e}return u._decoderTaskProcessor},u.hasExtension=function(e){return Object(i["a"])(e.extensionsRequired.KHR_draco_mesh_compression)||Object(i["a"])(e.extensionsUsed.KHR_draco_mesh_compression)},u._decodedModelResourceCache=void 0,u.parse=function(e,t){if(!u.hasExtension(e))return;const n=e._loadResources,r=e.cacheKey;if(Object(i["a"])(r)){Object(i["a"])(u._decodedModelResourceCache)||(Object(i["a"])(t.cache.modelDecodingCache)||(t.cache.modelDecodingCache={}),u._decodedModelResourceCache=t.cache.modelDecodingCache);const e=u._decodedModelResourceCache[r];if(Object(i["a"])(e))return e.count++,void(n.pendingDecodingCache=!0)}const o=e._dequantizeInShader,s=e.gltf;c["a"].mesh(s,(function(e,t){c["a"].meshPrimitive(e,(function(e,r){if(!Object(i["a"])(e.extensions))return;const c=e.extensions.KHR_draco_mesh_compression;if(!Object(i["a"])(c))return;const u=s.bufferViews[c.bufferView],l=Object(a["a"])(s.buffers[u.buffer].extras._pipeline.source,u.byteOffset,u.byteOffset+u.byteLength);n.primitivesToDecode.enqueue({mesh:t,primitive:r,array:l,bufferView:u,compressedAttributes:c.attributes,dequantizeInShader:o})}))}))},u.decodeModel=function(e,t){if(!u.hasExtension(e))return Promise.resolve();const n=e._loadResources,a=e.cacheKey;if(Object(i["a"])(a)&&Object(i["a"])(u._decodedModelResourceCache)){const t=u._decodedModelResourceCache[a];if(Object(i["a"])(t)&&n.pendingDecodingCache)return Promise.resolve(t.ready).then((function(){e._decodedData=t.data,n.pendingDecodingCache=!1}));u._decodedModelResourceCache[a]={ready:!1,count:1,data:void 0}}if(0===n.primitivesToDecode.length)return Promise.resolve();const r=u._getDecoderTaskProcessor(),o=[];let s=f(r,e,n,t);while(Object(i["a"])(s))o.push(s),s=f(r,e,n,t);return Promise.all(o)},u.decodePointCloud=function(e){const t=u._getDecoderTaskProcessor();if(u._taskProcessorReady)return t.scheduleTask(e,[e.buffer.buffer])},u.decodeBufferView=function(e){const t=u._getDecoderTaskProcessor();if(u._taskProcessorReady)return t.scheduleTask(e,[e.array.buffer])},u.cacheDataForModel=function(e){const t=e.cacheKey;if(Object(i["a"])(t)&&Object(i["a"])(u._decodedModelResourceCache)){const n=u._decodedModelResourceCache[t];Object(i["a"])(n)&&(n.ready=!0,n.data=e._decodedData)}},u.destroyCachedDataForModel=function(e){const t=e.cacheKey;if(Object(i["a"])(t)&&Object(i["a"])(u._decodedModelResourceCache)){const e=u._decodedModelResourceCache[t];Object(i["a"])(e)&&0===--e.count&&delete u._decodedModelResourceCache[t]}},t["a"]=u},"0b8f":function(e,t,n){"use strict";var a=n("933b"),r=n("7229"),i=n("8dfe"),o=n("535a"),s=n("2f63"),c=n("7d62"),u=n("881b");const l=576,h=100,d="#ffffff",f="#48b";function p(e,t){this.credit=e,this.count=Object(o["a"])(t,1)}function m(e,t){const n=e.length;for(let a=0;a<n;a++){const n=e[a];if(i["a"].equals(n,t))return!0}return!1}function _(e){const t=e._previousCesiumCredit,n=e._currentCesiumCredit;i["a"].equals(n,t)||(Object(s["a"])(t)&&e._cesiumCreditContainer.removeChild(t.element),Object(s["a"])(n)&&e._cesiumCreditContainer.appendChild(n.element),e._previousCesiumCredit=n)}const g="cesium-credit-delimiter";function b(e){const t=document.createElement("span");return t.textContent=e,t.className=g,t}function y(e,t){if(Object(s["a"])(t)){const n=document.createElement(t);n._creditId=e._creditId,n.appendChild(e),e=n}return e}function v(e,t,n,a){const r=e.childNodes;let i=-1;t.sort((function(e,t){return t.count-e.count}));for(let o=0;o<t.length;++o){const c=t[o].credit;if(Object(s["a"])(c)){if(i=o,Object(s["a"])(n)&&(i*=2,o>0)){const t=i-1;if(r.length<=t)e.appendChild(b(n));else{const a=r[t];a.className!==g&&e.replaceChild(b(n),a)}}const t=c.element;if(r.length<=i)e.appendChild(y(t,a));else{const n=r[i];n._creditId!==c._id&&e.replaceChild(y(t,a),n)}}}++i;while(i<r.length)e.removeChild(r[i])}function E(e){const t=e._lightboxCredits,n=e.viewport.clientWidth,a=e.viewport.clientHeight;n!==e._lastViewportWidth&&(n<l?(t.className="cesium-credit-lightbox cesium-credit-lightbox-mobile",t.style.marginTop="0"):(t.className="cesium-credit-lightbox cesium-credit-lightbox-expanded",t.style.marginTop=Math.floor(.5*(a-t.clientHeight))+"px"),e._lastViewportWidth=n),n>=l&&a!==e._lastViewportHeight&&(t.style.marginTop=Math.floor(.5*(a-t.clientHeight))+"px",e._lastViewportHeight=a)}function C(e,t){let n=e+" {";for(const a in t)t.hasOwnProperty(a)&&(n+=`${a}: ${t[a]}; `);return n+=" }\n",n}function w(){let e="";e+=C(".cesium-credit-lightbox-overlay",{display:"none","z-index":"1",position:"absolute",top:"0",left:"0",width:"100%",height:"100%","background-color":"rgba(80, 80, 80, 0.8)"}),e+=C(".cesium-credit-lightbox",{"background-color":"#303336",color:d,position:"relative","min-height":h+"px",margin:"auto"}),e+=C(".cesium-credit-lightbox > ul > li a, .cesium-credit-lightbox > ul > li a:visited",{color:d}),e+=C(".cesium-credit-lightbox > ul > li a:hover",{color:f}),e+=C(".cesium-credit-lightbox.cesium-credit-lightbox-expanded",{border:"1px solid #444","border-radius":"5px","max-width":"370px"}),e+=C(".cesium-credit-lightbox.cesium-credit-lightbox-mobile",{height:"100%",width:"100%"}),e+=C(".cesium-credit-lightbox-title",{padding:"20px 20px 0 20px"}),e+=C(".cesium-credit-lightbox-close",{"font-size":"18pt",cursor:"pointer",position:"absolute",top:"0",right:"6px",color:d}),e+=C(".cesium-credit-lightbox-close:hover",{color:f}),e+=C(".cesium-credit-lightbox > ul",{margin:"0",padding:"12px 20px 12px 40px","font-size":"13px"}),e+=C(".cesium-credit-lightbox > ul > li",{"padding-bottom":"6px"}),e+=C(".cesium-credit-lightbox > ul > li *",{padding:"0",margin:"0"}),e+=C(".cesium-credit-expand-link",{"padding-left":"5px",cursor:"pointer","text-decoration":"underline",color:d}),e+=C(".cesium-credit-expand-link:hover",{color:f}),e+=C(".cesium-credit-text",{color:d}),e+=C(".cesium-credit-textContainer *, .cesium-credit-logoContainer *",{display:"inline"});const t=document.head,n=document.createElement("style");n.innerHTML=e,t.insertBefore(n,t.firstChild)}function O(e,t,n){const r=this;n=Object(o["a"])(n,document.body);const s=document.createElement("div");s.className="cesium-credit-lightbox-overlay",n.appendChild(s);const c=document.createElement("div");function u(e){c.contains(e.target)||r.hideLightbox()}c.className="cesium-credit-lightbox",s.appendChild(c),s.addEventListener("click",u,!1);const l=document.createElement("div");l.className="cesium-credit-lightbox-title",l.textContent="Data provided by:",c.appendChild(l);const h=document.createElement("a");h.onclick=this.hideLightbox.bind(this),h.innerHTML="&times;",h.className="cesium-credit-lightbox-close",c.appendChild(h);const d=document.createElement("ul");c.appendChild(d);const f=document.createElement("div");f.className="cesium-credit-logoContainer",f.style.display="inline",e.appendChild(f);const p=document.createElement("div");p.className="cesium-credit-textContainer",p.style.display="inline",e.appendChild(p);const m=document.createElement("a");m.className="cesium-credit-expand-link",m.onclick=this.showLightbox.bind(this),m.textContent="Data attribution",e.appendChild(m),w();const _=i["a"].clone(O.cesiumCredit);this._delimiter=Object(o["a"])(t," • "),this._screenContainer=p,this._cesiumCreditContainer=f,this._lastViewportHeight=void 0,this._lastViewportWidth=void 0,this._lightboxCredits=c,this._creditList=d,this._lightbox=s,this._hideLightbox=u,this._expandLink=m,this._expanded=!1,this._defaultCredits=[],this._cesiumCredit=_,this._previousCesiumCredit=void 0,this._currentCesiumCredit=_,this._creditDisplayElementPool=[],this._creditDisplayElementIndex=0,this._currentFrameCredits={screenCredits:new a["a"],lightboxCredits:new a["a"]},this._defaultCredit=void 0,this.viewport=n,this.container=e}function x(e,t,n,a){a=Object(o["a"])(a,1);let r=t.get(n.id);if(Object(s["a"])(r))r.count<Number.MAX_VALUE&&(r.count+=a);else{const i=e._creditDisplayElementPool,o=e._creditDisplayElementPoolIndex;o<i.length?(r=i[o],r.credit=n,r.count=a):(r=new p(n,a),i.push(r)),++e._creditDisplayElementPoolIndex,t.set(n.id,r)}}let S;function L(){if(!Object(s["a"])(S)){let e=Object(r["a"])("Assets/Images/ion-credit.png");if(0!==e.indexOf("http://")&&0!==e.indexOf("https://")&&0!==e.indexOf("data:")){const t=new u["a"](e);e=t.path()}S=new i["a"](`<a href="https://cesium.com/" target="_blank"><img src="${e}" title="Cesium ion"/></a>`,!0)}return O._cesiumCreditInitialized||(O._cesiumCredit=S,O._cesiumCreditInitialized=!0),S}O.prototype.addCredit=function(e){if(e._isIon)return Object(s["a"])(this._defaultCredit)||(this._defaultCredit=i["a"].clone(L())),void(this._currentCesiumCredit=this._defaultCredit);let t;t=e.showOnScreen?this._currentFrameCredits.screenCredits:this._currentFrameCredits.lightboxCredits,x(this,t,e)},O.prototype.addDefaultCredit=function(e){const t=this._defaultCredits;m(t,e)||t.push(e)},O.prototype.removeDefaultCredit=function(e){const t=this._defaultCredits,n=t.indexOf(e);-1!==n&&t.splice(n,1)},O.prototype.showLightbox=function(){this._lightbox.style.display="block",this._expanded=!0},O.prototype.hideLightbox=function(){this._lightbox.style.display="none",this._expanded=!1},O.prototype.update=function(){this._expanded&&E(this)},O.prototype.beginFrame=function(){const e=this._currentFrameCredits;this._creditDisplayElementPoolIndex=0;const t=e.screenCredits;t.removeAll();const n=this._defaultCredits;for(let a=0;a<n.length;++a){const e=n[a];x(this,t,e,Number.MAX_VALUE)}e.lightboxCredits.removeAll(),i["a"].equals(O.cesiumCredit,this._cesiumCredit)||(this._cesiumCredit=i["a"].clone(O.cesiumCredit)),this._currentCesiumCredit=this._cesiumCredit},O.prototype.endFrame=function(){const e=this._currentFrameCredits.screenCredits.values;v(this._screenContainer,e,this._delimiter,void 0);const t=this._currentFrameCredits.lightboxCredits.values;this._expandLink.style.display=t.length>0?"inline":"none",v(this._creditList,t,void 0,"li"),_(this)},O.prototype.destroy=function(){return this._lightbox.removeEventListener("click",this._hideLightbox,!1),this.container.removeChild(this._cesiumCreditContainer),this.container.removeChild(this._screenContainer),this.container.removeChild(this._expandLink),this.viewport.removeChild(this._lightbox),Object(c["a"])(this)},O.prototype.isDestroyed=function(){return!1},O._cesiumCredit=void 0,O._cesiumCreditInitialized=!1,Object.defineProperties(O,{cesiumCredit:{get:function(){return L(),O._cesiumCredit},set:function(e){O._cesiumCredit=e,O._cesiumCreditInitialized=!0}}}),O.CreditDisplayElement=p,t["a"]=O},1360:function(e,t,n){"use strict";var a=n("2f63");function r(e){}let i;r.prototype.isReady=function(){return!0},r.prototype.shouldDiscardImage=function(e){return r.EMPTY_IMAGE===e},Object.defineProperties(r,{EMPTY_IMAGE:{get:function(){return Object(a["a"])(i)||(i=new Image,i.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),i}}}),t["a"]=r},"29ab":function(e,t,n){"use strict";var a=n("daa2");const r={FRONT:a["a"].FRONT,BACK:a["a"].BACK,FRONT_AND_BACK:a["a"].FRONT_AND_BACK};t["a"]=Object.freeze(r)},"37eb":function(e,t,n){"use strict";var a=n("cef5"),r=n("b482"),i=n("be18"),o=n("2bb9"),s=n("535a"),c=n("2f63"),u=n("7d62"),l=n("52f0"),h=n("0541"),d=n("8b68"),f=n("a894"),p=n("d289"),m=n("6dc0"),_=n("e90c"),g=n("5770"),b=n("7c5e"),y=n("fc40"),v=n("ed46"),E=n("b7c8"),C=n("29ab"),w=n("aea3"),O=n("a307");const x={position:0};function S(e){e=Object(s["a"])(e,s["a"].EMPTY_OBJECT),this.center=i["a"].clone(Object(s["a"])(e.center,i["a"].ZERO)),this._center=new i["a"],this.radii=i["a"].clone(e.radii),this._radii=new i["a"],this._oneOverEllipsoidRadiiSquared=new i["a"],this._boundingSphere=new a["a"],this.modelMatrix=l["a"].clone(Object(s["a"])(e.modelMatrix,l["a"].IDENTITY)),this._modelMatrix=new l["a"],this._computedModelMatrix=new l["a"],this.show=Object(s["a"])(e.show,!0),this.material=Object(s["a"])(e.material,w["a"].fromType(w["a"].ColorType)),this._material=void 0,this._translucent=void 0,this.id=e.id,this._id=void 0,this.debugShowBoundingVolume=Object(s["a"])(e.debugShowBoundingVolume,!1),this.onlySunLighting=Object(s["a"])(e.onlySunLighting,!1),this._onlySunLighting=!1,this._depthTestEnabled=Object(s["a"])(e.depthTestEnabled,!0),this._useLogDepth=!1,this._sp=void 0,this._rs=void 0,this._va=void 0,this._pickSP=void 0,this._pickId=void 0,this._colorCommand=new f["a"]({owner:Object(s["a"])(e._owner,this)}),this._pickCommand=new f["a"]({owner:Object(s["a"])(e._owner,this),pickOnly:!0});const t=this;this._uniforms={u_radii:function(){return t.radii},u_oneOverEllipsoidRadiiSquared:function(){return t._oneOverEllipsoidRadiiSquared}},this._pickUniforms={czm_pickColor:function(){return t._pickId.color}}}function L(e){let t=e.cache.ellipsoidPrimitive_vertexArray;if(Object(c["a"])(t))return t;const n=r["a"].createGeometry(r["a"].fromDimensions({dimensions:new i["a"](2,2,2),vertexFormat:h["a"].POSITION_ONLY}));return t=b["a"].fromGeometry({context:e,geometry:n,attributeLocations:x,bufferUsage:d["a"].STATIC_DRAW,interleave:!0}),e.cache.ellipsoidPrimitive_vertexArray=t,t}const A="#ifdef GL_EXT_frag_depth \n#extension GL_EXT_frag_depth : enable \n#endif \n\n";S.prototype.update=function(e){if(!this.show||e.mode!==O["a"].SCENE3D||!Object(c["a"])(this.center)||!Object(c["a"])(this.radii))return;const t=e.context,n=this.material.isTranslucent(),r=this._translucent!==n;Object(c["a"])(this._rs)&&!r||(this._translucent=n,this._rs=m["a"].fromCache({cull:{enabled:!0,face:C["a"].FRONT},depthTest:{enabled:this._depthTestEnabled},depthMask:!n&&t.fragmentDepth,blending:n?E["a"].ALPHA_BLEND:void 0})),Object(c["a"])(this._va)||(this._va=L(t));let s=!1;const u=this.radii;if(!i["a"].equals(this._radii,u)){i["a"].clone(u,this._radii);const e=this._oneOverEllipsoidRadiiSquared;e.x=1/(u.x*u.x),e.y=1/(u.y*u.y),e.z=1/(u.z*u.z),s=!0}l["a"].equals(this.modelMatrix,this._modelMatrix)&&i["a"].equals(this.center,this._center)||(l["a"].clone(this.modelMatrix,this._modelMatrix),i["a"].clone(this.center,this._center),l["a"].multiplyByTranslation(this.modelMatrix,this.center,this._computedModelMatrix),s=!0),s&&(i["a"].clone(i["a"].ZERO,this._boundingSphere.center),this._boundingSphere.radius=i["a"].maximumComponent(u),a["a"].transform(this._boundingSphere,this._computedModelMatrix,this._boundingSphere));const h=this._material!==this.material;this._material=this.material,this._material.update(t);const d=this.onlySunLighting!==this._onlySunLighting;this._onlySunLighting=this.onlySunLighting;const f=e.useLogDepth,b=this._useLogDepth!==f;this._useLogDepth=f;const w=this._colorCommand;let S,R;(h||d||r||b)&&(S=new g["a"]({sources:[v["a"]]}),R=new g["a"]({sources:[this.material.shaderSource,y["a"]]}),this.onlySunLighting&&R.defines.push("ONLY_SUN_LIGHTING"),!n&&t.fragmentDepth&&R.defines.push("WRITE_DEPTH"),this._useLogDepth&&(S.defines.push("LOG_DEPTH"),R.defines.push("LOG_DEPTH"),R.sources.push(A)),this._sp=_["a"].replaceCache({context:t,shaderProgram:this._sp,vertexShaderSource:S,fragmentShaderSource:R,attributeLocations:x}),w.vertexArray=this._va,w.renderState=this._rs,w.shaderProgram=this._sp,w.uniformMap=Object(o["a"])(this._uniforms,this.material._uniforms),w.executeInClosestFrustum=n);const I=e.commandList,T=e.passes;if(T.render&&(w.boundingVolume=this._boundingSphere,w.debugShowBoundingVolume=this.debugShowBoundingVolume,w.modelMatrix=this._computedModelMatrix,w.pass=n?p["a"].TRANSLUCENT:p["a"].OPAQUE,I.push(w)),T.pick){const e=this._pickCommand;Object(c["a"])(this._pickId)&&this._id===this.id||(this._id=this.id,this._pickId=this._pickId&&this._pickId.destroy(),this._pickId=t.createPickId({primitive:this,id:this.id})),(h||d||!Object(c["a"])(this._pickSP)||b)&&(S=new g["a"]({sources:[v["a"]]}),R=new g["a"]({sources:[this.material.shaderSource,y["a"]],pickColorQualifier:"uniform"}),this.onlySunLighting&&R.defines.push("ONLY_SUN_LIGHTING"),!n&&t.fragmentDepth&&R.defines.push("WRITE_DEPTH"),this._useLogDepth&&(S.defines.push("LOG_DEPTH"),R.defines.push("LOG_DEPTH"),R.sources.push(A)),this._pickSP=_["a"].replaceCache({context:t,shaderProgram:this._pickSP,vertexShaderSource:S,fragmentShaderSource:R,attributeLocations:x}),e.vertexArray=this._va,e.renderState=this._rs,e.shaderProgram=this._pickSP,e.uniformMap=Object(o["a"])(Object(o["a"])(this._uniforms,this._pickUniforms),this.material._uniforms),e.executeInClosestFrustum=n),e.boundingVolume=this._boundingSphere,e.modelMatrix=this._computedModelMatrix,e.pass=n?p["a"].TRANSLUCENT:p["a"].OPAQUE,I.push(e)}},S.prototype.isDestroyed=function(){return!1},S.prototype.destroy=function(){return this._sp=this._sp&&this._sp.destroy(),this._pickSP=this._pickSP&&this._pickSP.destroy(),this._pickId=this._pickId&&this._pickId.destroy(),Object(u["a"])(this)},t["a"]=S},5966:function(e,t,n){"use strict";var a=n("535a"),r=n("2f63"),i=n("0541"),o=n("e64a"),s=n("f74b"),c=n("5cb0"),u=n("aea3");function l(e){e=Object(a["a"])(e,a["a"].EMPTY_OBJECT);const t=Object(a["a"])(e.translucent,!0),n=Object(a["a"])(e.aboveGround,!1);this.material=Object(r["a"])(e.material)?e.material:u["a"].fromType(u["a"].ColorType),this.translucent=Object(a["a"])(e.translucent,!0),this._vertexShaderSource=Object(a["a"])(e.vertexShaderSource,s["a"]),this._fragmentShaderSource=Object(a["a"])(e.fragmentShaderSource,o["a"]),this._renderState=c["a"].getDefaultRenderState(t,!n,e.renderState),this._closed=!1,this._flat=Object(a["a"])(e.flat,!1),this._faceForward=Object(a["a"])(e.faceForward,n),this._aboveGround=n}Object.defineProperties(l.prototype,{vertexShaderSource:{get:function(){return this._vertexShaderSource}},fragmentShaderSource:{get:function(){return this._fragmentShaderSource}},renderState:{get:function(){return this._renderState}},closed:{get:function(){return this._closed}},vertexFormat:{get:function(){return l.VERTEX_FORMAT}},flat:{get:function(){return this._flat}},faceForward:{get:function(){return this._faceForward}},aboveGround:{get:function(){return this._aboveGround}}}),l.VERTEX_FORMAT=i["a"].POSITION_AND_ST,l.prototype.getFragmentShaderSource=c["a"].prototype.getFragmentShaderSource,l.prototype.isTranslucent=c["a"].prototype.isTranslucent,l.prototype.getRenderState=c["a"].prototype.getRenderState,t["a"]=l},"5a01":function(e,t,n){"use strict";var a=n("670c"),r=n("be18"),i=n("bd8d"),o=n("535a"),s=n("2f63");function c(e,t){if(e=Object(o["a"])(e,o["a"].EMPTY_OBJECT),this._show=Object(o["a"])(e.show,!0),this._position=r["a"].clone(Object(o["a"])(e.position,r["a"].ZERO)),!Object(s["a"])(e.scale)&&Object(s["a"])(e.maximumSize))this._maximumSize=r["a"].clone(e.maximumSize),this._scale=new a["a"](this._maximumSize.x,this._maximumSize.y);else{this._scale=a["a"].clone(Object(o["a"])(e.scale,new a["a"](20,12)));const t=new r["a"](this._scale.x,this._scale.y,Math.min(this._scale.x,this._scale.y)/1.5);this._maximumSize=r["a"].clone(Object(o["a"])(e.maximumSize,t))}this._slice=Object(o["a"])(e.slice,-1),this._color=i["a"].clone(Object(o["a"])(e.color,i["a"].WHITE)),this._brightness=Object(o["a"])(e.brightness,1),this._cloudCollection=t,this._index=-1}const u=c.SHOW_INDEX=0,l=c.POSITION_INDEX=1,h=c.SCALE_INDEX=2,d=c.MAXIMUM_SIZE_INDEX=3,f=c.SLICE_INDEX=4,p=c.BRIGHTNESS_INDEX=5,m=c.COLOR_INDEX=6;function _(e,t){const n=e._cloudCollection;Object(s["a"])(n)&&(n._updateCloud(e,t),e._dirty=!0)}c.NUMBER_OF_PROPERTIES=7,Object.defineProperties(c.prototype,{show:{get:function(){return this._show},set:function(e){this._show!==e&&(this._show=e,_(this,u))}},position:{get:function(){return this._position},set:function(e){const t=this._position;r["a"].equals(t,e)||(r["a"].clone(e,t),_(this,l))}},scale:{get:function(){return this._scale},set:function(e){const t=this._scale;a["a"].equals(t,e)||(a["a"].clone(e,t),_(this,h))}},maximumSize:{get:function(){return this._maximumSize},set:function(e){const t=this._maximumSize;r["a"].equals(t,e)||(r["a"].clone(e,t),_(this,d))}},color:{get:function(){return this._color},set:function(e){const t=this._color;i["a"].equals(t,e)||(i["a"].clone(e,t),_(this,m))}},slice:{get:function(){return this._slice},set:function(e){const t=this._slice;t!==e&&(this._slice=e,_(this,f))}},brightness:{get:function(){return this._brightness},set:function(e){const t=this._brightness;t!==e&&(this._brightness=e,_(this,p))}}}),c.prototype._destroy=function(){this._cloudCollection=void 0},t["a"]=c},6928:function(e,t,n){"use strict";var a=n("670c"),r=n("be18"),i=n("a561"),o=n("bd8d"),s=n("2f63"),c=n("93da"),u=n("283e"),l=n("e787"),h=n("7a2e");function d(e,t){let n;this._expression=e,e=M(e,t),e=k(D(e)),l["a"].addBinaryOp("=~",0),l["a"].addBinaryOp("!~",0);try{n=Object(l["a"])(e)}catch(a){throw new u["a"](a)}this._runtimeAst=Q(this,n)}Object.defineProperties(d.prototype,{expression:{get:function(){return this._expression}}});const f={arrayIndex:0,arrayArray:[[]],cartesian2Index:0,cartesian3Index:0,cartesian4Index:0,cartesian2Array:[new a["a"]],cartesian3Array:[new r["a"]],cartesian4Array:[new i["a"]],reset:function(){this.arrayIndex=0,this.cartesian2Index=0,this.cartesian3Index=0,this.cartesian4Index=0},getArray:function(){this.arrayIndex>=this.arrayArray.length&&this.arrayArray.push([]);const e=this.arrayArray[this.arrayIndex++];return e.length=0,e},getCartesian2:function(){return this.cartesian2Index>=this.cartesian2Array.length&&this.cartesian2Array.push(new a["a"]),this.cartesian2Array[this.cartesian2Index++]},getCartesian3:function(){return this.cartesian3Index>=this.cartesian3Array.length&&this.cartesian3Array.push(new r["a"]),this.cartesian3Array[this.cartesian3Index++]},getCartesian4:function(){return this.cartesian4Index>=this.cartesian4Array.length&&this.cartesian4Array.push(new i["a"]),this.cartesian4Array[this.cartesian4Index++]}};d.prototype.evaluate=function(e,t){f.reset();const n=this._runtimeAst.evaluate(e);return t instanceof o["a"]&&n instanceof i["a"]?o["a"].fromCartesian4(n,t):n instanceof a["a"]||n instanceof r["a"]||n instanceof i["a"]?n.clone(t):n},d.prototype.evaluateColor=function(e,t){f.reset();const n=this._runtimeAst.evaluate(e);return o["a"].fromCartesian4(n,t)},d.prototype.getShaderFunction=function(e,t,n,a){let r=this.getShaderExpression(t,n);return r=`${a} ${e}\n{\n    return ${r};\n}\n`,r},d.prototype.getShaderExpression=function(e,t){return this._runtimeAst.getShaderExpression(e,t)},d.prototype.getVariables=function(){let e=[];return this._runtimeAst.getVariables(e),e=e.filter((function(e,t,n){return n.indexOf(e)===t})),e};const p=["!","-","+"],m=["+","-","*","/","%","===","!==",">",">=","<","<=","&&","||","!~","=~"],_=/\${(.*?)}/g,g=/\\/g,b="@#%",y=/@#%/g,v=new o["a"],E={abs:L(Math.abs),sqrt:L(Math.sqrt),cos:L(Math.cos),sin:L(Math.sin),tan:L(Math.tan),acos:L(Math.acos),asin:L(Math.asin),atan:L(Math.atan),radians:L(c["a"].toRadians),degrees:L(c["a"].toDegrees),sign:L(c["a"].sign),floor:L(Math.floor),ceil:L(Math.ceil),round:L(Math.round),exp:L(Math.exp),exp2:L(x),log:L(Math.log),log2:L(S),fract:L(O),length:I,normalize:T},C={atan2:A(Math.atan2,!1),pow:A(Math.pow,!1),min:A(Math.min,!0),max:A(Math.max,!0),distance:N,dot:j,cross:P},w={clamp:R(c["a"].clamp,!0),mix:R(c["a"].lerp,!0)};function O(e){return e-Math.floor(e)}function x(e){return Math.pow(2,e)}function S(e){return c["a"].log2(e)}function L(e){return function(t,n){if("number"===typeof n)return e(n);if(n instanceof a["a"])return a["a"].fromElements(e(n.x),e(n.y),f.getCartesian2());if(n instanceof r["a"])return r["a"].fromElements(e(n.x),e(n.y),e(n.z),f.getCartesian3());if(n instanceof i["a"])return i["a"].fromElements(e(n.x),e(n.y),e(n.z),e(n.w),f.getCartesian4());throw new u["a"](`Function "${t}" requires a vector or number argument. Argument is ${n}.`)}}function A(e,t){return function(n,o,s){if(t&&"number"===typeof s){if("number"===typeof o)return e(o,s);if(o instanceof a["a"])return a["a"].fromElements(e(o.x,s),e(o.y,s),f.getCartesian2());if(o instanceof r["a"])return r["a"].fromElements(e(o.x,s),e(o.y,s),e(o.z,s),f.getCartesian3());if(o instanceof i["a"])return i["a"].fromElements(e(o.x,s),e(o.y,s),e(o.z,s),e(o.w,s),f.getCartesian4())}if("number"===typeof o&&"number"===typeof s)return e(o,s);if(o instanceof a["a"]&&s instanceof a["a"])return a["a"].fromElements(e(o.x,s.x),e(o.y,s.y),f.getCartesian2());if(o instanceof r["a"]&&s instanceof r["a"])return r["a"].fromElements(e(o.x,s.x),e(o.y,s.y),e(o.z,s.z),f.getCartesian3());if(o instanceof i["a"]&&s instanceof i["a"])return i["a"].fromElements(e(o.x,s.x),e(o.y,s.y),e(o.z,s.z),e(o.w,s.w),f.getCartesian4());throw new u["a"](`Function "${n}" requires vector or number arguments of matching types. Arguments are ${o} and ${s}.`)}}function R(e,t){return function(n,o,s,c){if(t&&"number"===typeof c){if("number"===typeof o&&"number"===typeof s)return e(o,s,c);if(o instanceof a["a"]&&s instanceof a["a"])return a["a"].fromElements(e(o.x,s.x,c),e(o.y,s.y,c),f.getCartesian2());if(o instanceof r["a"]&&s instanceof r["a"])return r["a"].fromElements(e(o.x,s.x,c),e(o.y,s.y,c),e(o.z,s.z,c),f.getCartesian3());if(o instanceof i["a"]&&s instanceof i["a"])return i["a"].fromElements(e(o.x,s.x,c),e(o.y,s.y,c),e(o.z,s.z,c),e(o.w,s.w,c),f.getCartesian4())}if("number"===typeof o&&"number"===typeof s&&"number"===typeof c)return e(o,s,c);if(o instanceof a["a"]&&s instanceof a["a"]&&c instanceof a["a"])return a["a"].fromElements(e(o.x,s.x,c.x),e(o.y,s.y,c.y),f.getCartesian2());if(o instanceof r["a"]&&s instanceof r["a"]&&c instanceof r["a"])return r["a"].fromElements(e(o.x,s.x,c.x),e(o.y,s.y,c.y),e(o.z,s.z,c.z),f.getCartesian3());if(o instanceof i["a"]&&s instanceof i["a"]&&c instanceof i["a"])return i["a"].fromElements(e(o.x,s.x,c.x),e(o.y,s.y,c.y),e(o.z,s.z,c.z),e(o.w,s.w,c.w),f.getCartesian4());throw new u["a"](`Function "${n}" requires vector or number arguments of matching types. Arguments are ${o}, ${s}, and ${c}.`)}}function I(e,t){if("number"===typeof t)return Math.abs(t);if(t instanceof a["a"])return a["a"].magnitude(t);if(t instanceof r["a"])return r["a"].magnitude(t);if(t instanceof i["a"])return i["a"].magnitude(t);throw new u["a"](`Function "${e}" requires a vector or number argument. Argument is ${t}.`)}function T(e,t){if("number"===typeof t)return 1;if(t instanceof a["a"])return a["a"].normalize(t,f.getCartesian2());if(t instanceof r["a"])return r["a"].normalize(t,f.getCartesian3());if(t instanceof i["a"])return i["a"].normalize(t,f.getCartesian4());throw new u["a"](`Function "${e}" requires a vector or number argument. Argument is ${t}.`)}function N(e,t,n){if("number"===typeof t&&"number"===typeof n)return Math.abs(t-n);if(t instanceof a["a"]&&n instanceof a["a"])return a["a"].distance(t,n);if(t instanceof r["a"]&&n instanceof r["a"])return r["a"].distance(t,n);if(t instanceof i["a"]&&n instanceof i["a"])return i["a"].distance(t,n);throw new u["a"](`Function "${e}" requires vector or number arguments of matching types. Arguments are ${t} and ${n}.`)}function j(e,t,n){if("number"===typeof t&&"number"===typeof n)return t*n;if(t instanceof a["a"]&&n instanceof a["a"])return a["a"].dot(t,n);if(t instanceof r["a"]&&n instanceof r["a"])return r["a"].dot(t,n);if(t instanceof i["a"]&&n instanceof i["a"])return i["a"].dot(t,n);throw new u["a"](`Function "${e}" requires vector or number arguments of matching types. Arguments are ${t} and ${n}.`)}function P(e,t,n){if(t instanceof r["a"]&&n instanceof r["a"])return r["a"].cross(t,n,f.getCartesian3());throw new u["a"](`Function "${e}" requires vec3 arguments. Arguments are ${t} and ${n}.`)}function $(e,t,n,a,r){this._type=e,this._value=t,this._left=n,this._right=a,this._test=r,this.evaluate=void 0,K(this)}function M(e,t){if(!Object(s["a"])(t))return e;for(const n in t)if(t.hasOwnProperty(n)){const a=new RegExp(`\\$\\{${n}\\}`,"g"),r=`(${t[n]})`;Object(s["a"])(r)&&(e=e.replace(a,r))}return e}function D(e){return e.replace(g,b)}function B(e){return e.replace(y,"\\")}function k(e){let t=e,n="",a=t.indexOf("${");while(a>=0){const e=t.indexOf("'"),r=t.indexOf('"');let i;if(e>=0&&e<a)i=t.indexOf("'",e+1),n+=t.substr(0,i+1),t=t.substr(i+1),a=t.indexOf("${");else if(r>=0&&r<a)i=t.indexOf('"',r+1),n+=t.substr(0,i+1),t=t.substr(i+1),a=t.indexOf("${");else{n+=t.substr(0,a);const e=t.indexOf("}");if(e<0)throw new u["a"]("Unmatched {.");n+="czm_"+t.substr(a+2,e-(a+2)),t=t.substr(e+1),a=t.indexOf("${")}}return n+=t,n}function F(e){const t=typeof e.value;return null===e.value?new $(h["a"].LITERAL_NULL,null):"boolean"===t?new $(h["a"].LITERAL_BOOLEAN,e.value):"number"===t?new $(h["a"].LITERAL_NUMBER,e.value):"string"===t?e.value.indexOf("${")>=0?new $(h["a"].VARIABLE_IN_STRING,e.value):new $(h["a"].LITERAL_STRING,B(e.value)):void 0}function U(e,t){const n=t.arguments,a=n.length;let r,i,o,c;if("MemberExpression"===t.callee.type){r=t.callee.property.name;const s=t.callee.object;if("test"===r||"exec"===r){if("regExp"!==s.callee.name)throw new u["a"](r+" is not a function.");return 0===a?"test"===r?new $(h["a"].LITERAL_BOOLEAN,!1):new $(h["a"].LITERAL_NULL,null):(o=Q(e,s),c=Q(e,n[0]),new $(h["a"].FUNCTION_CALL,r,o,c))}if("toString"===r)return i=Q(e,s),new $(h["a"].FUNCTION_CALL,r,i);throw new u["a"](`Unexpected function call "${r}".`)}if(r=t.callee.name,"color"===r){if(0===a)return new $(h["a"].LITERAL_COLOR,r);if(i=Q(e,n[0]),Object(s["a"])(n[1])){const t=Q(e,n[1]);return new $(h["a"].LITERAL_COLOR,r,[i,t])}return new $(h["a"].LITERAL_COLOR,r,[i])}if("rgb"===r||"hsl"===r){if(a<3)throw new u["a"](r+" requires three arguments.");return i=[Q(e,n[0]),Q(e,n[1]),Q(e,n[2])],new $(h["a"].LITERAL_COLOR,r,i)}if("rgba"===r||"hsla"===r){if(a<4)throw new u["a"](r+" requires four arguments.");return i=[Q(e,n[0]),Q(e,n[1]),Q(e,n[2]),Q(e,n[3])],new $(h["a"].LITERAL_COLOR,r,i)}if("vec2"===r||"vec3"===r||"vec4"===r){i=new Array(a);for(let t=0;t<a;++t)i[t]=Q(e,n[t]);return new $(h["a"].LITERAL_VECTOR,r,i)}if("isNaN"===r||"isFinite"===r)return 0===a?new $(h["a"].LITERAL_BOOLEAN,"isNaN"===r):(i=Q(e,n[0]),new $(h["a"].UNARY,r,i));if("isExactClass"===r||"isClass"===r){if(a<1||a>1)throw new u["a"](r+" requires exactly one argument.");return i=Q(e,n[0]),new $(h["a"].UNARY,r,i)}if("getExactClassName"===r){if(a>0)throw new u["a"](r+" does not take any argument.");return new $(h["a"].UNARY,r)}if(Object(s["a"])(E[r])){if(1!==a)throw new u["a"](r+" requires exactly one argument.");return i=Q(e,n[0]),new $(h["a"].UNARY,r,i)}if(Object(s["a"])(C[r])){if(2!==a)throw new u["a"](r+" requires exactly two arguments.");return o=Q(e,n[0]),c=Q(e,n[1]),new $(h["a"].BINARY,r,o,c)}if(Object(s["a"])(w[r])){if(3!==a)throw new u["a"](r+" requires exactly three arguments.");o=Q(e,n[0]),c=Q(e,n[1]);const t=Q(e,n[2]);return new $(h["a"].TERNARY,r,o,c,t)}if("Boolean"===r)return 0===a?new $(h["a"].LITERAL_BOOLEAN,!1):(i=Q(e,n[0]),new $(h["a"].UNARY,r,i));if("Number"===r)return 0===a?new $(h["a"].LITERAL_NUMBER,0):(i=Q(e,n[0]),new $(h["a"].UNARY,r,i));if("String"===r)return 0===a?new $(h["a"].LITERAL_STRING,""):(i=Q(e,n[0]),new $(h["a"].UNARY,r,i));if("regExp"===r)return z(e,t);throw new u["a"](`Unexpected function call "${r}".`)}function z(e,t){const n=t.arguments;if(0===n.length)return new $(h["a"].LITERAL_REGEX,new RegExp);const a=Q(e,n[0]);let r;if(n.length>1){const t=Q(e,n[1]);if(Y(a)&&Y(t)){try{r=new RegExp(B(String(a._value)),t._value)}catch(i){throw new u["a"](i)}return new $(h["a"].LITERAL_REGEX,r)}return new $(h["a"].REGEX,a,t)}if(Y(a)){try{r=new RegExp(B(String(a._value)))}catch(i){throw new u["a"](i)}return new $(h["a"].LITERAL_REGEX,r)}return new $(h["a"].REGEX,a)}function G(e){if(X(e.name)){const t=W(e.name);return"tiles3d_"===t.substr(0,8)?new $(h["a"].BUILTIN_VARIABLE,t):new $(h["a"].VARIABLE,t)}if("NaN"===e.name)return new $(h["a"].LITERAL_NUMBER,NaN);if("Infinity"===e.name)return new $(h["a"].LITERAL_NUMBER,1/0);if("undefined"===e.name)return new $(h["a"].LITERAL_UNDEFINED,void 0);throw new u["a"](e.name+" is not defined.")}function V(e){const t=e.property.name;return"PI"===t?new $(h["a"].LITERAL_NUMBER,Math.PI):"E"===t?new $(h["a"].LITERAL_NUMBER,Math.E):void 0}function q(e){const t=e.property.name;if("POSITIVE_INFINITY"===t)return new $(h["a"].LITERAL_NUMBER,Number.POSITIVE_INFINITY)}function H(e,t){if("Math"===t.object.name)return V(t);if("Number"===t.object.name)return q(t);let n;const a=Q(e,t.object);return t.computed?(n=Q(e,t.property),new $(h["a"].MEMBER,"brackets",a,n)):(n=new $(h["a"].LITERAL_STRING,t.property.name),new $(h["a"].MEMBER,"dot",a,n))}function Y(e){return e._type>=h["a"].LITERAL_NULL}function X(e){return"czm_"===e.substr(0,4)}function W(e){return e.substr(4)}function Q(e,t){let n,a,r,i;if("Literal"===t.type)n=F(t);else if("CallExpression"===t.type)n=U(e,t);else if("Identifier"===t.type)n=G(t);else if("UnaryExpression"===t.type){a=t.operator;const r=Q(e,t.argument);if(!(p.indexOf(a)>-1))throw new u["a"](`Unexpected operator "${a}".`);n=new $(h["a"].UNARY,a,r)}else if("BinaryExpression"===t.type){if(a=t.operator,r=Q(e,t.left),i=Q(e,t.right),!(m.indexOf(a)>-1))throw new u["a"](`Unexpected operator "${a}".`);n=new $(h["a"].BINARY,a,r,i)}else if("LogicalExpression"===t.type)a=t.operator,r=Q(e,t.left),i=Q(e,t.right),m.indexOf(a)>-1&&(n=new $(h["a"].BINARY,a,r,i));else if("ConditionalExpression"===t.type){const a=Q(e,t.test);r=Q(e,t.consequent),i=Q(e,t.alternate),n=new $(h["a"].CONDITIONAL,"?",r,i,a)}else if("MemberExpression"===t.type)n=H(e,t);else{if("ArrayExpression"!==t.type)throw"Compound"===t.type?new u["a"]("Provide exactly one expression."):new u["a"]("Cannot parse expression.");{const a=[];for(let n=0;n<t.elements.length;n++)a[n]=Q(e,t.elements[n]);n=new $(h["a"].ARRAY,a)}}return n}function K(e){e._type===h["a"].CONDITIONAL?e.evaluate=e._evaluateConditional:e._type===h["a"].FUNCTION_CALL?"test"===e._value?e.evaluate=e._evaluateRegExpTest:"exec"===e._value?e.evaluate=e._evaluateRegExpExec:"toString"===e._value&&(e.evaluate=e._evaluateToString):e._type===h["a"].UNARY?"!"===e._value?e.evaluate=e._evaluateNot:"-"===e._value?e.evaluate=e._evaluateNegative:"+"===e._value?e.evaluate=e._evaluatePositive:"isNaN"===e._value?e.evaluate=e._evaluateNaN:"isFinite"===e._value?e.evaluate=e._evaluateIsFinite:"isExactClass"===e._value?e.evaluate=e._evaluateIsExactClass:"isClass"===e._value?e.evaluate=e._evaluateIsClass:"getExactClassName"===e._value?e.evaluate=e._evaluateGetExactClassName:"Boolean"===e._value?e.evaluate=e._evaluateBooleanConversion:"Number"===e._value?e.evaluate=e._evaluateNumberConversion:"String"===e._value?e.evaluate=e._evaluateStringConversion:Object(s["a"])(E[e._value])&&(e.evaluate=J(e._value)):e._type===h["a"].BINARY?"+"===e._value?e.evaluate=e._evaluatePlus:"-"===e._value?e.evaluate=e._evaluateMinus:"*"===e._value?e.evaluate=e._evaluateTimes:"/"===e._value?e.evaluate=e._evaluateDivide:"%"===e._value?e.evaluate=e._evaluateMod:"==="===e._value?e.evaluate=e._evaluateEqualsStrict:"!=="===e._value?e.evaluate=e._evaluateNotEqualsStrict:"<"===e._value?e.evaluate=e._evaluateLessThan:"<="===e._value?e.evaluate=e._evaluateLessThanOrEquals:">"===e._value?e.evaluate=e._evaluateGreaterThan:">="===e._value?e.evaluate=e._evaluateGreaterThanOrEquals:"&&"===e._value?e.evaluate=e._evaluateAnd:"||"===e._value?e.evaluate=e._evaluateOr:"=~"===e._value?e.evaluate=e._evaluateRegExpMatch:"!~"===e._value?e.evaluate=e._evaluateRegExpNotMatch:Object(s["a"])(C[e._value])&&(e.evaluate=ee(e._value)):e._type===h["a"].TERNARY?e.evaluate=te(e._value):e._type===h["a"].MEMBER?"brackets"===e._value?e.evaluate=e._evaluateMemberBrackets:e.evaluate=e._evaluateMemberDot:e._type===h["a"].ARRAY?e.evaluate=e._evaluateArray:e._type===h["a"].VARIABLE?e.evaluate=e._evaluateVariable:e._type===h["a"].VARIABLE_IN_STRING?e.evaluate=e._evaluateVariableString:e._type===h["a"].LITERAL_COLOR?e.evaluate=e._evaluateLiteralColor:e._type===h["a"].LITERAL_VECTOR?e.evaluate=e._evaluateLiteralVector:e._type===h["a"].LITERAL_STRING?e.evaluate=e._evaluateLiteralString:e._type===h["a"].REGEX?e.evaluate=e._evaluateRegExp:e._type===h["a"].BUILTIN_VARIABLE?"tiles3d_tileset_time"===e._value&&(e.evaluate=Z):e.evaluate=e._evaluateLiteral}function Z(e){return Object(s["a"])(e)?e.content.tileset.timeSinceLoad:0}function J(e){const t=E[e];return function(n){const a=this._left.evaluate(n);return t(e,a)}}function ee(e){const t=C[e];return function(n){const a=this._left.evaluate(n),r=this._right.evaluate(n);return t(e,a,r)}}function te(e){const t=w[e];return function(n){const a=this._left.evaluate(n),r=this._right.evaluate(n),i=this._test.evaluate(n);return t(e,a,r,i)}}function ne(e,t){if(Object(s["a"])(e))return e.getPropertyInherited(t)}function ae(e){return"feature"===e._value}function re(e){const t=e._left,n=t.length;for(let o=0;o<n;++o)if(t[o]._type!==h["a"].LITERAL_NUMBER)return;const a=t[0]._value,r=t[1]._value,i=t[2]._value,s=4===n?t[3]._value:1;return o["a"].fromHsl(a,r,i,s,v)}function ie(e){const t=e._left,n=t.length;for(let r=0;r<n;++r)if(t[r]._type!==h["a"].LITERAL_NUMBER)return;const a=v;return a.red=t[0]._value/255,a.green=t[1]._value/255,a.blue=t[2]._value/255,a.alpha=4===n?t[3]._value:1,a}function oe(e){return e%1===0?e.toFixed(1):e.toString()}function se(e){const t=oe(e.red),n=oe(e.green),a=oe(e.blue);return`vec3(${t}, ${n}, ${a})`}function ce(e){const t=oe(e.red),n=oe(e.green),a=oe(e.blue),r=oe(e.alpha);return`vec4(${t}, ${n}, ${a}, ${r})`}function ue(e,t,n,a){const r=e.length,i=new Array(r);for(let o=0;o<r;++o)i[o]=e[o].getShaderExpression(t,n,a);return i}function le(e,t){return Object(s["a"])(t[e])?t[e]:d.NULL_SENTINEL}$.prototype._evaluateLiteral=function(){return this._value},$.prototype._evaluateLiteralColor=function(e){const t=v,n=this._left;if("color"===this._value)Object(s["a"])(n)?n.length>1?(o["a"].fromCssColorString(n[0].evaluate(e),t),t.alpha=n[1].evaluate(e)):o["a"].fromCssColorString(n[0].evaluate(e),t):o["a"].fromBytes(255,255,255,255,t);else if("rgb"===this._value)o["a"].fromBytes(n[0].evaluate(e),n[1].evaluate(e),n[2].evaluate(e),255,t);else if("rgba"===this._value){const a=255*n[3].evaluate(e);o["a"].fromBytes(n[0].evaluate(e),n[1].evaluate(e),n[2].evaluate(e),a,t)}else"hsl"===this._value?o["a"].fromHsl(n[0].evaluate(e),n[1].evaluate(e),n[2].evaluate(e),1,t):"hsla"===this._value&&o["a"].fromHsl(n[0].evaluate(e),n[1].evaluate(e),n[2].evaluate(e),n[3].evaluate(e),t);return i["a"].fromColor(t,f.getCartesian4())},$.prototype._evaluateLiteralVector=function(e){const t=f.getArray(),n=this._value,o=this._left,s=o.length;for(let h=0;h<s;++h){const s=o[h].evaluate(e);if("number"===typeof s)t.push(s);else if(s instanceof a["a"])t.push(s.x,s.y);else if(s instanceof r["a"])t.push(s.x,s.y,s.z);else{if(!(s instanceof i["a"]))throw new u["a"](`${n} argument must be a vector or number. Argument is ${s}.`);t.push(s.x,s.y,s.z,s.w)}}const c=t.length,l=parseInt(n.charAt(3));if(0===c)throw new u["a"](`Invalid ${n} constructor. No valid arguments.`);if(c<l&&c>1)throw new u["a"](`Invalid ${n} constructor. Not enough arguments.`);if(c>l&&s>1)throw new u["a"](`Invalid ${n} constructor. Too many arguments.`);if(1===c){const e=t[0];t.push(e,e,e)}return"vec2"===n?a["a"].fromArray(t,0,f.getCartesian2()):"vec3"===n?r["a"].fromArray(t,0,f.getCartesian3()):"vec4"===n?i["a"].fromArray(t,0,f.getCartesian4()):void 0},$.prototype._evaluateLiteralString=function(){return this._value},$.prototype._evaluateVariableString=function(e){let t=this._value,n=_.exec(t);while(null!==n){const a=n[0],r=n[1];let i=ne(e,r);Object(s["a"])(i)||(i=""),t=t.replace(a,i),n=_.exec(t)}return t},$.prototype._evaluateVariable=function(e){return ne(e,this._value)},$.prototype._evaluateMemberDot=function(e){if(ae(this._left))return ne(e,this._right.evaluate(e));const t=this._left.evaluate(e);if(!Object(s["a"])(t))return;const n=this._right.evaluate(e);if(t instanceof a["a"]||t instanceof r["a"]||t instanceof i["a"]){if("r"===n)return t.x;if("g"===n)return t.y;if("b"===n)return t.z;if("a"===n)return t.w}return t[n]},$.prototype._evaluateMemberBrackets=function(e){if(ae(this._left))return ne(e,this._right.evaluate(e));const t=this._left.evaluate(e);if(!Object(s["a"])(t))return;const n=this._right.evaluate(e);if(t instanceof a["a"]||t instanceof r["a"]||t instanceof i["a"]){if(0===n||"r"===n)return t.x;if(1===n||"g"===n)return t.y;if(2===n||"b"===n)return t.z;if(3===n||"a"===n)return t.w}return t[n]},$.prototype._evaluateArray=function(e){const t=[];for(let n=0;n<this._value.length;n++)t[n]=this._value[n].evaluate(e);return t},$.prototype._evaluateNot=function(e){const t=this._left.evaluate(e);if("boolean"!==typeof t)throw new u["a"](`Operator "!" requires a boolean argument. Argument is ${t}.`);return!t},$.prototype._evaluateNegative=function(e){const t=this._left.evaluate(e);if(t instanceof a["a"])return a["a"].negate(t,f.getCartesian2());if(t instanceof r["a"])return r["a"].negate(t,f.getCartesian3());if(t instanceof i["a"])return i["a"].negate(t,f.getCartesian4());if("number"===typeof t)return-t;throw new u["a"](`Operator "-" requires a vector or number argument. Argument is ${t}.`)},$.prototype._evaluatePositive=function(e){const t=this._left.evaluate(e);if(!(t instanceof a["a"]||t instanceof r["a"]||t instanceof i["a"]||"number"===typeof t))throw new u["a"](`Operator "+" requires a vector or number argument. Argument is ${t}.`);return t},$.prototype._evaluateLessThan=function(e){const t=this._left.evaluate(e),n=this._right.evaluate(e);if("number"!==typeof t||"number"!==typeof n)throw new u["a"](`Operator "<" requires number arguments. Arguments are ${t} and ${n}.`);return t<n},$.prototype._evaluateLessThanOrEquals=function(e){const t=this._left.evaluate(e),n=this._right.evaluate(e);if("number"!==typeof t||"number"!==typeof n)throw new u["a"](`Operator "<=" requires number arguments. Arguments are ${t} and ${n}.`);return t<=n},$.prototype._evaluateGreaterThan=function(e){const t=this._left.evaluate(e),n=this._right.evaluate(e);if("number"!==typeof t||"number"!==typeof n)throw new u["a"](`Operator ">" requires number arguments. Arguments are ${t} and ${n}.`);return t>n},$.prototype._evaluateGreaterThanOrEquals=function(e){const t=this._left.evaluate(e),n=this._right.evaluate(e);if("number"!==typeof t||"number"!==typeof n)throw new u["a"](`Operator ">=" requires number arguments. Arguments are ${t} and ${n}.`);return t>=n},$.prototype._evaluateOr=function(e){const t=this._left.evaluate(e);if("boolean"!==typeof t)throw new u["a"](`Operator "||" requires boolean arguments. First argument is ${t}.`);if(t)return!0;const n=this._right.evaluate(e);if("boolean"!==typeof n)throw new u["a"](`Operator "||" requires boolean arguments. Second argument is ${n}.`);return t||n},$.prototype._evaluateAnd=function(e){const t=this._left.evaluate(e);if("boolean"!==typeof t)throw new u["a"](`Operator "&&" requires boolean arguments. First argument is ${t}.`);if(!t)return!1;const n=this._right.evaluate(e);if("boolean"!==typeof n)throw new u["a"](`Operator "&&" requires boolean arguments. Second argument is ${n}.`);return t&&n},$.prototype._evaluatePlus=function(e){const t=this._left.evaluate(e),n=this._right.evaluate(e);if(n instanceof a["a"]&&t instanceof a["a"])return a["a"].add(t,n,f.getCartesian2());if(n instanceof r["a"]&&t instanceof r["a"])return r["a"].add(t,n,f.getCartesian3());if(n instanceof i["a"]&&t instanceof i["a"])return i["a"].add(t,n,f.getCartesian4());if("string"===typeof t||"string"===typeof n)return t+n;if("number"===typeof t&&"number"===typeof n)return t+n;throw new u["a"](`Operator "+" requires vector or number arguments of matching types, or at least one string argument. Arguments are ${t} and ${n}.`)},$.prototype._evaluateMinus=function(e){const t=this._left.evaluate(e),n=this._right.evaluate(e);if(n instanceof a["a"]&&t instanceof a["a"])return a["a"].subtract(t,n,f.getCartesian2());if(n instanceof r["a"]&&t instanceof r["a"])return r["a"].subtract(t,n,f.getCartesian3());if(n instanceof i["a"]&&t instanceof i["a"])return i["a"].subtract(t,n,f.getCartesian4());if("number"===typeof t&&"number"===typeof n)return t-n;throw new u["a"](`Operator "-" requires vector or number arguments of matching types. Arguments are ${t} and ${n}.`)},$.prototype._evaluateTimes=function(e){const t=this._left.evaluate(e),n=this._right.evaluate(e);if(n instanceof a["a"]&&t instanceof a["a"])return a["a"].multiplyComponents(t,n,f.getCartesian2());if(n instanceof a["a"]&&"number"===typeof t)return a["a"].multiplyByScalar(n,t,f.getCartesian2());if(t instanceof a["a"]&&"number"===typeof n)return a["a"].multiplyByScalar(t,n,f.getCartesian2());if(n instanceof r["a"]&&t instanceof r["a"])return r["a"].multiplyComponents(t,n,f.getCartesian3());if(n instanceof r["a"]&&"number"===typeof t)return r["a"].multiplyByScalar(n,t,f.getCartesian3());if(t instanceof r["a"]&&"number"===typeof n)return r["a"].multiplyByScalar(t,n,f.getCartesian3());if(n instanceof i["a"]&&t instanceof i["a"])return i["a"].multiplyComponents(t,n,f.getCartesian4());if(n instanceof i["a"]&&"number"===typeof t)return i["a"].multiplyByScalar(n,t,f.getCartesian4());if(t instanceof i["a"]&&"number"===typeof n)return i["a"].multiplyByScalar(t,n,f.getCartesian4());if("number"===typeof t&&"number"===typeof n)return t*n;throw new u["a"](`Operator "*" requires vector or number arguments. If both arguments are vectors they must be matching types. Arguments are ${t} and ${n}.`)},$.prototype._evaluateDivide=function(e){const t=this._left.evaluate(e),n=this._right.evaluate(e);if(n instanceof a["a"]&&t instanceof a["a"])return a["a"].divideComponents(t,n,f.getCartesian2());if(t instanceof a["a"]&&"number"===typeof n)return a["a"].divideByScalar(t,n,f.getCartesian2());if(n instanceof r["a"]&&t instanceof r["a"])return r["a"].divideComponents(t,n,f.getCartesian3());if(t instanceof r["a"]&&"number"===typeof n)return r["a"].divideByScalar(t,n,f.getCartesian3());if(n instanceof i["a"]&&t instanceof i["a"])return i["a"].divideComponents(t,n,f.getCartesian4());if(t instanceof i["a"]&&"number"===typeof n)return i["a"].divideByScalar(t,n,f.getCartesian4());if("number"===typeof t&&"number"===typeof n)return t/n;throw new u["a"](`Operator "/" requires vector or number arguments of matching types, or a number as the second argument. Arguments are ${t} and ${n}.`)},$.prototype._evaluateMod=function(e){const t=this._left.evaluate(e),n=this._right.evaluate(e);if(n instanceof a["a"]&&t instanceof a["a"])return a["a"].fromElements(t.x%n.x,t.y%n.y,f.getCartesian2());if(n instanceof r["a"]&&t instanceof r["a"])return r["a"].fromElements(t.x%n.x,t.y%n.y,t.z%n.z,f.getCartesian3());if(n instanceof i["a"]&&t instanceof i["a"])return i["a"].fromElements(t.x%n.x,t.y%n.y,t.z%n.z,t.w%n.w,f.getCartesian4());if("number"===typeof t&&"number"===typeof n)return t%n;throw new u["a"](`Operator "%" requires vector or number arguments of matching types. Arguments are ${t} and ${n}.`)},$.prototype._evaluateEqualsStrict=function(e){const t=this._left.evaluate(e),n=this._right.evaluate(e);return n instanceof a["a"]&&t instanceof a["a"]||n instanceof r["a"]&&t instanceof r["a"]||n instanceof i["a"]&&t instanceof i["a"]?t.equals(n):t===n},$.prototype._evaluateNotEqualsStrict=function(e){const t=this._left.evaluate(e),n=this._right.evaluate(e);return n instanceof a["a"]&&t instanceof a["a"]||n instanceof r["a"]&&t instanceof r["a"]||n instanceof i["a"]&&t instanceof i["a"]?!t.equals(n):t!==n},$.prototype._evaluateConditional=function(e){const t=this._test.evaluate(e);if("boolean"!==typeof t)throw new u["a"](`Conditional argument of conditional expression must be a boolean. Argument is ${t}.`);return t?this._left.evaluate(e):this._right.evaluate(e)},$.prototype._evaluateNaN=function(e){return isNaN(this._left.evaluate(e))},$.prototype._evaluateIsFinite=function(e){return isFinite(this._left.evaluate(e))},$.prototype._evaluateIsExactClass=function(e){return!!Object(s["a"])(e)&&e.isExactClass(this._left.evaluate(e))},$.prototype._evaluateIsClass=function(e){return!!Object(s["a"])(e)&&e.isClass(this._left.evaluate(e))},$.prototype._evaluateGetExactClassName=function(e){if(Object(s["a"])(e))return e.getExactClassName()},$.prototype._evaluateBooleanConversion=function(e){return Boolean(this._left.evaluate(e))},$.prototype._evaluateNumberConversion=function(e){return Number(this._left.evaluate(e))},$.prototype._evaluateStringConversion=function(e){return String(this._left.evaluate(e))},$.prototype._evaluateRegExp=function(e){const t=this._value.evaluate(e);let n,a="";Object(s["a"])(this._left)&&(a=this._left.evaluate(e));try{n=new RegExp(t,a)}catch(r){throw new u["a"](r)}return n},$.prototype._evaluateRegExpTest=function(e){const t=this._left.evaluate(e),n=this._right.evaluate(e);if(!(t instanceof RegExp&&"string"===typeof n))throw new u["a"](`RegExp.test requires the first argument to be a RegExp and the second argument to be a string. Arguments are ${t} and ${n}.`);return t.test(n)},$.prototype._evaluateRegExpMatch=function(e){const t=this._left.evaluate(e),n=this._right.evaluate(e);if(t instanceof RegExp&&"string"===typeof n)return t.test(n);if(n instanceof RegExp&&"string"===typeof t)return n.test(t);throw new u["a"](`Operator "=~" requires one RegExp argument and one string argument. Arguments are ${t} and ${n}.`)},$.prototype._evaluateRegExpNotMatch=function(e){const t=this._left.evaluate(e),n=this._right.evaluate(e);if(t instanceof RegExp&&"string"===typeof n)return!t.test(n);if(n instanceof RegExp&&"string"===typeof t)return!n.test(t);throw new u["a"](`Operator "!~" requires one RegExp argument and one string argument. Arguments are ${t} and ${n}.`)},$.prototype._evaluateRegExpExec=function(e){const t=this._left.evaluate(e),n=this._right.evaluate(e);if(!(t instanceof RegExp&&"string"===typeof n))throw new u["a"](`RegExp.exec requires the first argument to be a RegExp and the second argument to be a string. Arguments are ${t} and ${n}.`);const a=t.exec(n);return Object(s["a"])(a)?a[1]:null},$.prototype._evaluateToString=function(e){const t=this._left.evaluate(e);if(t instanceof RegExp||t instanceof a["a"]||t instanceof r["a"]||t instanceof i["a"])return String(t);throw new u["a"](`Unexpected function call "${this._value}".`)},d.NULL_SENTINEL="czm_infinity",$.prototype.getShaderExpression=function(e,t,n){let a,r,i,c;const l=this._type;let f,p,m,_=this._value;switch(Object(s["a"])(this._left)&&(r=Array.isArray(this._left)?ue(this._left,e,t,this):this._left.getShaderExpression(e,t,this)),Object(s["a"])(this._right)&&(i=this._right.getShaderExpression(e,t,this)),Object(s["a"])(this._test)&&(c=this._test.getShaderExpression(e,t,this)),Array.isArray(this._value)&&(_=ue(this._value,e,t,this)),l){case h["a"].VARIABLE:if(ae(this))return;return le(_,e);case h["a"].UNARY:if("Boolean"===_)return`bool(${r})`;if("Number"===_)return`float(${r})`;if("round"===_)return`floor(${r} + 0.5)`;if(Object(s["a"])(E[_]))return`${_}(${r})`;if("isNaN"===_)return`(${r} != ${r})`;if("isFinite"===_)return`(abs(${r}) < czm_infinity)`;if("String"===_||"isExactClass"===_||"isClass"===_||"getExactClassName"===_)throw new u["a"](`Error generating style shader: "${_}" is not supported.`);return _+r;case h["a"].BINARY:return"%"===_?`mod(${r}, ${i})`:"==="===_?`(${r} == ${i})`:"!=="===_?`(${r} != ${i})`:"atan2"===_?`atan(${r}, ${i})`:Object(s["a"])(C[_])?`${_}(${r}, ${i})`:`(${r} ${_} ${i})`;case h["a"].TERNARY:if(Object(s["a"])(w[_]))return`${_}(${r}, ${i}, ${c})`;break;case h["a"].CONDITIONAL:return`(${c} ? ${r} : ${i})`;case h["a"].MEMBER:return ae(this._left)?le(i,e):"r"===i||"x"===i||"0.0"===i?r+"[0]":"g"===i||"y"===i||"1.0"===i?r+"[1]":"b"===i||"z"===i||"2.0"===i?r+"[2]":"a"===i||"w"===i||"3.0"===i?r+"[3]":`${r}[int(${i})]`;case h["a"].FUNCTION_CALL:throw new u["a"](`Error generating style shader: "${_}" is not supported.`);case h["a"].ARRAY:if(4===_.length)return`vec4(${_[0]}, ${_[1]}, ${_[2]}, ${_[3]})`;if(3===_.length)return`vec3(${_[0]}, ${_[1]}, ${_[2]})`;if(2===_.length)return`vec2(${_[0]}, ${_[1]})`;throw new u["a"]("Error generating style shader: Invalid array length. Array length should be 2, 3, or 4.");case h["a"].REGEX:throw new u["a"]("Error generating style shader: Regular expressions are not supported.");case h["a"].VARIABLE_IN_STRING:throw new u["a"]("Error generating style shader: Converting a variable to a string is not supported.");case h["a"].LITERAL_NULL:return d.NULL_SENTINEL;case h["a"].LITERAL_BOOLEAN:return _?"true":"false";case h["a"].LITERAL_NUMBER:return oe(_);case h["a"].LITERAL_STRING:if(Object(s["a"])(n)&&n._type===h["a"].MEMBER&&("r"===_||"g"===_||"b"===_||"a"===_||"x"===_||"y"===_||"z"===_||"w"===_||ae(n._left)))return _;if(a=o["a"].fromCssColorString(_,v),Object(s["a"])(a))return se(a);throw new u["a"]("Error generating style shader: String literals are not supported.");case h["a"].LITERAL_COLOR:if(f=r,"color"===_){if(!Object(s["a"])(f))return"vec4(1.0)";if(f.length>1){const e=f[0],n=f[1];return"1.0"!==n&&(t.translucent=!0),`vec4(${e}, ${n})`}return`vec4(${f[0]}, 1.0)`}if("rgb"===_)return a=ie(this),Object(s["a"])(a)?ce(a):`vec4(${f[0]} / 255.0, ${f[1]} / 255.0, ${f[2]} / 255.0, 1.0)`;if("rgba"===_)return"1.0"!==f[3]&&(t.translucent=!0),a=ie(this),Object(s["a"])(a)?ce(a):`vec4(${f[0]} / 255.0, ${f[1]} / 255.0, ${f[2]} / 255.0, ${f[3]})`;if("hsl"===_)return a=re(this),Object(s["a"])(a)?ce(a):`vec4(czm_HSLToRGB(vec3(${f[0]}, ${f[1]}, ${f[2]})), 1.0)`;if("hsla"===_)return a=re(this),Object(s["a"])(a)?(1!==a.alpha&&(t.translucent=!0),ce(a)):("1.0"!==f[3]&&(t.translucent=!0),`vec4(czm_HSLToRGB(vec3(${f[0]}, ${f[1]}, ${f[2]})), ${f[3]})`);break;case h["a"].LITERAL_VECTOR:p=r.length,m=_+"(";for(let e=0;e<p;++e)m+=r[e],e<p-1&&(m+=", ");return m+=")",m;case h["a"].LITERAL_REGEX:throw new u["a"]("Error generating style shader: Regular expressions are not supported.");case h["a"].LITERAL_UNDEFINED:return d.NULL_SENTINEL;case h["a"].BUILTIN_VARIABLE:if("tiles3d_tileset_time"===_)return"u_time"}},$.prototype.getVariables=function(e,t){let n,a,r;const i=this._type,o=this._value;if(Object(s["a"])(this._left))if(Array.isArray(this._left))for(n=this._left,a=n.length,r=0;r<a;++r)n[r].getVariables(e,this);else this._left.getVariables(e,this);if(Object(s["a"])(this._right)&&this._right.getVariables(e,this),Object(s["a"])(this._test)&&this._test.getVariables(e,this),Array.isArray(this._value))for(n=this._value,a=n.length,r=0;r<a;++r)n[r].getVariables(e,this);let c;switch(i){case h["a"].VARIABLE:ae(this)||e.push(o);break;case h["a"].VARIABLE_IN_STRING:c=_.exec(o);while(null!==c)e.push(c[1]),c=_.exec(o);break;case h["a"].LITERAL_STRING:Object(s["a"])(t)&&t._type===h["a"].MEMBER&&ae(t._left)&&e.push(o);break}},t["a"]=d},"71af":function(e,t,n){"use strict";var a=n("535a"),r=n("2f63"),i=n("2720"),o=n("d4ed");function s(e){e=Object(a["a"])(e,a["a"].EMPTY_OBJECT),this._pixelsToCheck=e.pixelsToCheck,this._missingImagePixels=void 0,this._missingImageByteLength=void 0,this._isReady=!1;const t=o["a"].createIfNeeded(e.missingImageUrl),n=this;function s(t){Object(r["a"])(t.blob)&&(n._missingImageByteLength=t.blob.size);let a=Object(i["a"])(t);if(e.disableCheckIfAllPixelsAreTransparent){let n=!0;const r=t.width,i=e.pixelsToCheck;for(let e=0,t=i.length;n&&e<t;++e){const t=i[e],o=4*t.x+t.y*r,s=a[o+3];s>0&&(n=!1)}n&&(a=void 0)}n._missingImagePixels=a,n._isReady=!0}function c(){n._missingImagePixels=void 0,n._isReady=!0}t.fetchImage({preferBlob:!0,preferImageBitmap:!0,flipY:!0}).then(s).catch(c)}s.prototype.isReady=function(){return this._isReady},s.prototype.shouldDiscardImage=function(e){const t=this._pixelsToCheck,n=this._missingImagePixels;if(!Object(r["a"])(n))return!1;if(Object(r["a"])(e.blob)&&e.blob.size!==this._missingImageByteLength)return!1;const a=Object(i["a"])(e),o=e.width;for(let r=0,i=t.length;r<i;++r){const e=t[r],i=4*e.x+e.y*o;for(let t=0;t<4;++t){const e=i+t;if(a[e]!==n[e])return!1}}return!0},t["a"]=s},"7a2e":function(e,t,n){"use strict";const a={VARIABLE:0,UNARY:1,BINARY:2,TERNARY:3,CONDITIONAL:4,MEMBER:5,FUNCTION_CALL:6,ARRAY:7,REGEX:8,VARIABLE_IN_STRING:9,LITERAL_NULL:10,LITERAL_BOOLEAN:11,LITERAL_NUMBER:12,LITERAL_STRING:13,LITERAL_COLOR:14,LITERAL_VECTOR:15,LITERAL_REGEX:16,LITERAL_UNDEFINED:17,BUILTIN_VARIABLE:18};t["a"]=Object.freeze(a)},"81e1":function(e,t,n){"use strict";var a=n("cef5"),r=n("be18"),i=n("abab"),o=n("2f63"),s=n("5e57"),c=n("d2c7"),u=n("81d7"),l=n("713f"),h=n("1b8d"),d=n("8b68"),f=n("a894"),p=n("d289"),m=n("6dc0"),_=n("e90c"),g=n("5770"),b=n("7c5e"),y=n("9182"),v=n("9c6c"),E=n("a307"),C=n("535a"),w=n("c52f");function O(e){this._rs=void 0,this._sp=void 0,this._va=void 0,this._command=void 0,this._mode=void 0,this._useLogDepth=!1,this._ellipsoidOffset=Object(C["a"])(e,0)}const x=s["a"].supportsTypedArrays()?new Float32Array(12):[],S=new r["a"],L=new r["a"],A=new r["a"],R=new r["a"],I=new r["a"];function T(e,t){const n=e.radii,a=t.camera;let i,o,s;if(a.frustum instanceof l["a"])i=r["a"].ZERO,o=a.rightWC,s=a.upWC;else{const t=a.positionWC,n=r["a"].multiplyComponents(e.oneOverRadii,t,S),c=r["a"].normalize(n,L),u=r["a"].normalize(r["a"].cross(r["a"].UNIT_Z,n,A),A),l=r["a"].normalize(r["a"].cross(c,u,R),R),h=r["a"].magnitude(n),d=Math.sqrt(h*h-1);i=r["a"].multiplyByScalar(c,1/h,S);const f=d/h;o=r["a"].multiplyByScalar(u,f,L),s=r["a"].multiplyByScalar(l,f,A)}const c=r["a"].add(i,s,I);r["a"].subtract(c,o,c),r["a"].multiplyComponents(n,c,c),r["a"].pack(c,x,0);const u=r["a"].subtract(i,s,I);r["a"].subtract(u,o,u),r["a"].multiplyComponents(n,u,u),r["a"].pack(u,x,3);const h=r["a"].add(i,s,I);r["a"].add(h,o,h),r["a"].multiplyComponents(n,h,h),r["a"].pack(h,x,6);const d=r["a"].subtract(i,s,I);return r["a"].add(d,o,d),r["a"].multiplyComponents(n,d,d),r["a"].pack(d,x,9),x}O.prototype.update=function(e){if(this._mode=e.mode,e.mode!==E["a"].SCENE3D)return;const t=e.context,n=e.mapProjection.ellipsoid.radii,s=new w["a"](n.x+this._ellipsoidOffset,n.y+this._ellipsoidOffset,n.z+this._ellipsoidOffset),l=e.useLogDepth;if(Object(o["a"])(this._command)||(this._rs=m["a"].fromCache({cull:{enabled:!0},depthTest:{enabled:!0},colorMask:{red:!1,green:!1,blue:!1,alpha:!1}}),this._command=new f["a"]({renderState:this._rs,boundingVolume:new a["a"](r["a"].ZERO,s.maximumRadius),pass:p["a"].OPAQUE,owner:this})),!Object(o["a"])(this._sp)||this._useLogDepth!==l){this._useLogDepth=l;const e=new g["a"]({sources:[v["a"]]}),n=new g["a"]({sources:[y["a"]]});if(l){const t="#ifdef GL_EXT_frag_depth \n#extension GL_EXT_frag_depth : enable \n#endif \n\n";n.sources.push(t),n.defines.push("LOG_DEPTH"),e.defines.push("LOG_DEPTH")}this._sp=_["a"].replaceCache({shaderProgram:this._sp,context:t,vertexShaderSource:e,fragmentShaderSource:n,attributeLocations:{position:0}}),this._command.shaderProgram=this._sp}const C=T(s,e);if(Object(o["a"])(this._va))this._va.getAttribute(0).vertexBuffer.copyFromArrayView(C);else{const e=new c["a"]({attributes:{position:new u["a"]({componentDatatype:i["a"].FLOAT,componentsPerAttribute:3,values:C})},indices:[0,1,2,2,1,3],primitiveType:h["a"].TRIANGLES});this._va=b["a"].fromGeometry({context:t,geometry:e,attributeLocations:{position:0},bufferUsage:d["a"].DYNAMIC_DRAW}),this._command.vertexArray=this._va}},O.prototype.execute=function(e,t){this._mode===E["a"].SCENE3D&&this._command.execute(e,t)},O.prototype.isDestroyed=function(){return!1},O.prototype.destroy=function(){this._sp=this._sp&&this._sp.destroy(),this._va=this._va&&this._va.destroy()},t["a"]=O},"892b":function(e,t,n){"use strict";var a=n("535a"),r=n("2f63"),i=n("5cb0");function o(e){e=Object(a["a"])(e,a["a"].EMPTY_OBJECT);const t=e.attributeName;let n=e.perInstanceAttribute;Object(r["a"])(n)||(n=!1);let o=Object(a["a"])(e.glslDatatype,"vec3");const s="v_"+t;let c;if("normal"===t||"tangent"===t||"bitangent"===t)c=`vec4 getColor() { return vec4((${s} + vec3(1.0)) * 0.5, 1.0); }\n`;else switch("st"===t&&(o="vec2"),o){case"float":c=`vec4 getColor() { return vec4(vec3(${s}), 1.0); }\n`;break;case"vec2":c=`vec4 getColor() { return vec4(${s}, 0.0, 1.0); }\n`;break;case"vec3":c=`vec4 getColor() { return vec4(${s}, 1.0); }\n`;break;case"vec4":c=`vec4 getColor() { return ${s}; }\n`;break}const u=`attribute vec3 position3DHigh;\nattribute vec3 position3DLow;\nattribute float batchId;\n${n?"":`attribute ${o} ${t};\n`}varying ${o} ${s};\nvoid main()\n{\nvec4 p = czm_translateRelativeToEye(position3DHigh, position3DLow);\n${n?`${s} = czm_batchTable_${t}(batchId);\n`:`${s} = ${t};\n`}gl_Position = czm_modelViewProjectionRelativeToEye * p;\n}`,l=`varying ${o} ${s};\n${c}\nvoid main()\n{\ngl_FragColor = getColor();\n}`;this.material=void 0,this.translucent=Object(a["a"])(e.translucent,!1),this._vertexShaderSource=Object(a["a"])(e.vertexShaderSource,u),this._fragmentShaderSource=Object(a["a"])(e.fragmentShaderSource,l),this._renderState=i["a"].getDefaultRenderState(!1,!1,e.renderState),this._closed=Object(a["a"])(e.closed,!1),this._attributeName=t,this._glslDatatype=o}Object.defineProperties(o.prototype,{vertexShaderSource:{get:function(){return this._vertexShaderSource}},fragmentShaderSource:{get:function(){return this._fragmentShaderSource}},renderState:{get:function(){return this._renderState}},closed:{get:function(){return this._closed}},attributeName:{get:function(){return this._attributeName}},glslDatatype:{get:function(){return this._glslDatatype}}}),o.prototype.getFragmentShaderSource=i["a"].prototype.getFragmentShaderSource,o.prototype.isTranslucent=i["a"].prototype.isTranslucent,o.prototype.getRenderState=i["a"].prototype.getRenderState,t["a"]=o},"8e47":function(e,t,n){"use strict";var a=n("bd8d"),r=n("a894"),i=n("5770"),o=n("e90c"),s=n("2f63");function c(){this._cachedShowFrustumsShaders={}}function u(e){const t={},n=e.vertexAttributes;for(const a in n)n.hasOwnProperty(a)&&(t[a]=n[a].index);return t}function l(e,t){const n=e.context,a=t,r=a.fragmentShaderSource.clone(),s=[];r.sources=r.sources.map((function(e){e=i["a"].replaceMain(e,"czm_Debug_main");const t=/gl_FragData\[(\d+)\]/g;let n;while(null!==(n=t.exec(e)))-1===s.indexOf(n[1])&&s.push(n[1]);return e}));const c=s.length;let l,h="";if(h+="uniform vec3 debugShowCommandsColor;\n",h+="uniform vec3 debugShowFrustumsColor;\n",h+="void main() \n{ \n    czm_Debug_main(); \n",c>0)for(l=0;l<c;++l)h+=`    gl_FragData[${s[l]}].rgb *= debugShowCommandsColor;\n`,h+=`    gl_FragData[${s[l]}].rgb *= debugShowFrustumsColor;\n`;else h+="    gl_FragColor.rgb *= debugShowCommandsColor;\n",h+="    gl_FragColor.rgb *= debugShowFrustumsColor;\n";h+="}",r.sources.push(h);const d=u(a);return o["a"].fromCache({context:n,vertexShaderSource:a.vertexShaderSource,fragmentShaderSource:r,attributeLocations:d})}const h=new a["a"];function d(e,t){let n;return n=Object(s["a"])(t.uniformMap)?t.uniformMap:{},Object(s["a"])(n.debugShowCommandsColor)||Object(s["a"])(n.debugShowFrustumsColor)||(n.debugShowCommandsColor=function(){return e.debugShowCommands?(Object(s["a"])(t._debugColor)||(t._debugColor=a["a"].fromRandom()),t._debugColor):a["a"].WHITE},n.debugShowFrustumsColor=function(){return e.debugShowFrustums?(h.red=1&t.debugOverlappingFrustums?1:0,h.green=2&t.debugOverlappingFrustums?1:0,h.blue=4&t.debugOverlappingFrustums?1:0,h.alpha=1,h):a["a"].WHITE}),n}const f=new r["a"];c.prototype.executeDebugShowFrustumsCommand=function(e,t,n){const a=t.shaderProgram.id;let i=this._cachedShowFrustumsShaders[a];Object(s["a"])(i)||(i=l(e,t.shaderProgram),this._cachedShowFrustumsShaders[a]=i);const o=r["a"].shallowClone(t,f);o.shaderProgram=i,o.uniformMap=d(e,t),o.execute(e.context,n)},t["a"]=c},"9cff":function(e,t,n){"use strict";var a=n("2f63"),r=n("7d62"),i=n("93da"),o=n("df07"),s=n("0260");function c(e){this._scene=e,this._lastAlpha=void 0,this._lastBeta=void 0,this._lastGamma=void 0,this._alpha=void 0,this._beta=void 0,this._gamma=void 0;const t=this;function n(e){const n=e.alpha;if(!Object(a["a"])(n))return t._alpha=void 0,t._beta=void 0,void(t._gamma=void 0);t._alpha=i["a"].toRadians(n),t._beta=i["a"].toRadians(e.beta),t._gamma=i["a"].toRadians(e.gamma)}window.addEventListener("deviceorientation",n,!1),this._removeListener=function(){window.removeEventListener("deviceorientation",n,!1)}}const u=new s["a"],l=new s["a"],h=new o["a"];function d(e,t,n,a){const r=e.direction,i=e.right,c=e.up,d=s["a"].fromAxisAngle(r,n,l),f=s["a"].fromAxisAngle(i,a,u),p=s["a"].multiply(f,d,f),m=s["a"].fromAxisAngle(c,t,l);s["a"].multiply(m,p,p);const _=o["a"].fromQuaternion(p,h);o["a"].multiplyByVector(_,i,i),o["a"].multiplyByVector(_,c,c),o["a"].multiplyByVector(_,r,r)}c.prototype.update=function(){if(!Object(a["a"])(this._alpha))return;Object(a["a"])(this._lastAlpha)||(this._lastAlpha=this._alpha,this._lastBeta=this._beta,this._lastGamma=this._gamma);const e=this._lastAlpha-this._alpha,t=this._lastBeta-this._beta,n=this._lastGamma-this._gamma;d(this._scene.camera,-e,t,n),this._lastAlpha=this._alpha,this._lastBeta=this._beta,this._lastGamma=this._gamma},c.prototype.isDestroyed=function(){return!1},c.prototype.destroy=function(){return this._removeListener(),Object(r["a"])(this)},t["a"]=c},a5e0:function(e,t,n){"use strict";var a=n("dc1c"),r=n("2f63"),i=n("6928");function o(e,t){this._conditionsExpression=Object(a["a"])(e,!0),this._conditions=e.conditions,this._runtimeConditions=void 0,c(this,t)}function s(e,t){this.condition=e,this.expression=t}function c(e,t){const n=[],a=e._conditions;if(!Object(r["a"])(a))return;const o=a.length;for(let r=0;r<o;++r){const e=a[r],o=String(e[0]),c=String(e[1]);n.push(new s(new i["a"](o,t),new i["a"](c,t)))}e._runtimeConditions=n}Object.defineProperties(o.prototype,{conditionsExpression:{get:function(){return this._conditionsExpression}}}),o.prototype.evaluate=function(e,t){const n=this._runtimeConditions;if(!Object(r["a"])(n))return;const a=n.length;for(let r=0;r<a;++r){const a=n[r];if(a.condition.evaluate(e))return a.expression.evaluate(e,t)}},o.prototype.evaluateColor=function(e,t){const n=this._runtimeConditions;if(!Object(r["a"])(n))return;const a=n.length;for(let r=0;r<a;++r){const a=n[r];if(a.condition.evaluate(e))return a.expression.evaluateColor(e,t)}},o.prototype.getShaderFunction=function(e,t,n,a){const i=this._runtimeConditions;if(!Object(r["a"])(i)||0===i.length)return;let o="";const s=i.length;for(let r=0;r<s;++r){const e=i[r],a=e.condition.getShaderExpression(t,n),s=e.expression.getShaderExpression(t,n);o+=`    ${0===r?"if":"else if"} (${a})\n    {\n        return ${s};\n    }\n`}return o=`${a} ${e}\n{\n${o}    return ${a}(1.0);\n}\n`,o},o.prototype.getVariables=function(){let e=[];const t=this._runtimeConditions;if(!Object(r["a"])(t)||0===t.length)return e;const n=t.length;for(let a=0;a<n;++a){const n=t[a];e.push.apply(e,n.condition.getVariables()),e.push.apply(e,n.expression.getVariables())}return e=e.filter((function(e,t,n){return n.indexOf(e)===t})),e},t["a"]=o},acdd:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("535a"),r=n("72b0");function i(e){e=Object(a["a"])(e,a["a"].EMPTY_OBJECT);const t=e.content,n=e.class;this._class=n,this._properties=t.properties,this._extensions=t.extensions,this._extras=t.extras}Object.defineProperties(i.prototype,{class:{get:function(){return this._class}},extras:{get:function(){return this._extras}},extensions:{get:function(){return this._extensions}}}),i.prototype.hasProperty=function(e){return r["a"].hasProperty(e,this._properties,this._class)},i.prototype.hasPropertyBySemantic=function(e){return r["a"].hasPropertyBySemantic(e,this._properties,this._class)},i.prototype.getPropertyIds=function(e){return r["a"].getPropertyIds(this._properties,this._class,e)},i.prototype.getProperty=function(e){return r["a"].getProperty(e,this._properties,this._class)},i.prototype.setProperty=function(e,t){return r["a"].setProperty(e,t,this._properties,this._class)},i.prototype.getPropertyBySemantic=function(e){return r["a"].getPropertyBySemantic(e,this._properties,this._class)},i.prototype.setPropertyBySemantic=function(e,t){return r["a"].setPropertyBySemantic(e,t,this._properties,this._class)}},b7eb:function(e,t,n){"use strict";var a=n("be18"),r=n("535a"),i=n("93da");const o=i["a"].toRadians(30);function s(e){this._angle=Object(r["a"])(e,o)}Object.defineProperties(s.prototype,{angle:{get:function(){return this._angle},set:function(e){this._angle=e}}}),s.prototype.emit=function(e){const t=Math.tan(this._angle),n=i["a"].randomBetween(0,i["a"].TWO_PI),r=i["a"].randomBetween(0,t),o=r*Math.cos(n),s=r*Math.sin(n),c=1;e.velocity=a["a"].fromElements(o,s,c,e.velocity),a["a"].normalize(e.velocity,e.velocity),e.position=a["a"].clone(a["a"].ZERO,e.position)},t["a"]=s},c1f7:function(e,t,n){"use strict";var a=n("93da");const r={HIGHLIGHT:0,REPLACE:1,MIX:2,getColorBlend:function(e,t){return e===r.HIGHLIGHT?0:e===r.REPLACE?1:e===r.MIX?a["a"].clamp(t,a["a"].EPSILON4,1):void 0}};t["a"]=Object.freeze(r)},c2ce:function(e,t,n){"use strict";var a=n("535a"),r=n("9c35"),i=n("2f63"),o=n("7d62"),s=n("974b"),c=n("283e");function u(e,t,n,a,i,o){this._tileset=e,this._tile=t,this._resource=n,this._contents=[],this._readyPromise=Object(r["a"])(),this._metadata=void 0,this._group=void 0,h(this,a,i,o)}Object.defineProperties(u.prototype,{featurePropertiesDirty:{get:function(){const e=this._contents,t=e.length;for(let n=0;n<t;++n)if(e[n].featurePropertiesDirty)return!0;return!1},set:function(e){const t=this._contents,n=t.length;for(let a=0;a<n;++a)t[a].featurePropertiesDirty=e}},featuresLength:{get:function(){return 0}},pointsLength:{get:function(){return 0}},trianglesLength:{get:function(){return 0}},geometryByteLength:{get:function(){return 0}},texturesByteLength:{get:function(){return 0}},batchTableByteLength:{get:function(){return 0}},innerContents:{get:function(){return this._contents}},readyPromise:{get:function(){return this._readyPromise.promise}},tileset:{get:function(){return this._tileset}},tile:{get:function(){return this._tile}},url:{get:function(){return this._resource.getUrlComponent(!0)}},metadata:{get:function(){return this._metadata},set:function(e){this._metadata=e;const t=this._contents,n=t.length;for(let a=0;a<n;++a)t[a].metadata=e}},batchTable:{get:function(){}},group:{get:function(){return this._group},set:function(e){this._group=e;const t=this._contents,n=t.length;for(let a=0;a<n;++a)t[a].group=e}}});const l=Uint32Array.BYTES_PER_ELEMENT;function h(e,t,n,r){n=Object(a["a"])(n,0);const o=new Uint8Array(t),u=new DataView(t);n+=l;const h=u.getUint32(n,!0);if(1!==h)throw new c["a"](`Only Composite Tile version 1 is supported. Version ${h} is not.`);n+=l,n+=l;const d=u.getUint32(n,!0);n+=l;const f=[];for(let a=0;a<d;++a){const a=Object(s["a"])(o,n),h=u.getUint32(n+2*l,!0),d=r[a];if(!Object(i["a"])(d))throw new c["a"](`Unknown tile content type, ${a}, inside Composite tile`);{const a=d(e._tileset,e._tile,e._resource,t,n);e._contents.push(a),f.push(a.readyPromise)}n+=h}Promise.all(f).then((function(){e._readyPromise.resolve(e)})).catch((function(t){e._readyPromise.reject(t)}))}u.prototype.hasProperty=function(e,t){return!1},u.prototype.getFeature=function(e){},u.prototype.applyDebugSettings=function(e,t){const n=this._contents,a=n.length;for(let r=0;r<a;++r)n[r].applyDebugSettings(e,t)},u.prototype.applyStyle=function(e){const t=this._contents,n=t.length;for(let a=0;a<n;++a)t[a].applyStyle(e)},u.prototype.update=function(e,t){const n=this._contents,a=n.length;for(let r=0;r<a;++r)n[r].update(e,t)},u.prototype.isDestroyed=function(){return!1},u.prototype.destroy=function(){const e=this._contents,t=e.length;for(let n=0;n<t;++n)e[n].destroy();return Object(o["a"])(this)},t["a"]=u},c36f:function(e,t,n){"use strict";var a=n("9201"),r=n("be18"),i=n("bd8d"),o=n("535a"),s=n("2f63"),c=n("7d62"),u=n("d940"),l=n("52f0"),h=n("bb71"),d=n("63ae"),f=n("894b");function p(e){e=Object(o["a"])(e,o["a"].EMPTY_OBJECT),this.length=Object(o["a"])(e.length,1e7),this._length=void 0,this.width=Object(o["a"])(e.width,2),this._width=void 0,this.show=Object(o["a"])(e.show,!0),this.modelMatrix=l["a"].clone(Object(o["a"])(e.modelMatrix,l["a"].IDENTITY)),this._modelMatrix=new l["a"],this.id=e.id,this._id=void 0,this._primitive=void 0}p.prototype.update=function(e){if(this.show){if(!Object(s["a"])(this._primitive)||!l["a"].equals(this._modelMatrix,this.modelMatrix)||this._length!==this.length||this._width!==this.width||this._id!==this.id){this._modelMatrix=l["a"].clone(this.modelMatrix,this._modelMatrix),this._length=this.length,this._width=this.width,this._id=this.id,Object(s["a"])(this._primitive)&&this._primitive.destroy(),0===this.modelMatrix[12]&&0===this.modelMatrix[13]&&0===this.modelMatrix[14]&&(this.modelMatrix[14]=.01);const e=new u["a"]({geometry:new h["a"]({positions:[r["a"].ZERO,r["a"].UNIT_X],width:this.width,vertexFormat:d["a"].VERTEX_FORMAT,colors:[i["a"].RED,i["a"].RED],arcType:a["a"].NONE}),modelMatrix:l["a"].multiplyByUniformScale(this.modelMatrix,this.length,new l["a"]),id:this.id,pickPrimitive:this}),t=new u["a"]({geometry:new h["a"]({positions:[r["a"].ZERO,r["a"].UNIT_Y],width:this.width,vertexFormat:d["a"].VERTEX_FORMAT,colors:[i["a"].GREEN,i["a"].GREEN],arcType:a["a"].NONE}),modelMatrix:l["a"].multiplyByUniformScale(this.modelMatrix,this.length,new l["a"]),id:this.id,pickPrimitive:this}),n=new u["a"]({geometry:new h["a"]({positions:[r["a"].ZERO,r["a"].UNIT_Z],width:this.width,vertexFormat:d["a"].VERTEX_FORMAT,colors:[i["a"].BLUE,i["a"].BLUE],arcType:a["a"].NONE}),modelMatrix:l["a"].multiplyByUniformScale(this.modelMatrix,this.length,new l["a"]),id:this.id,pickPrimitive:this});this._primitive=new f["a"]({geometryInstances:[e,t,n],appearance:new d["a"],asynchronous:!1})}this._primitive.update(e)}},p.prototype.isDestroyed=function(){return!1},p.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),Object(c["a"])(this)},t["a"]=p},c872:function(e,t,n){"use strict";var a=n("7d62");function r(e,t){this._tileset=e,this._tile=t,this.featurePropertiesDirty=!1}Object.defineProperties(r.prototype,{featuresLength:{get:function(){return 0}},pointsLength:{get:function(){return 0}},trianglesLength:{get:function(){return 0}},geometryByteLength:{get:function(){return 0}},texturesByteLength:{get:function(){return 0}},batchTableByteLength:{get:function(){return 0}},innerContents:{get:function(){}},readyPromise:{get:function(){}},tileset:{get:function(){return this._tileset}},tile:{get:function(){return this._tile}},url:{get:function(){}},metadata:{get:function(){},set:function(e){}},batchTable:{get:function(){}},group:{get:function(){},set:function(e){}}}),r.prototype.hasProperty=function(e,t){return!1},r.prototype.getFeature=function(e){},r.prototype.applyDebugSettings=function(e,t){},r.prototype.applyStyle=function(e){},r.prototype.update=function(e,t){},r.prototype.isDestroyed=function(){return!1},r.prototype.destroy=function(){return Object(a["a"])(this)},t["a"]=r},c965:function(e,t,n){"use strict";var a=n("be18"),r=n("bd8d"),i=n("9541"),o=n("535a"),s=n("2f63"),c=n("7d62"),u=n("8d4e"),l=n("797c"),h=n("d940"),d=n("df07"),f=n("713f"),p=n("c34a"),m=n("4e1a"),_=n("4dc8"),g=n("0260"),b=n("3a8e"),y=n("894b");function v(e){e=Object(o["a"])(e,o["a"].EMPTY_OBJECT),this._camera=e.camera,this._frustumSplits=e.frustumSplits,this._color=Object(o["a"])(e.color,r["a"].CYAN),this._updateOnChange=Object(o["a"])(e.updateOnChange,!0),this.show=Object(o["a"])(e.show,!0),this.id=e.id,this._id=void 0,this._outlinePrimitives=[],this._planesPrimitives=[]}const E=new a["a"],C=new d["a"],w=new g["a"],O=new m["a"],x=new _["a"],S=new f["a"],L=new p["a"],A=new r["a"],R=[1,1e5];v.prototype.update=function(e){if(!this.show)return;const t=this._planesPrimitives,n=this._outlinePrimitives;let o,c;if(this._updateOnChange){for(c=t.length,o=0;o<c;++o)n[o]=n[o]&&n[o].destroy(),t[o]=t[o]&&t[o].destroy();t.length=0,n.length=0}if(0===t.length){const e=this._camera,c=e.frustum;let p,v;p=c instanceof m["a"]?O:c instanceof _["a"]?x:c instanceof f["a"]?S:L,p=c.clone(p);let I=this._frustumSplits;!Object(s["a"])(I)||I.length<=1?(I=R,I[0]=this._camera.frustum.near,I[1]=this._camera.frustum.far,v=1):v=I.length-1;const T=e.positionWC,N=e.directionWC,j=e.upWC;let P=e.rightWC;P=a["a"].negate(P,E);const $=C;d["a"].setColumn($,0,P,$),d["a"].setColumn($,1,j,$),d["a"].setColumn($,2,N,$);const M=g["a"].fromRotationMatrix($,w);for(t.length=n.length=v,o=0;o<v;++o)p.near=I[o],p.far=I[o+1],t[o]=new y["a"]({geometryInstances:new h["a"]({geometry:new u["a"]({origin:T,orientation:M,frustum:p,_drawNearPlane:0===o}),attributes:{color:i["a"].fromColor(r["a"].fromAlpha(this._color,.1,A))},id:this.id,pickPrimitive:this}),appearance:new b["a"]({translucent:!0,flat:!0}),asynchronous:!1}),n[o]=new y["a"]({geometryInstances:new h["a"]({geometry:new l["a"]({origin:T,orientation:M,frustum:p,_drawNearPlane:0===o}),attributes:{color:i["a"].fromColor(this._color)},id:this.id,pickPrimitive:this}),appearance:new b["a"]({translucent:!1,flat:!0}),asynchronous:!1})}for(c=t.length,o=0;o<c;++o)n[o].update(e),t[o].update(e)},v.prototype.isDestroyed=function(){return!1},v.prototype.destroy=function(){const e=this._planesPrimitives.length;for(let t=0;t<e;++t)this._outlinePrimitives[t]=this._outlinePrimitives[t]&&this._outlinePrimitives[t].destroy(),this._planesPrimitives[t]=this._planesPrimitives[t]&&this._planesPrimitives[t].destroy();return Object(c["a"])(this)},t["a"]=v},cc61:function(e,t,n){"use strict";var a=n("be18"),r=n("bd8d"),i=n("535a");function o(e){this.direction=a["a"].clone(e.direction),this.color=r["a"].clone(Object(i["a"])(e.color,r["a"].WHITE)),this.intensity=Object(i["a"])(e.intensity,1)}t["a"]=o},ed8b:function(e,t,n){"use strict";var a=n("2f63"),r=n("a894"),i=n("6dc0"),o=n("5770");function s(){}const c=/\bgl_FragDepthEXT\b/,u=/\bdiscard\b/;function l(e,t){let n=e.shaderCache.getDerivedShaderProgram(t,"depthOnly");if(!Object(a["a"])(n)){const a=t._attributeLocations;let r,i=t.fragmentShaderSource,s=!1;const l=i.sources;let h=l.length;for(r=0;r<h;++r)if(c.test(l[r])||u.test(l[r])){s=!0;break}let d=!1;const f=i.defines;for(h=f.length,r=0;r<h;++r)if("LOG_DEPTH"===f[r]){d=!0;break}let p;s||d?!s&&d&&(p="#ifdef GL_EXT_frag_depth \n#extension GL_EXT_frag_depth : enable \n#endif \n\nvoid main() \n{ \n    gl_FragColor = vec4(1.0); \n    czm_writeLogDepth(); \n} \n",i=new o["a"]({defines:["LOG_DEPTH"],sources:[p]})):(p="void main() \n{ \n    gl_FragColor = vec4(1.0); \n} \n",i=new o["a"]({sources:[p]})),n=e.shaderCache.createDerivedShaderProgram(t,"depthOnly",{vertexShaderSource:t.vertexShaderSource,fragmentShaderSource:i,attributeLocations:a})}return n}function h(e,t){const n=e._depthOnlyRenderStateCache;let r=n[t.id];if(!Object(a["a"])(r)){const e=i["a"].getState(t);e.depthMask=!0,e.colorMask={red:!1,green:!1,blue:!1,alpha:!1},r=i["a"].fromCache(e),n[t.id]=r}return r}s.createDepthOnlyDerivedCommand=function(e,t,n,i){let o,s;return Object(a["a"])(i)||(i={}),Object(a["a"])(i.depthOnlyCommand)&&(o=i.depthOnlyCommand.shaderProgram,s=i.depthOnlyCommand.renderState),i.depthOnlyCommand=r["a"].shallowClone(t,i.depthOnlyCommand),Object(a["a"])(o)&&i.shaderProgramId===t.shaderProgram.id?(i.depthOnlyCommand.shaderProgram=o,i.depthOnlyCommand.renderState=s):(i.depthOnlyCommand.shaderProgram=l(n,t.shaderProgram),i.depthOnlyCommand.renderState=h(e,t.renderState),i.shaderProgramId=t.shaderProgram.id),i};const d=/\s+czm_writeLogDepth\(/,f=/\s+czm_vertexLogDepth\(/,p=/\s*#extension\s+GL_EXT_frag_depth\s*:\s*enable/;function m(e,t){let n=e.shaderCache.getDerivedShaderProgram(t,"logDepth");if(!Object(a["a"])(n)){const r=t._attributeLocations,i=t.vertexShaderSource.clone(),s=t.fragmentShaderSource.clone();let c,u;i.defines=Object(a["a"])(i.defines)?i.defines.slice(0):[],i.defines.push("LOG_DEPTH"),s.defines=Object(a["a"])(s.defines)?s.defines.slice(0):[],s.defines.push("LOG_DEPTH");let l=!1,h=i.sources,m=h.length;for(c=0;c<m;++c)if(f.test(h[c])){l=!0;break}if(!l){for(c=0;c<m;++c)h[c]=o["a"].replaceMain(h[c],"czm_log_depth_main");u="\n\nvoid main() \n{ \n    czm_log_depth_main(); \n    czm_vertexLogDepth(); \n} \n",h.push(u)}for(h=s.sources,m=h.length,l=!1,c=0;c<m;++c)d.test(h[c])&&(l=!0);-1!==s.defines.indexOf("LOG_DEPTH_WRITE")&&(l=!0);let _=!0;for(c=0;c<m;++c)p.test(h[c])&&(_=!1);let g="";if(_&&(g+="#ifdef GL_EXT_frag_depth \n#extension GL_EXT_frag_depth : enable \n#endif \n\n"),!l){for(c=0;c<m;c++)h[c]=o["a"].replaceMain(h[c],"czm_log_depth_main");g+="\nvoid main() \n{ \n    czm_log_depth_main(); \n    czm_writeLogDepth(); \n} \n"}h.push(g),n=e.shaderCache.createDerivedShaderProgram(t,"logDepth",{vertexShaderSource:i,fragmentShaderSource:s,attributeLocations:r})}return n}function _(e,t,n){let r=e.shaderCache.getDerivedShaderProgram(t,"pick");if(!Object(a["a"])(r)){const a=t._attributeLocations;let i=t.fragmentShaderSource;const s=i.sources,c=s.length,u=`void main() \n{ \n    czm_non_pick_main(); \n    if (gl_FragColor.a == 0.0) { \n        discard; \n    } \n    gl_FragColor = ${n}; \n} \n`,l=new Array(c+1);for(let e=0;e<c;++e)l[e]=o["a"].replaceMain(s[e],"czm_non_pick_main");l[c]=u,i=new o["a"]({sources:l,defines:i.defines}),r=e.shaderCache.createDerivedShaderProgram(t,"pick",{vertexShaderSource:t.vertexShaderSource,fragmentShaderSource:i,attributeLocations:a})}return r}function g(e,t){const n=e.picking.pickRenderStateCache;let r=n[t.id];if(!Object(a["a"])(r)){const e=i["a"].getState(t);e.blending.enabled=!1,e.depthMask=!0,r=i["a"].fromCache(e),n[t.id]=r}return r}function b(e,t){let n=e.shaderCache.getDerivedShaderProgram(t,"HDR");if(!Object(a["a"])(n)){const r=t._attributeLocations,i=t.vertexShaderSource.clone(),o=t.fragmentShaderSource.clone();i.defines=Object(a["a"])(i.defines)?i.defines.slice(0):[],i.defines.push("HDR"),o.defines=Object(a["a"])(o.defines)?o.defines.slice(0):[],o.defines.push("HDR"),n=e.shaderCache.createDerivedShaderProgram(t,"HDR",{vertexShaderSource:i,fragmentShaderSource:o,attributeLocations:r})}return n}s.createLogDepthCommand=function(e,t,n){let i;return Object(a["a"])(n)||(n={}),Object(a["a"])(n.command)&&(i=n.command.shaderProgram),n.command=r["a"].shallowClone(e,n.command),Object(a["a"])(i)&&n.shaderProgramId===e.shaderProgram.id?n.command.shaderProgram=i:(n.command.shaderProgram=m(t,e.shaderProgram),n.shaderProgramId=e.shaderProgram.id),n},s.createPickDerivedCommand=function(e,t,n,i){let o,s;return Object(a["a"])(i)||(i={}),Object(a["a"])(i.pickCommand)&&(o=i.pickCommand.shaderProgram,s=i.pickCommand.renderState),i.pickCommand=r["a"].shallowClone(t,i.pickCommand),Object(a["a"])(o)&&i.shaderProgramId===t.shaderProgram.id?(i.pickCommand.shaderProgram=o,i.pickCommand.renderState=s):(i.pickCommand.shaderProgram=_(n,t.shaderProgram,t.pickId),i.pickCommand.renderState=g(e,t.renderState),i.shaderProgramId=t.shaderProgram.id),i},s.createHdrCommand=function(e,t,n){let i;return Object(a["a"])(n)||(n={}),Object(a["a"])(n.command)&&(i=n.command.shaderProgram),n.command=r["a"].shallowClone(e,n.command),Object(a["a"])(i)&&n.shaderProgramId===e.shaderProgram.id?n.command.shaderProgram=i:(n.command.shaderProgram=b(t,e.shaderProgram),n.shaderProgramId=e.shaderProgram.id),n},t["a"]=s}}]);