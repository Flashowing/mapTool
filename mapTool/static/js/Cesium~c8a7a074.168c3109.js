(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Cesium~c8a7a074"],{"1f48":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("93da"),s=(i("4f04"),i("bdbb")),r=i("5157");function o(e){this.subdivisionScheme=e.subdivisionScheme,this.subtreeLevels=e.subtreeLevels,this.level=e.level,this.x=e.x,this.y=e.y,this.z=void 0,e.subdivisionScheme===r["a"].OCTREE&&(this.z=e.z)}Object.defineProperties(o.prototype,{childIndex:{get:function(){let e=0;return e|=1&this.x,e|=(1&this.y)<<1,this.subdivisionScheme===r["a"].OCTREE&&(e|=(1&this.z)<<2),e}},mortonIndex:{get:function(){return this.subdivisionScheme===r["a"].OCTREE?s["a"].encode3D(this.x,this.y,this.z):s["a"].encode2D(this.x,this.y)}},tileIndex:{get:function(){const e=this.subdivisionScheme===r["a"].OCTREE?((1<<3*this.level)-1)/7:((1<<2*this.level)-1)/3,t=this.mortonIndex;return e+t}}}),o.prototype.getDescendantCoordinates=function(e){const t=this.level+e.level,i=(this.x<<e.level)+e.x,n=(this.y<<e.level)+e.y;if(this.subdivisionScheme===r["a"].OCTREE){const s=(this.z<<e.level)+e.z;return new o({subdivisionScheme:this.subdivisionScheme,subtreeLevels:this.subtreeLevels,level:t,x:i,y:n,z:s})}return new o({subdivisionScheme:this.subdivisionScheme,subtreeLevels:this.subtreeLevels,level:t,x:i,y:n})},o.prototype.getAncestorCoordinates=function(e){const t=1<<e,i=this.level-e,n=Math.floor(this.x/t),s=Math.floor(this.y/t);if(this.subdivisionScheme===r["a"].OCTREE){const e=Math.floor(this.z/t);return new o({subdivisionScheme:this.subdivisionScheme,subtreeLevels:this.subtreeLevels,level:i,x:n,y:s,z:e})}return new o({subdivisionScheme:this.subdivisionScheme,subtreeLevels:this.subtreeLevels,level:i,x:n,y:s})},o.prototype.getOffsetCoordinates=function(e){const t=e.level-this.level,i=1<<t,n=e.x%i,s=e.y%i;if(this.subdivisionScheme===r["a"].OCTREE){const r=e.z%i;return new o({subdivisionScheme:this.subdivisionScheme,subtreeLevels:this.subtreeLevels,level:t,x:n,y:s,z:r})}return new o({subdivisionScheme:this.subdivisionScheme,subtreeLevels:this.subtreeLevels,level:t,x:n,y:s})},o.prototype.getChildCoordinates=function(e){const t=this.level+1,i=2*this.x+e%2,n=2*this.y+Math.floor(e/2)%2;if(this.subdivisionScheme===r["a"].OCTREE){const s=2*this.z+Math.floor(e/4)%2;return new o({subdivisionScheme:this.subdivisionScheme,subtreeLevels:this.subtreeLevels,level:t,x:i,y:n,z:s})}return new o({subdivisionScheme:this.subdivisionScheme,subtreeLevels:this.subtreeLevels,level:t,x:i,y:n})},o.prototype.getSubtreeCoordinates=function(){return this.getAncestorCoordinates(this.level%this.subtreeLevels)},o.prototype.getParentSubtreeCoordinates=function(){return this.getAncestorCoordinates(this.level%this.subtreeLevels+this.subtreeLevels)},o.prototype.isAncestor=function(e){const t=e.level-this.level;if(t<=0)return!1;const i=e.x>>t,n=e.y>>t,s=this.x===i,o=this.y===n;if(this.subdivisionScheme===r["a"].OCTREE){const i=e.z>>t,n=this.z===i;return s&&o&&n}return s&&o},o.prototype.isEqual=function(e){return this.subdivisionScheme===e.subdivisionScheme&&this.subtreeLevels===e.subtreeLevels&&this.level===e.level&&this.x===e.x&&this.y===e.y&&(this.subdivisionScheme!==r["a"].OCTREE||this.z===e.z)},o.prototype.isImplicitTilesetRoot=function(){return 0===this.level},o.prototype.isSubtreeRoot=function(){return this.level%this.subtreeLevels===0},o.prototype.isBottomOfSubtree=function(){return this.level%this.subtreeLevels===this.subtreeLevels-1},o.prototype.getTemplateValues=function(){const e={level:this.level,x:this.x,y:this.y};return this.subdivisionScheme===r["a"].OCTREE&&(e.z=this.z),e};const a=[0,0,0];o.fromMortonIndex=function(e,t,i,n){let c;return e===r["a"].OCTREE?(c=s["a"].decode3D(n,a),new o({subdivisionScheme:e,subtreeLevels:t,level:i,x:c[0],y:c[1],z:c[2]})):(c=s["a"].decode2D(n,a),new o({subdivisionScheme:e,subtreeLevels:t,level:i,x:c[0],y:c[1]}))},o.fromTileIndex=function(e,t,i){let s,a,c;return e===r["a"].OCTREE?(s=Math.floor(n["a"].log2(7*i+1)/3),a=((1<<3*s)-1)/7,c=i-a):(s=Math.floor(n["a"].log2(3*i+1)/2),a=((1<<2*s)-1)/3,c=i-a),o.fromMortonIndex(e,t,s,c)}},4436:function(e,t,i){"use strict";var n=i("2f63"),s=i("ddf7"),r=i("568a");function o(e){this._total=e,this.usedThisFrame=0,this.stolenFromMeThisFrame=0,this.starvedThisFrame=!1,this.starvedLastFrame=!1}function a(e){const t=new Array(r["a"].NUMBER_OF_JOB_TYPES);t[r["a"].TEXTURE]=new o(Object(n["a"])(e)?e[r["a"].TEXTURE]:10),t[r["a"].PROGRAM]=new o(Object(n["a"])(e)?e[r["a"].PROGRAM]:10),t[r["a"].BUFFER]=new o(Object(n["a"])(e)?e[r["a"].BUFFER]:30);const i=t.length;let s,a=0;for(s=0;s<i;++s)a+=t[s].total;const c=new Array(i);for(s=0;s<i;++s)c[s]=!1;this._totalBudget=a,this._totalUsedThisFrame=0,this._budgets=t,this._executedThisFrame=c}Object.defineProperties(o.prototype,{total:{get:function(){return this._total}}}),a.getTimestamp=s["a"],Object.defineProperties(a.prototype,{totalBudget:{get:function(){return this._totalBudget}}}),a.prototype.disableThisFrame=function(){this._totalUsedThisFrame=this._totalBudget},a.prototype.resetBudgets=function(){const e=this._budgets,t=e.length;for(let i=0;i<t;++i){const t=e[i];t.starvedLastFrame=t.starvedThisFrame,t.starvedThisFrame=!1,t.usedThisFrame=0,t.stolenFromMeThisFrame=0}this._totalUsedThisFrame=0},a.prototype.execute=function(e,t){const i=this._budgets,n=i[t],s=this._executedThisFrame[t];if(this._totalUsedThisFrame>=this._totalBudget&&s)return n.starvedThisFrame=!0,!1;let r;if(n.usedThisFrame+n.stolenFromMeThisFrame>=n.total){const e=i.length;let t;for(t=0;t<e;++t)if(r=i[t],r.usedThisFrame+r.stolenFromMeThisFrame<r.total&&!r.starvedLastFrame)break;if(t===e&&s)return!1;s&&(n.starvedThisFrame=!0)}const o=a.getTimestamp();e.execute();const c=a.getTimestamp()-o;return this._totalUsedThisFrame+=c,r?r.stolenFromMeThisFrame+=c:n.usedThisFrame+=c,this._executedThisFrame[t]=!0,!0},t["a"]=a},"490e":function(e,t,i){"use strict";var n=i("c8d1"),s=i("be18"),r=i("bd8d"),o=i("abab"),a=i("2f63"),c=i("45c5"),l=i("7d62"),u=i("c52f"),h=i("129b"),d=i("df07"),f=i("52f0"),b=i("0260"),m=i("b82e"),p=i("283e"),_=i("f806"),g=i("3372"),y=i("d289"),v=i("b08e"),T=i("6596"),O=i("5af0"),C=i("9889"),S=i("ce94"),E=i("1e38"),A=i("8a9e");function P(e,t,i,n,s){this._tileset=e,this._tile=t,this._resource=i,this._modelInstanceCollection=void 0,this._metadata=void 0,this._batchTable=void 0,this._features=void 0,this.featurePropertiesDirty=!1,this._group=void 0,L(this,n,s)}function I(e){return function(){return e._batchTable.getPickId()}}P._deprecationWarning=c["a"],Object.defineProperties(P.prototype,{featuresLength:{get:function(){return this._batchTable.featuresLength}},pointsLength:{get:function(){return 0}},trianglesLength:{get:function(){const e=this._modelInstanceCollection._model;return Object(a["a"])(e)?e.trianglesLength:0}},geometryByteLength:{get:function(){const e=this._modelInstanceCollection._model;return Object(a["a"])(e)?e.geometryByteLength:0}},texturesByteLength:{get:function(){const e=this._modelInstanceCollection._model;return Object(a["a"])(e)?e.texturesByteLength:0}},batchTableByteLength:{get:function(){return this._batchTable.memorySizeInBytes}},innerContents:{get:function(){}},readyPromise:{get:function(){return this._modelInstanceCollection.readyPromise}},tileset:{get:function(){return this._tileset}},tile:{get:function(){return this._tile}},url:{get:function(){return this._resource.getUrlComponent(!0)}},metadata:{get:function(){return this._metadata},set:function(e){this._metadata=e}},batchTable:{get:function(){return this._batchTable}},group:{get:function(){return this._group},set:function(e){this._group=e}}});const x=new Array(4),j=new Array(4);function L(e,t,i){const r=S["a"].parse(t,i),c=r.gltfFormat,l=r.gltf,O=r.featureTableJson,P=r.featureTableBinary,L=r.batchTableJson,w=r.batchTableBinary,F=new C["a"](O,P),R=F.getGlobalProperty("INSTANCES_LENGTH");if(F.featuresLength=R,!Object(a["a"])(R))throw new p["a"]("Feature table global property: INSTANCES_LENGTH must be defined");e._batchTable=new T["a"](e,R,L,w);const D=e._tileset,M={instances:new Array(R),batchTable:e._batchTable,cull:!1,url:void 0,requestType:m["a"].TILES3D,gltf:void 0,basePath:void 0,incrementallyLoadTextures:!1,upAxis:D._gltfUpAxis,forwardAxis:v["a"].X,opaquePass:y["a"].CESIUM_3D_TILE,pickIdLoaded:I(e),imageBasedLighting:D.imageBasedLighting,specularEnvironmentMaps:D.specularEnvironmentMaps,backFaceCulling:D.backFaceCulling,showOutline:D.showOutline,showCreditsOnScreen:D.showCreditsOnScreen};if(0===c){let t=Object(h["a"])(l);t=t.replace(/[\s\0]+$/,""),M.url=e._resource.getDerivedResource({url:t})}else M.gltf=l,M.basePath=e._resource.clone();const B=F.getGlobalProperty("EAST_NORTH_UP");let N;const U=F.getGlobalProperty("RTC_CENTER",o["a"].FLOAT,3);Object(a["a"])(U)&&(N=s["a"].unpack(U));const H=M.instances,V=new s["a"],z=new Array(3),J=new s["a"],k=new s["a"],G=new s["a"],Q=new d["a"],W=new b["a"];let K=new s["a"];const q=new g["a"],X=new f["a"];for(let h=0;h<R;h++){let e=F.getProperty("POSITION",o["a"].FLOAT,3,h,x);if(!Object(a["a"])(e)){e=z;const t=F.getProperty("POSITION_QUANTIZED",o["a"].UNSIGNED_SHORT,3,h,x);if(!Object(a["a"])(t))throw new p["a"]("Either POSITION or POSITION_QUANTIZED must be defined for each instance.");const i=F.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",o["a"].FLOAT,3);if(!Object(a["a"])(i))throw new p["a"]("Global property: QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");const n=F.getGlobalProperty("QUANTIZED_VOLUME_SCALE",o["a"].FLOAT,3);if(!Object(a["a"])(n))throw new p["a"]("Global property: QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");for(let s=0;s<3;s++)e[s]=t[s]/65535*n[s]+i[s]}s["a"].unpack(e,0,V),Object(a["a"])(N)&&s["a"].add(V,N,V),q.translation=V;const t=F.getProperty("NORMAL_UP",o["a"].FLOAT,3,h,x),i=F.getProperty("NORMAL_RIGHT",o["a"].FLOAT,3,h,j);let r=!1;if(Object(a["a"])(t)){if(!Object(a["a"])(i))throw new p["a"]("To define a custom orientation, both NORMAL_UP and NORMAL_RIGHT must be defined.");s["a"].unpack(t,0,k),s["a"].unpack(i,0,J),r=!0}else{const e=F.getProperty("NORMAL_UP_OCT32P",o["a"].UNSIGNED_SHORT,2,h,x),t=F.getProperty("NORMAL_RIGHT_OCT32P",o["a"].UNSIGNED_SHORT,2,h,j);if(Object(a["a"])(e)){if(!Object(a["a"])(t))throw new p["a"]("To define a custom orientation with oct-encoded vectors, both NORMAL_UP_OCT32P and NORMAL_RIGHT_OCT32P must be defined.");n["a"].octDecodeInRange(e[0],e[1],65535,k),n["a"].octDecodeInRange(t[0],t[1],65535,J),r=!0}else B?(_["a"].eastNorthUpToFixedFrame(V,u["a"].WGS84,X),f["a"].getMatrix3(X,Q)):d["a"].clone(d["a"].IDENTITY,Q)}r&&(s["a"].cross(J,k,G),s["a"].normalize(G,G),d["a"].setColumn(Q,0,J,Q),d["a"].setColumn(Q,1,k,Q),d["a"].setColumn(Q,2,G,Q)),b["a"].fromRotationMatrix(Q,W),q.rotation=W,K=s["a"].fromElements(1,1,1,K);const c=F.getProperty("SCALE",o["a"].FLOAT,1,h);Object(a["a"])(c)&&s["a"].multiplyByScalar(K,c,K);const l=F.getProperty("SCALE_NON_UNIFORM",o["a"].FLOAT,3,h,x);Object(a["a"])(l)&&(K.x*=l[0],K.y*=l[1],K.z*=l[2]),q.scale=K;let m=F.getProperty("BATCH_ID",o["a"].UNSIGNED_SHORT,1,h);Object(a["a"])(m)||(m=h),f["a"].fromTranslationRotationScale(q,X);const g=X.clone();H[h]={modelMatrix:g,batchId:m}}e._modelInstanceCollection=new E["a"](M),e._modelInstanceCollection.readyPromise.catch((function(){})).then((function(t){e._modelInstanceCollection.ready&&t.activeAnimations.addAll({loop:A["a"].REPEAT})}))}function w(e){const t=e.featuresLength;if(!Object(a["a"])(e._features)&&t>0){const i=new Array(t);for(let n=0;n<t;++n)i[n]=new O["a"](e,n);e._features=i}}P.prototype.hasProperty=function(e,t){return this._batchTable.hasProperty(e,t)},P.prototype.getFeature=function(e){this.featuresLength;return w(this),this._features[e]},P.prototype.applyDebugSettings=function(e,t){t=e?t:r["a"].WHITE,this._batchTable.setAllColor(t)},P.prototype.applyStyle=function(e){this._batchTable.applyStyle(e)},P.prototype.update=function(e,t){const i=t.commandList.length;this._batchTable.update(e,t),this._modelInstanceCollection.modelMatrix=this._tile.computedTransform,this._modelInstanceCollection.shadows=this._tileset.shadows,this._modelInstanceCollection.lightColor=this._tileset.lightColor,this._modelInstanceCollection.imageBasedLighting=this._tileset.imageBasedLighting,this._modelInstanceCollection.backFaceCulling=this._tileset.backFaceCulling,this._modelInstanceCollection.debugWireframe=this._tileset.debugWireframe,this._modelInstanceCollection.showCreditsOnScreen=this._tileset.showCreditsOnScreen,this._modelInstanceCollection.splitDirection=this._tileset.splitDirection;const n=this._modelInstanceCollection._model;if(Object(a["a"])(n)){const e=this._tileset.clippingPlanes;n.referenceMatrix=this._tileset.clippingPlanesOriginMatrix,Object(a["a"])(e)&&this._tile.clippingPlanesDirty&&(n._clippingPlanes=e.enabled&&this._tile._isClipped?e:void 0),Object(a["a"])(e)&&Object(a["a"])(n._clippingPlanes)&&n._clippingPlanes!==e&&(n._clippingPlanes=e)}this._modelInstanceCollection.update(t);const s=t.commandList.length;i<s&&(t.passes.render||t.passes.pick)&&this._batchTable.addDerivedCommands(t,i,!1)},P.prototype.isDestroyed=function(){return!1},P.prototype.destroy=function(){return this._modelInstanceCollection=this._modelInstanceCollection&&this._modelInstanceCollection.destroy(),this._batchTable=this._batchTable&&this._batchTable.destroy(),Object(l["a"])(this)},t["a"]=P},"4ad5":function(e,t,i){"use strict";var n=i("535a"),s=i("2f63"),r=i("21d7"),o=i("b195"),a=i("283e"),c=i("5856"),l=i("c078"),u=i("ed98"),h=i("324a"),d=i("ec56"),f=i("b85d"),b=i("e288"),m=i("dda8"),p=i("f915");function _(e){return function(t){return new e(t)}}const g={ARCGIS_MAPSERVER:_(c["a"]),BING:_(l["a"]),GOOGLE_EARTH:_(h["a"]),MAPBOX:_(d["a"]),SINGLE_TILE:_(f["a"]),TMS:_(u["a"]),URL_TEMPLATE:_(b["a"]),WMS:_(m["a"]),WMTS:_(p["a"])};function y(e){e=Object(n["a"])(e,n["a"].EMPTY_OBJECT);const t=e.assetId;this.defaultAlpha=void 0,this.defaultNightAlpha=void 0,this.defaultDayAlpha=void 0,this.defaultBrightness=void 0,this.defaultContrast=void 0,this.defaultHue=void 0,this.defaultSaturation=void 0,this.defaultGamma=void 0,this.defaultMinificationFilter=void 0,this.defaultMagnificationFilter=void 0,this._ready=!1,this._tileCredits=void 0,this._errorEvent=new r["a"];const i=this,c=o["a"]._createEndpointResource(t,e),l=e.assetId.toString()+e.accessToken+e.server;let h=y._endpointCache[l];Object(s["a"])(h)||(h=c.fetchJson(),y._endpointCache[l]=h),this._readyPromise=h.then((function(e){if("IMAGERY"!==e.type)return Promise.reject(new a["a"](`Cesium ion asset ${t} is not an imagery asset.`));let n;const r=e.externalType;if(Object(s["a"])(r)){const t=g[r];if(!Object(s["a"])(t))return Promise.reject(new a["a"]("Unrecognized Cesium ion imagery type: "+r));n=t(e.options)}else n=new u["a"]({url:new o["a"](e,c)});return i._tileCredits=o["a"].getCreditsFromEndpoint(e,c),n.errorEvent.addEventListener((function(e){e.provider=i,i._errorEvent.raiseEvent(e)})),i._imageryProvider=n,n.readyPromise.then((function(){return i._ready=!0,!0}))}))}Object.defineProperties(y.prototype,{ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise}},rectangle:{get:function(){return this._imageryProvider.rectangle}},tileWidth:{get:function(){return this._imageryProvider.tileWidth}},tileHeight:{get:function(){return this._imageryProvider.tileHeight}},maximumLevel:{get:function(){return this._imageryProvider.maximumLevel}},minimumLevel:{get:function(){return this._imageryProvider.minimumLevel}},tilingScheme:{get:function(){return this._imageryProvider.tilingScheme}},tileDiscardPolicy:{get:function(){return this._imageryProvider.tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){return this._imageryProvider.credit}},hasAlphaChannel:{get:function(){return this._imageryProvider.hasAlphaChannel},proxy:{get:function(){}}}}),y.prototype.getTileCredits=function(e,t,i){const n=this._imageryProvider.getTileCredits(e,t,i);return Object(s["a"])(n)?this._tileCredits.concat(n):this._tileCredits},y.prototype.requestImage=function(e,t,i,n){return this._imageryProvider.requestImage(e,t,i,n)},y.prototype.pickFeatures=function(e,t,i,n,s){return this._imageryProvider.pickFeatures(e,t,i,n,s)},y._endpointCache={},t["a"]=y},5157:function(e,t,i){"use strict";const n={QUADTREE:"QUADTREE",OCTREE:"OCTREE",getBranchingFactor:function(e){switch(e){case n.OCTREE:return 8;case n.QUADTREE:return 4}}};t["a"]=Object.freeze(n)},"568a":function(e,t,i){"use strict";const n={TEXTURE:0,PROGRAM:1,BUFFER:2,NUMBER_OF_JOB_TYPES:3};t["a"]=Object.freeze(n)},"6f9b":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("535a");function s(e){e=Object(n["a"])(e,n["a"].EMPTY_OBJECT);const t=e.metadataTable,i=e.class,s=e.entityId,r=e.propertyTableJson;this._class=i,this._metadataTable=t,this._entityId=s,this._extensions=r.extensions,this._extras=r.extras}Object.defineProperties(s.prototype,{class:{get:function(){return this._class}},extras:{get:function(){return this._extras}},extensions:{get:function(){return this._extensions}}}),s.prototype.hasProperty=function(e){return this._metadataTable.hasProperty(e)},s.prototype.hasPropertyBySemantic=function(e){return this._metadataTable.hasPropertyBySemantic(e)},s.prototype.getPropertyIds=function(e){return this._metadataTable.getPropertyIds(e)},s.prototype.getProperty=function(e){return this._metadataTable.getProperty(this._entityId,e)},s.prototype.setProperty=function(e,t){return this._metadataTable.setProperty(this._entityId,e,t)},s.prototype.getPropertyBySemantic=function(e){return this._metadataTable.getPropertyBySemantic(this._entityId,e)},s.prototype.setPropertyBySemantic=function(e,t){return this._metadataTable.setPropertyBySemantic(this._entityId,e,t)}},7515:function(e,t,i){"use strict";var n=i("535a"),s=i("2f63"),r=i("72b0");function o(e){e=Object(n["a"])(e,n["a"].EMPTY_OBJECT);const t=e.subtreeMetadata,i=e.class,r=Object(s["a"])(t.properties)?t.properties:{};this._class=i,this._properties=r,this._extras=t.extras,this._extensions=t.extensions}Object.defineProperties(o.prototype,{class:{get:function(){return this._class}},extras:{get:function(){return this._extras}},extensions:{get:function(){return this._extensions}}}),o.prototype.hasProperty=function(e){return r["a"].hasProperty(e,this._properties,this._class)},o.prototype.hasPropertyBySemantic=function(e){return r["a"].hasPropertyBySemantic(e,this._properties,this._class)},o.prototype.getPropertyIds=function(e){return r["a"].getPropertyIds(this._properties,this._class,e)},o.prototype.getProperty=function(e){return r["a"].getProperty(e,this._properties,this._class)},o.prototype.setProperty=function(e,t){return r["a"].setProperty(e,t,this._properties,this._class)},o.prototype.getPropertyBySemantic=function(e){return r["a"].getPropertyBySemantic(e,this._properties,this._class)},o.prototype.setPropertyBySemantic=function(e,t){return r["a"].setPropertyBySemantic(e,t,this._properties,this._class)},t["a"]=o},"990a":function(e,t,i){"use strict";const n={TRANSLATION:"TRANSLATION",ROTATION:"ROTATION",SCALE:"SCALE",FEATURE_ID:"_FEATURE_ID",fromGltfSemantic:function(e){let t=e;const i=/^(\w+)_\d+$/,s=i.exec(e);switch(null!==s&&(t=s[1]),t){case"TRANSLATION":return n.TRANSLATION;case"ROTATION":return n.ROTATION;case"SCALE":return n.SCALE;case"_FEATURE_ID":return n.FEATURE_ID}}};t["a"]=Object.freeze(n)},af1e:function(e,t,i){"use strict";const n={AERIAL:2,AERIAL_WITH_LABELS:3,ROAD:4};t["a"]=Object.freeze(n)},c3ff:function(e,t,i){"use strict";i.d(t,"a",(function(){return y}));var n=i("be18"),s=i("dc1c"),r=i("2bb9"),o=i("535a"),a=i("9c35"),c=i("2f63"),l=i("7d62"),u=i("93da"),h=i("ccff"),d=i("df07"),f=i("eace"),b=i("e994"),m=i("d0ee"),p=i("55d8"),_=i("3f8c8"),g=i("518d");function y(e,t,i,n,s,r){const o=t.implicitTileset,c=t.implicitCoordinates;this._implicitTileset=o,this._implicitCoordinates=c,this._implicitSubtree=void 0,this._tileset=e,this._tile=t,this._resource=i,this._readyPromise=Object(a["a"])(),this._metadata=void 0,this.featurePropertiesDirty=!1,this._group=void 0;const l=c.getTemplateValues(),u=o.subtreeUriTemplate.getDerivedResource({templateValues:l});this._url=u.getUrlComponent(!0),v(this,n,s,r)}function v(e,t,i,n){let s;n=Object(o["a"])(n,0),Object(c["a"])(i)&&(s=new Uint8Array(i,n));const r=new m["a"](e._resource,t,s,e._implicitTileset,e._implicitCoordinates);e._implicitSubtree=r,r.readyPromise.then((function(){T(e,r),e._readyPromise.resolve()})).catch((function(t){e._readyPromise.reject(t)}))}function T(e,t){const i=e._tile,n=e._implicitCoordinates.childIndex,s=C(e,t,i,n);i.children.push(s.rootTile);const r=O(e,t,s.bottomRow);for(let o=0;o<r.length;o++){const t=r[o],i=t.tile,n=V(e,i,t.childIndex);i.children.push(n)}}function O(e,t,i){const n=[],s=e._implicitTileset.branchingFactor;for(let r=0;r<i.length;r++){const e=i[r];if(Object(c["a"])(e))for(let i=0;i<s;i++){const o=r*s+i;t.childSubtreeIsAvailableAtIndex(o)&&n.push({tile:e,childIndex:i})}}return n}function C(e,t,i,n){const s=0,r=!0,o=E(e,t,i,n,s,r);let a=[o],c=[];const l=e._implicitTileset;for(let u=1;u<l.subtreeLevels;u++){const i=t.getLevelOffset(u),n=l.branchingFactor*a.length;for(let s=0;s<n;s++){const n=i+s;if(!t.tileIsAvailableAtIndex(n)){c.push(void 0);continue}const r=t.getParentMortonIndex(s),o=a[r],u=s%l.branchingFactor,h=E(e,t,o,u,n);o.children.push(h),c.push(h)}a=c,c=[]}return{rootTile:o,bottomRow:a}}function S(e,t,i){const n=_["a"].TILE_GEOMETRIC_ERROR;return Object(c["a"])(e)&&e.hasPropertyBySemantic(n)?e.getPropertyBySemantic(n):t.geometricError/Math.pow(2,i.level)}function E(e,t,i,n,a,l){const u=e._implicitTileset;let h,d,f,b;if(h=Object(o["a"])(l,!1)?i.implicitCoordinates:i.implicitCoordinates.getChildCoordinates(n),Object(c["a"])(t.tilePropertyTableJson)){d=t.getTileMetadataView(h);const e=Object(g["a"])(d);f=e.tile,b=e.content}const m=t.contentPropertyTableJsons,p=m.length;let _=!1;for(let s=0;s<p;s++)if(t.contentIsAvailableAtCoordinates(h,s)){_=!0;break}const y=j(u,h,n,l,i,f),v=[];for(let s=0;s<u.contentCount;s++){if(!t.contentIsAvailableAtIndex(a,s))continue;const e=u.contentUriTemplates[s],i=e.getDerivedResource({templateValues:h.getTemplateValues()}).url,n={uri:i},o=L(y,b);Object(c["a"])(o)&&(n.boundingVolume=o),v.push(Object(r["a"])(n,u.contentHeaders[s]))}const T=S(d,u,h),O={boundingVolume:y,geometricError:T,refine:u.refine,contents:v},C=!0,E=Object(s["a"])(u.tileHeader,C);delete E.boundingVolume,delete E.transform;const A=Object(r["a"])(O,E,C),P=z(e,u.baseResource,A,i);return P.implicitCoordinates=h,P.implicitSubtree=t,P.metadata=d,P.hasImplicitContentMetadata=_,P}function A(e,t){return Object(c["a"])(e)&&Object(c["a"])(t)&&(Object(c["a"])(t.minimumHeight)||Object(c["a"])(t.maximumHeight))&&(Object(p["a"])(e,"3DTILES_bounding_volume_S2")||Object(c["a"])(e.region))}function P(e,t){Object(c["a"])(t)&&(Object(p["a"])(e,"3DTILES_bounding_volume_S2")?x(e.extensions["3DTILES_bounding_volume_S2"],t.minimumHeight,t.maximumHeight):Object(c["a"])(e.region)&&I(e.region,t.minimumHeight,t.maximumHeight))}function I(e,t,i){Object(c["a"])(t)&&(e[4]=t),Object(c["a"])(i)&&(e[5]=i)}function x(e,t,i){Object(c["a"])(t)&&(e.minimumHeight=t),Object(c["a"])(i)&&(e.maximumHeight=i)}function j(e,t,i,n,s,r){let a;return a=!Object(c["a"])(r)||!Object(c["a"])(r.boundingVolume)||!A(r.boundingVolume,r)&&A(e.boundingVolume,r)?w(e,t,i,Object(o["a"])(n,!1),s):r.boundingVolume,P(a,r),a}function L(e,t){let i;return Object(c["a"])(t)&&(i=t.boundingVolume),A(i,t)?P(i,t):A(e,t)&&(i=Object(s["a"])(e,!0),P(i,t)),i}function w(e,t,i,n,s){const r=e.boundingVolume;if(Object(p["a"])(r,"3DTILES_bounding_volume_S2"))return F(n,s,i,t.level,t.x,t.y,t.z);if(Object(c["a"])(r.region)){const e=H(r.region,t.level,t.x,t.y,t.z);return{region:e}}const o=N(r.box,t.level,t.x,t.y,t.z);return{box:o}}function F(e,t,i,n,s,r,o){const a=t._boundingVolume;if(e)return{extensions:{"3DTILES_bounding_volume_S2":{token:b["a"].getTokenFromId(a.s2Cell._cellId),minimumHeight:a.minimumHeight,maximumHeight:a.maximumHeight}}};const l=Number(t._boundingVolume.s2Cell._cellId>>BigInt(61)),u=l%2===0?h["a"].encode2D(n,s,r):h["a"].encode2D(n,r,s),d=b["a"].fromFacePositionLevel(l,BigInt(u),n);let f,m;if(Object(c["a"])(o)){const e=(a.maximumHeight+a.minimumHeight)/2;f=i<4?a.minimumHeight:e,m=i<4?e:a.maximumHeight}else f=a.minimumHeight,m=a.maximumHeight;return{extensions:{"3DTILES_bounding_volume_S2":{token:b["a"].getTokenFromId(d._cellId),minimumHeight:f,maximumHeight:m}}}}Object.defineProperties(y.prototype,{featuresLength:{get:function(){return 0}},pointsLength:{get:function(){return 0}},trianglesLength:{get:function(){return 0}},geometryByteLength:{get:function(){return 0}},texturesByteLength:{get:function(){return 0}},batchTableByteLength:{get:function(){return 0}},innerContents:{get:function(){}},readyPromise:{get:function(){return this._readyPromise.promise}},tileset:{get:function(){return this._tileset}},tile:{get:function(){return this._tile}},url:{get:function(){return this._url}},metadata:{get:function(){},set:function(){}},batchTable:{get:function(){}},group:{get:function(){return this._group},set:function(e){this._group=e}}});const R=new n["a"],D=new n["a"],M=new n["a"],B=new d["a"];function N(e,t,i,s,r){if(0===t)return e;const o=n["a"].unpack(e,0,D),a=d["a"].unpack(e,3,B),l=Math.pow(2,-t),u=(2*i+1)*l-1,h=(2*s+1)*l-1;let f=0;const b=n["a"].fromElements(l,l,1,R);Object(c["a"])(r)&&(f=(2*r+1)*l-1,b.z=l);let m=n["a"].fromElements(u,h,f,M);m=d["a"].multiplyByVector(a,m,M),m=n["a"].add(m,o,M);let p=d["a"].clone(a);p=d["a"].multiplyByScale(p,b,p);const _=new Array(12);return n["a"].pack(m,_),d["a"].pack(p,_,3),_}const U=new f["a"];function H(e,t,i,n,s){if(0===t)return e.slice();const r=f["a"].unpack(e,0,U),o=e[4],a=e[5],l=Math.pow(2,-t),h=l*r.width,d=u["a"].negativePiToPi(r.west+i*h),b=u["a"].negativePiToPi(d+h),m=l*r.height,p=u["a"].negativePiToPi(r.south+n*m),_=u["a"].negativePiToPi(p+m);let g=o,y=a;if(Object(c["a"])(s)){const e=l*(a-o);g+=s*e,y=g+e}return[d,p,b,_,g,y]}function V(e,t,i){const n=e._implicitTileset,s=t.implicitCoordinates.getChildCoordinates(i),r=w(n,s,i,!1,t),o=S(void 0,n,s),a=n.subtreeUriTemplate.getDerivedResource({templateValues:s.getTemplateValues()}).url,c={boundingVolume:r,geometricError:o,refine:n.refine,contents:[{uri:a}]},l=z(e,n.baseResource,c,t);return l.implicitTileset=n,l.implicitCoordinates=s,l}function z(e,t,i,n){const s=e._tile.constructor;return new s(e._tileset,t,i,n)}y.prototype.hasProperty=function(e,t){return!1},y.prototype.getFeature=function(e){},y.prototype.applyDebugSettings=function(e,t){},y.prototype.applyStyle=function(e){},y.prototype.update=function(e,t){},y.prototype.isDestroyed=function(){return!1},y.prototype.destroy=function(){return this._implicitSubtree=this._implicitSubtree&&this._implicitSubtree.destroy(),Object(l["a"])(this)},y._deriveBoundingBox=N,y._deriveBoundingRegion=H,y._deriveBoundingVolumeS2=F},d0ee:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var n=i("535a"),s=i("9c35"),r=i("2f63"),o=i("7d62"),a=i("e856"),c=i("283e"),l=i("55d8"),u=i("d88e"),h=i("6f9b"),d=i("5157"),f=i("7515"),b=i("3899"),m=i("17a9");function p(e,t,i,n,r){this._resource=e,this._subtreeJson=void 0,this._bufferLoader=void 0,this._tileAvailability=void 0,this._contentAvailabilityBitstreams=[],this._childSubtreeAvailability=void 0,this._implicitCoordinates=r,this._subtreeLevels=n.subtreeLevels,this._subdivisionScheme=n.subdivisionScheme,this._branchingFactor=n.branchingFactor,this._readyPromise=Object(s["a"])(),this._metadata=void 0,this._tileMetadataTable=void 0,this._tilePropertyTableJson=void 0,this._contentMetadataTables=[],this._contentPropertyTableJsons=[],this._tileJumpBuffer=void 0,this._contentJumpBuffers=[],_(this,t,i,n)}function _(e,t,i,s){let o;o=Object(r["a"])(t)?{json:t,binary:void 0}:g(i);const a=o.json;let c;if(e._subtreeJson=a,Object(l["a"])(a,"3DTILES_metadata"))c=a.extensions["3DTILES_metadata"];else if(Object(r["a"])(a.tileMetadata)){const e=a.tileMetadata;c=a.propertyTables[e]}const u=[];if(Object(r["a"])(a.contentMetadata)){const e=a.contentMetadata.length;for(let t=0;t<e;t++){const e=a.contentMetadata[t];u.push(a.propertyTables[e])}}let h;const d=s.metadataSchema,b=a.subtreeMetadata;if(Object(r["a"])(b)){const e=b.class,t=d.classes[e];h=new f["a"]({subtreeMetadata:b,class:t})}e._metadata=h,e._tilePropertyTableJson=c,e._contentPropertyTableJsons=u;const m={constant:0};a.contentAvailabilityHeaders=[],Object(l["a"])(a,"3DTILES_multiple_contents")?a.contentAvailabilityHeaders=a.extensions["3DTILES_multiple_contents"].contentAvailability:Array.isArray(a.contentAvailability)?a.contentAvailabilityHeaders=a.contentAvailability:a.contentAvailabilityHeaders.push(Object(n["a"])(a.contentAvailability,m));const p=y(a.buffers),_=v(a.bufferViews,p);T(a,_),Object(r["a"])(c)&&O(c,_);for(let n=0;n<u.length;n++){const e=u[n];O(e,_)}C(e,p,o.binary).then((function(t){const i=E(_,t);A(e,a,s,i),Object(r["a"])(c)&&(I(e,s,i),L(e)),x(e,s,i),w(e),e._readyPromise.resolve(e)})).catch((function(t){e._readyPromise.reject(t)}))}function g(e){const t=!0,i=new DataView(e.buffer,e.byteOffset);let n=8;const s=i.getUint32(n,t);n+=8;const r=i.getUint32(n,t);n+=8;const o=Object(a["a"])(e,n,s);n+=s;const c=e.subarray(n,n+r);return{json:o,binary:c}}function y(e){e=Object(r["a"])(e)?e:[];for(let t=0;t<e.length;t++){const i=e[t];i.isExternal=Object(r["a"])(i.uri),i.isActive=!1}return e}function v(e,t){e=Object(r["a"])(e)?e:[];for(let i=0;i<e.length;i++){const n=e[i],s=t[n.buffer];n.bufferHeader=s,n.isActive=!1}return e}function T(e,t){let i;const n=e.tileAvailability;Object(r["a"])(n.bitstream)?i=t[n.bitstream]:Object(r["a"])(n.bufferView)&&(i=t[n.bufferView]),Object(r["a"])(i)&&(i.isActive=!0,i.bufferHeader.isActive=!0);const s=e.contentAvailabilityHeaders;for(let a=0;a<s.length;a++)i=void 0,Object(r["a"])(s[a].bitstream)?i=t[s[a].bitstream]:Object(r["a"])(s[a].bufferView)&&(i=t[s[a].bufferView]),Object(r["a"])(i)&&(i.isActive=!0,i.bufferHeader.isActive=!0);i=void 0;const o=e.childSubtreeAvailability;Object(r["a"])(o.bitstream)?i=t[o.bitstream]:Object(r["a"])(o.bufferView)&&(i=t[o.bufferView]),Object(r["a"])(i)&&(i.isActive=!0,i.bufferHeader.isActive=!0)}function O(e,t){const i=e.properties;let s;for(const o in i)if(i.hasOwnProperty(o)){const e=i[o],a=Object(n["a"])(e.values,e.bufferView);s=t[a],s.isActive=!0,s.bufferHeader.isActive=!0;const c=Object(n["a"])(e.stringOffsets,e.stringOffsetBufferView);Object(r["a"])(c)&&(s=t[c],s.isActive=!0,s.bufferHeader.isActive=!0);const l=Object(n["a"])(e.arrayOffsets,e.arrayOffsetBufferView);Object(r["a"])(l)&&(s=t[l],s.isActive=!0,s.bufferHeader.isActive=!0)}}function C(e,t,i){const n=[];for(let s=0;s<t.length;s++){const r=t[s];if(r.isActive)if(r.isExternal){const t=S(e,r);n.push(t)}else n.push(Promise.resolve(i));else n.push(Promise.resolve(void 0))}return Promise.all(n).then((function(e){const t={};for(let i=0;i<e.length;i++){const n=e[i];Object(r["a"])(n)&&(t[i]=n)}return t}))}function S(e,t){const i=e._resource,n=i.getDerivedResource({url:t.uri}),s=m["a"].loadExternalBuffer({resource:n});return e._bufferLoader=s,s.promise.then((function(e){return e.typedArray}))}function E(e,t){const i={};for(let n=0;n<e.length;n++){const s=e[n];if(!s.isActive)continue;const r=s.byteOffset,o=r+s.byteLength,a=t[s.buffer],c=a.subarray(r,o);i[n]=c}return i}function A(e,t,i,n){const s=i.branchingFactor,o=i.subtreeLevels,a=(Math.pow(s,o)-1)/(s-1),c=Math.pow(s,o),u=Object(l["a"])(t,"3DTILES_metadata"),h=Object(r["a"])(e._tilePropertyTableJson);let d=u||h;e._tileAvailability=P(t.tileAvailability,n,a,d);const f=e._contentPropertyTableJsons.length>0;d=d||f;for(let r=0;r<t.contentAvailabilityHeaders.length;r++){const i=P(t.contentAvailabilityHeaders[r],n,a,d);e._contentAvailabilityBitstreams.push(i)}e._childSubtreeAvailability=P(t.childSubtreeAvailability,n,c)}function P(e,t,i,n){if(Object(r["a"])(e.constant))return new u["a"]({constant:Boolean(e.constant),lengthBits:i,availableCount:e.availableCount});let s;return Object(r["a"])(e.bitstream)?s=t[e.bitstream]:Object(r["a"])(e.bufferView)&&(s=t[e.bufferView]),new u["a"]({bitstream:s,lengthBits:i,availableCount:e.availableCount,computeAvailableCountEnabled:n})}function I(e,t,i){const n=e._tilePropertyTableJson,s=e._tileAvailability.availableCount,r=t.metadataSchema,o=n.class,a=r.classes[o];e._tileMetadataTable=new b["a"]({class:a,count:s,properties:n.properties,bufferViews:i})}function x(e,t,i){const n=e._contentPropertyTableJsons,s=e._contentAvailabilityBitstreams,r=t.metadataSchema,o=e._contentMetadataTables;for(let a=0;a<n.length;a++){const e=n[a],t=s[a],c=t.availableCount,l=e.class,u=r.classes[l],h=new b["a"]({class:u,count:c,properties:e.properties,bufferViews:i});o.push(h)}}function j(e){let t=0;const i=e.lengthBits,n=e.availableCount;let s;s=n<256?new Uint8Array(i):n<65536?new Uint16Array(i):new Uint32Array(i);for(let r=0;r<e.lengthBits;r++)e.getBit(r)&&(s[r]=t,t++);return s}function L(e){const t=j(e._tileAvailability);e._tileJumpBuffer=t}function w(e){const t=e._contentJumpBuffers,i=e._contentAvailabilityBitstreams;for(let n=0;n<i.length;n++){const e=i[n],s=j(e);t.push(s)}}function F(e,t){if(!Object(r["a"])(e._tileMetadataTable))return;const i=e.getTileIndex(t);return e._tileAvailability.getBit(i)?e._tileJumpBuffer[i]:void 0}function R(e,t,i){const n=e._contentMetadataTables;if(!Object(r["a"])(n))return;const s=n[i];if(!Object(r["a"])(s))return;const o=e._contentAvailabilityBitstreams[i],a=e.getTileIndex(t);if(o.getBit(a)){const t=e._contentJumpBuffers[i];return t[a]}}Object.defineProperties(p.prototype,{readyPromise:{get:function(){return this._readyPromise.promise}},metadata:{get:function(){return this._metadata}},tileMetadataTable:{get:function(){return this._tileMetadataTable}},tilePropertyTableJson:{get:function(){return this._tilePropertyTableJson}},contentMetadataTables:{get:function(){return this._contentMetadataTables}},contentPropertyTableJsons:{get:function(){return this._contentPropertyTableJsons}},implicitCoordinates:{get:function(){return this._implicitCoordinates}}}),p.prototype.tileIsAvailableAtIndex=function(e){return this._tileAvailability.getBit(e)},p.prototype.tileIsAvailableAtCoordinates=function(e){const t=this.getTileIndex(e);return this.tileIsAvailableAtIndex(t)},p.prototype.contentIsAvailableAtIndex=function(e,t){return t=Object(n["a"])(t,0),this._contentAvailabilityBitstreams[t].getBit(e)},p.prototype.contentIsAvailableAtCoordinates=function(e,t){const i=this.getTileIndex(e);return this.contentIsAvailableAtIndex(i,t)},p.prototype.childSubtreeIsAvailableAtIndex=function(e){return this._childSubtreeAvailability.getBit(e)},p.prototype.childSubtreeIsAvailableAtCoordinates=function(e){const t=this.getChildSubtreeIndex(e);return this.childSubtreeIsAvailableAtIndex(t)},p.prototype.getLevelOffset=function(e){const t=this._branchingFactor;return(Math.pow(t,e)-1)/(t-1)},p.prototype.getParentMortonIndex=function(e){let t=2;return this._subdivisionScheme===d["a"].OCTREE&&(t=3),e>>t},p.prototype.getTileIndex=function(e){const t=e.level-this._implicitCoordinates.level;if(t<0||this._subtreeLevels<=t)throw new c["a"]("level is out of bounds for this subtree");const i=e.getSubtreeCoordinates(),n=i.getOffsetCoordinates(e),s=n.tileIndex;return s},p.prototype.getChildSubtreeIndex=function(e){const t=e.level-this._implicitCoordinates.level;if(t!==this._implicitCoordinates.subtreeLevels)throw new c["a"]("level is out of bounds for this subtree");const i=e.getParentSubtreeCoordinates(),n=i.getOffsetCoordinates(e),s=n.mortonIndex;return s},p.prototype.getTileMetadataView=function(e){const t=F(this,e);if(!Object(r["a"])(t))return;const i=this._tileMetadataTable;return new h["a"]({class:i.class,metadataTable:i,entityId:t,propertyTableJson:this._tilePropertyTableJson})},p.prototype.getContentMetadataView=function(e,t){const i=R(this,e,t);if(!Object(r["a"])(i))return;const n=this._contentMetadataTables[t],s=this._contentPropertyTableJsons[t];return new h["a"]({class:n.class,metadataTable:n,entityId:i,contentIndex:t,propertyTableJson:s})},p.prototype.isDestroyed=function(){return!1},p.prototype.destroy=function(){return Object(r["a"])(this._bufferLoader)&&m["a"].unload(this._bufferLoader),Object(o["a"])(this)}},d57b:function(e,t,i){"use strict";var n=i("bd8d"),s=i("2f63"),r=i("7d62"),o=i("e42d"),a=i("f845"),c=i("f630"),l=i("6ef5"),u=i("8a65"),h=i("3550"),d=i("6dc0"),f=i("5770"),b=i("a913"),m=i("3720"),p=i("b7c8"),_=i("3626"),g=i("6102"),y=i("25ef");function v(){this._numSamples=1,this.previousFramebuffer=void 0,this._previousFramebuffer=void 0,this._depthStencilTexture=void 0,this._depthStencilRenderbuffer=void 0,this._fbo=new c["a"]({depthStencil:!0,createDepthAttachments:!1}),this._fboClassified=new c["a"]({depthStencil:!0,createDepthAttachments:!1}),this._rsUnclassified=void 0,this._rsClassified=void 0,this._unclassifiedCommand=void 0,this._classifiedCommand=void 0,this._translucentCommand=void 0,this._clearColorCommand=new a["a"]({color:new n["a"](0,0,0,0),owner:this}),this._clearCommand=new a["a"]({color:new n["a"](0,0,0,0),depth:1,stencil:0});const e=this;this._uniformMap={colorTexture:function(){return e._fbo.getColorTexture()},depthTexture:function(){return e._depthStencilTexture},classifiedTexture:function(){return e._fboClassified.getColorTexture()}}}Object.defineProperties(v.prototype,{unclassifiedCommand:{get:function(){return this._unclassifiedCommand}}}),v.isTranslucencySupported=function(e){return e.depthTexture&&e.fragmentDepth};const T={depthMask:!1,stencilTest:{enabled:!0,frontFunction:g["a"].EQUAL,frontOperation:{fail:y["a"].KEEP,zFail:y["a"].KEEP,zPass:y["a"].KEEP},backFunction:g["a"].NEVER,reference:0,mask:_["a"].CLASSIFICATION_MASK},blending:p["a"].ALPHA_BLEND},O={depthMask:!1,stencilTest:{enabled:!0,frontFunction:g["a"].NOT_EQUAL,frontOperation:{fail:y["a"].KEEP,zFail:y["a"].KEEP,zPass:y["a"].KEEP},backFunction:g["a"].NEVER,reference:0,mask:_["a"].CLASSIFICATION_MASK},blending:p["a"].ALPHA_BLEND},C={depthMask:!0,depthTest:{enabled:!0},stencilTest:_["a"].setCesium3DTileBit(),stencilMask:_["a"].CESIUM_3D_TILE_MASK,blending:p["a"].ALPHA_BLEND},S="#extension GL_EXT_frag_depth : enable\nuniform sampler2D colorTexture;\nuniform sampler2D depthTexture;\nuniform sampler2D classifiedTexture;\nvarying vec2 v_textureCoordinates;\nvoid main()\n{\n    vec4 color = texture2D(colorTexture, v_textureCoordinates);\n    if (color.a == 0.0)\n    {\n        discard;\n    }\n    bool isClassified = all(equal(texture2D(classifiedTexture, v_textureCoordinates), vec4(0.0)));\n#ifdef UNCLASSIFIED\n    vec4 highlightColor = czm_invertClassificationColor;\n    if (isClassified)\n    {\n        discard;\n    }\n#else\n    vec4 highlightColor = vec4(1.0);\n    if (!isClassified)\n    {\n        discard;\n    }\n#endif\n    gl_FragColor = color * highlightColor;\n    gl_FragDepthEXT = texture2D(depthTexture, v_textureCoordinates).r;\n}\n",E="uniform sampler2D colorTexture;\nvarying vec2 v_textureCoordinates;\nvoid main()\n{\n    vec4 color = texture2D(colorTexture, v_textureCoordinates);\n    if (color.a == 0.0)\n    {\n        discard;\n    }\n#ifdef UNCLASSIFIED\n    gl_FragColor = color * czm_invertClassificationColor;\n#else\n    gl_FragColor = color;\n#endif\n}\n";v.prototype.update=function(e,t,i){const n=this._fbo.getColorTexture(),r=this.previousFramebuffer!==this._previousFramebuffer;this._previousFramebuffer=this.previousFramebuffer;const a=this._numSamples!==t,c=e.drawingBufferWidth,p=e.drawingBufferHeight,_=!Object(s["a"])(n)||n.width!==c||n.height!==p;if((_||r||a)&&(this._numSamples=t,this._depthStencilTexture=this._depthStencilTexture&&this._depthStencilTexture.destroy(),this._depthStencilRenderbuffer=this._depthStencilRenderbuffer&&this._depthStencilRenderbuffer.destroy(),Object(s["a"])(this._previousFramebuffer)||(this._depthStencilTexture=new b["a"]({context:e,width:c,height:p,pixelFormat:o["a"].DEPTH_STENCIL,pixelDatatype:l["a"].UNSIGNED_INT_24_8}),t>1&&(this._depthStencilRenderbuffer=new u["a"]({context:e,width:c,height:p,format:h["a"].DEPTH24_STENCIL8,numSamples:t})))),!Object(s["a"])(this._fbo.framebuffer)||_||r||a){let n,r;this._fbo.destroy(),this._fboClassified.destroy(),Object(s["a"])(this._previousFramebuffer)?(n=i.getDepthStencilTexture(),r=i.getDepthStencilRenderbuffer()):(n=this._depthStencilTexture,r=this._depthStencilRenderbuffer),this._fbo.setDepthStencilTexture(n),Object(s["a"])(r)&&this._fbo.setDepthStencilRenderbuffer(r),this._fbo.update(e,c,p,t),Object(s["a"])(this._previousFramebuffer)||(this._fboClassified.setDepthStencilTexture(n),this._fboClassified.update(e,c,p))}if(Object(s["a"])(this._rsUnclassified)||(this._rsUnclassified=d["a"].fromCache(T),this._rsClassified=d["a"].fromCache(O),this._rsDefault=d["a"].fromCache(C)),!Object(s["a"])(this._unclassifiedCommand)||r||a){Object(s["a"])(this._unclassifiedCommand)&&(this._unclassifiedCommand.shaderProgram=this._unclassifiedCommand.shaderProgram&&this._unclassifiedCommand.shaderProgram.destroy(),this._classifiedCommand.shaderProgram=this._classifiedCommand.shaderProgram&&this._classifiedCommand.shaderProgram.destroy());const t=Object(s["a"])(this._previousFramebuffer)?E:S,i=new f["a"]({defines:["UNCLASSIFIED"],sources:[t]}),n=new f["a"]({sources:[t]});this._unclassifiedCommand=e.createViewportQuadCommand(i,{renderState:Object(s["a"])(this._previousFramebuffer)?this._rsUnclassified:this._rsDefault,uniformMap:this._uniformMap,owner:this}),this._classifiedCommand=e.createViewportQuadCommand(n,{renderState:Object(s["a"])(this._previousFramebuffer)?this._rsClassified:this._rsDefault,uniformMap:this._uniformMap,owner:this}),Object(s["a"])(this._translucentCommand)&&(this._translucentCommand.shaderProgram=this._translucentCommand.shaderProgram&&this._translucentCommand.shaderProgram.destroy()),Object(s["a"])(this._previousFramebuffer)||(this._translucentCommand=e.createViewportQuadCommand(m["a"],{renderState:this._rsUnclassified,uniformMap:this._uniformMap,owner:this}))}},v.prototype.prepareTextures=function(e,t){this._fbo._numSamples>1&&this._fbo.prepareTextures(e,t)},v.prototype.clear=function(e,t){Object(s["a"])(this._previousFramebuffer)?this._fbo.clear(e,this._clearColorCommand,t):(this._fbo.clear(e,this._clearCommand,t),this._fboClassified.clear(e,this._clearCommand,t))},v.prototype.executeClassified=function(e,t){if(!Object(s["a"])(this._previousFramebuffer)){const i=t.framebuffer;this.prepareTextures(e,!0),t.framebuffer=this._fboClassified.framebuffer,this._translucentCommand.execute(e,t),t.framebuffer=i}this._classifiedCommand.execute(e,t)},v.prototype.executeUnclassified=function(e,t){this._unclassifiedCommand.execute(e,t)},v.prototype.isDestroyed=function(){return!1},v.prototype.destroy=function(){return this._fbo.destroy(),this._fboClassified.destroy(),this._depthStencilTexture=this._depthStencilTexture&&this._depthStencilTexture.destroy(),this._depthStencilRenderbuffer=this._depthStencilRenderbuffer&&this._depthStencilRenderbuffer.destroy(),Object(s["a"])(this._unclassifiedCommand)&&(this._unclassifiedCommand.shaderProgram=this._unclassifiedCommand.shaderProgram&&this._unclassifiedCommand.shaderProgram.destroy(),this._classifiedCommand.shaderProgram=this._classifiedCommand.shaderProgram&&this._classifiedCommand.shaderProgram.destroy()),Object(r["a"])(this)},t["a"]=v},d88e:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("2f63"),s=i("535a"),r=i("283e");function o(e){const t=e.lengthBits;let i=e.availableCount;const o=e.constant,c=e.bitstream;if(Object(n["a"])(o))i=t;else{const o=Math.ceil(t/8);if(c.length!==o)throw new r["a"](`Availability bitstream must be exactly ${o} bytes long to store ${t} bits. Actual bitstream was ${c.length} bytes long.`);const l=Object(s["a"])(e.computeAvailableCountEnabled,!1);!Object(n["a"])(i)&&l&&(i=a(c,t))}this._lengthBits=t,this._availableCount=i,this._constant=o,this._bitstream=c}function a(e,t){let i=0;for(let n=0;n<t;n++){const t=n>>3,s=n%8;i+=e[t]>>s&1}return i}Object.defineProperties(o.prototype,{lengthBits:{get:function(){return this._lengthBits}},availableCount:{get:function(){return this._availableCount}}}),o.prototype.getBit=function(e){if(Object(n["a"])(this._constant))return this._constant;const t=e>>3,i=e%8;return 1===(this._bitstream[t]>>i&1)}},edfc:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("dc1c"),s=i("2f63"),r=i("d4ed"),o=i("283e"),a=i("55d8"),c=i("5157");function l(e,t,i){const l=Object(a["a"])(t,"3DTILES_implicit_tiling")?t.extensions["3DTILES_implicit_tiling"]:t.implicitTiling;this.baseResource=e,this.geometricError=t.geometricError,this.metadataSchema=i;const d=t.boundingVolume;if(!Object(s["a"])(d.box)&&!Object(s["a"])(d.region)&&!Object(a["a"])(d,"3DTILES_bounding_volume_S2"))throw new o["a"]("Only box, region and 3DTILES_bounding_volume_S2 are supported for implicit tiling");this.boundingVolume=d,this.refine=t.refine,this.subtreeUriTemplate=new r["a"]({url:l.subtrees.uri}),this.contentUriTemplates=[],this.contentHeaders=[];const f=u(t);for(let s=0;s<f.length;s++){const e=f[s];this.contentHeaders.push(Object(n["a"])(e,!0));const t=new r["a"]({url:e.uri});this.contentUriTemplates.push(t)}this.contentCount=this.contentHeaders.length,this.tileHeader=h(t),this.subdivisionScheme=c["a"][l.subdivisionScheme],this.branchingFactor=c["a"].getBranchingFactor(this.subdivisionScheme),this.subtreeLevels=l.subtreeLevels,Object(s["a"])(l.availableLevels)?this.availableLevels=l.availableLevels:this.availableLevels=l.maximumLevel+1}function u(e){if(Object(a["a"])(e,"3DTILES_multiple_contents")){const t=e.extensions["3DTILES_multiple_contents"];return Object(s["a"])(t.contents)?t.contents:t.content}return Object(s["a"])(e.contents)?e.contents:Object(s["a"])(e.content)?[e.content]:[]}function h(e){const t=Object(n["a"])(e,!0);return Object(s["a"])(t.extensions)&&(delete t.extensions["3DTILES_implicit_tiling"],delete t.extensions["3DTILES_multiple_contents"],0===Object.keys(t.extensions).length&&delete t.extensions),delete t.implicitTiling,delete t.contents,delete t.content,t}}}]);