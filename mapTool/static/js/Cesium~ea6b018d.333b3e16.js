(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Cesium~ea6b018d"],{"14d4":function(e,t,a){"use strict";var i=a("be18"),n=a("93da"),r=a("535a"),o=a("2f63"),s=a("52f0"),c=a("713f"),u=a("ef54"),d=a("9110"),f=a("c4a1"),T=a("a307"),_=a("a141"),l=a("d887"),E=a("60e0");const m={name:"PointCloudAttenuationPipelineStage"},I=new i["a"];m.process=function(e,t,a){const i=e.shaderBuilder;i.addVertexLines([d["a"]]),i.addDefine("USE_POINT_CLOUD_ATTENUATION",void 0,u["a"].VERTEX);const n=e.model,o=n.pointCloudShading;let s,_,E;l["a"].is3DTiles(n.type)&&(_=!0,s=n.content,E=s.tile.refine===f["a"].ADD),i.addUniform("vec3","model_pointCloudAttenuation",u["a"].VERTEX),e.uniformMap.model_pointCloudAttenuation=function(){const i=I;let n=1;_&&(n=E?5:s.tileset.maximumScreenSpaceError),i.x=Object(r["a"])(o.maximumAttenuation,n),i.x*=a.pixelRatio;const u=N(e,t,o,s);i.y=u*o.geometricErrorScale;const d=a.context,f=a.camera.frustum;let l;return l=a.mode===T["a"].SCENE2D||f instanceof c["a"]?Number.POSITIVE_INFINITY:d.drawingBufferHeight/a.camera.frustum.sseDenominator,i.z=l,i}};const p=new i["a"];function N(e,t,a,r){if(Object(o["a"])(r)){const e=r.tile.geometricError;if(e>0)return e}if(Object(o["a"])(a.baseResolution))return a.baseResolution;const c=E["a"].getAttributeBySemantic(t,_["a"].POSITION),u=c.count,d=e.runtimeNode.transform;let f=i["a"].subtract(c.max,c.min,p);f=s["a"].multiplyByPointAsVector(d,f,p);const T=f.x*f.y*f.z,l=n["a"].cbrt(T/u);return l}t["a"]=m},"60ca":function(e,t,a){"use strict";const i={FLOAT:"float",VEC2:"vec2",VEC3:"vec3",VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",MAT2:"mat2",MAT3:"mat2",MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"};t["a"]=Object.freeze(i)},"794a":function(e,t,a){"use strict";var i=a("2bb9"),n=a("ef54"),r=a("b8b3"),o=a("a141");const s={};function c(e){let t=-1;const a=e.attributes,i=a.length;for(let n=0;n<i;n++){const e=a[n],i=e.semantic===o["a"].JOINTS||e.semantic===o["a"].WEIGHTS;i&&(t=Math.max(t,e.setIndex))}return t}function u(e,t){e.addFunction(s.FUNCTION_ID_GET_SKINNING_MATRIX,s.FUNCTION_SIGNATURE_GET_SKINNING_MATRIX,n["a"].VERTEX);const a="mat4 skinnedMatrix = mat4(0);";let i,r;e.addFunctionLines(s.FUNCTION_ID_GET_SKINNING_MATRIX,[a]);const o=["x","y","z","w"],u=c(t);for(i=0;i<=u;i++)for(r=0;r<=3;r++){const t=o[r],a=`skinnedMatrix += a_weights_${i}.${t} * u_jointMatrices[int(a_joints_${i}.${t})];`;e.addFunctionLines(s.FUNCTION_ID_GET_SKINNING_MATRIX,[a])}const d="return skinnedMatrix;";e.addFunctionLines(s.FUNCTION_ID_GET_SKINNING_MATRIX,[d])}s.name="SkinningPipelineStage",s.FUNCTION_ID_GET_SKINNING_MATRIX="getSkinningMatrix",s.FUNCTION_SIGNATURE_GET_SKINNING_MATRIX="mat4 getSkinningMatrix()",s.process=function(e,t){const a=e.shaderBuilder;a.addDefine("HAS_SKINNING",void 0,n["a"].VERTEX),u(a,t);const o=e.runtimeNode,s=o.computedJointMatrices;a.addUniform("mat4",`u_jointMatrices[${s.length}]`,n["a"].VERTEX),a.addVertexLines([r["a"]]);const c={u_jointMatrices:function(){return o.computedJointMatrices}};e.uniformMap=Object(i["a"])(c,e.uniformMap)},t["a"]=s},9693:function(e,t,a){"use strict";const i={ALL_OPAQUE:0,ALL_TRANSLUCENT:1,OPAQUE_AND_TRANSLUCENT:2,getStyleCommandsNeeded:function(e,t){return 0===t?i.ALL_OPAQUE:t===e?i.ALL_TRANSLUCENT:i.OPAQUE_AND_TRANSLUCENT}};t["a"]=Object.freeze(i)},a5d4:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var i=a("2f63"),n=a("7d62"),r=a("a913");function o(){this._defaultTexture=void 0,this._textures={},this._loadedImages=[],this._lastUpdatedFrame=-1}function s(e,t,a){a.resource.fetchImage().then((function(i){e._loadedImages.push({id:t,image:i,textureUniform:a})})).catch((function(){const a=e._textures[t];Object(i["a"])(a)&&a!==e._defaultTexture&&a.destroy(),e._textures[t]=e._defaultTexture}))}function c(e,t,a){const n=t.id,o=t.textureUniform,s=o.typedArray,c=o.sampler;let u;u=Object(i["a"])(s)?new r["a"]({context:a,pixelFormat:o.pixelFormat,pixelDatatype:o.pixelDatatype,source:{arrayBufferView:s,width:o.width,height:o.height},sampler:c,flipY:!1}):new r["a"]({context:a,source:t.image,sampler:c});const d=e._textures[n];Object(i["a"])(d)&&d!==a.defaultTexture&&d.destroy(),e._textures[n]=u}o.prototype.getTexture=function(e){return this._textures[e]},o.prototype.loadTexture2D=function(e,t){Object(i["a"])(t.typedArray)?this._loadedImages.push({id:e,textureUniform:t}):s(this,e,t)},o.prototype.update=function(e){if(e.frameNumber===this._lastUpdatedFrame)return;this._lastUpdatedFrame=e.frameNumber;const t=e.context;this._defaultTexture=t.defaultTexture;const a=this._loadedImages;for(let i=0;i<a.length;i++){const e=a[i];c(this,e,t)}a.length=0},o.prototype.isDestroyed=function(){return!1},o.prototype.destroy=function(){const e=this._textures;for(const t in e)if(e.hasOwnProperty(t)){const a=e[t];a!==this._defaultTexture&&a.destroy()}return Object(n["a"])(this)}},ae91:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var i=a("dc1c"),n=a("2bb9"),r=a("2f63"),o=a("52f0"),s=a("b7c8"),c=a("06f0"),u=a("60e0"),d=a("ed6f");function f(e,t){this.model=e.model,this.runtimeNode=e.runtimeNode,this.attributes=e.attributes.slice(),this.attributeIndex=e.attributeIndex,this.featureIdVertexAttributeSetIndex=e.featureIdVertexAttributeSetIndex,this.hasPropertyTable=!1,this.uniformMap=Object(i["a"])(e.uniformMap),this.alphaOptions=Object(i["a"])(e.alphaOptions),this.shaderBuilder=e.shaderBuilder.clone(),this.instanceCount=e.instanceCount,this.runtimePrimitive=t;const a=t.primitive;this.count=Object(r["a"])(a.indices)?a.indices.count:u["a"].getAttributeBySemantic(a,"POSITION").count,this.indices=a.indices,this.primitiveType=a.primitiveType,this.boundingSphere=u["a"].createBoundingSphere(a,o["a"].IDENTITY,e.instancingTranslationMax,e.instancingTranslationMin),this.lightingOptions=new d["a"],this.pickId=void 0,this.renderStateOptions=Object(n["a"])(e.renderStateOptions,{depthTest:{enabled:!0,func:c["a"].LESS_OR_EQUAL},blending:s["a"].DISABLED}),this.styleCommandsNeeded=void 0}},c5d7:function(e,t,a){"use strict";const i={FLOAT:"float",VEC2:"vec2",VEC3:"vec3",VEC4:"vec4",MAT2:"mat2",MAT3:"mat2",MAT4:"mat4"};t["a"]=Object.freeze(i)},dec0:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var i=a("535a"),n=a("d4ed"),r=a("e42d"),o=a("6ef5"),s=a("6c84"),c=a("23b6");function u(e){e=Object(i["a"])(e,i["a"].EMPTY_OBJECT),this.typedArray=e.typedArray,this.width=e.width,this.height=e.height,this.pixelFormat=Object(i["a"])(e.pixelFormat,r["a"].RGBA),this.pixelDatatype=Object(i["a"])(e.pixelDatatype,o["a"].UNSIGNED_BYTE);let t=e.url;"string"===typeof t&&(t=n["a"].createIfNeeded(t)),this.resource=t;const a=Object(i["a"])(e.repeat,!0),u=a?c["a"].REPEAT:c["a"].CLAMP_TO_EDGE;this.sampler=new s["a"]({wrapS:u,wrapT:u,minificationFilter:e.minificationFilter,magnificationFilter:e.magnificationFilter,maximumAnisotropy:e.maximumAnisotropy})}},f23e:function(e,t,a){"use strict";var i=a("535a"),n=a("2f63"),r=a("ef54"),o=a("fcb6"),s=a("8bde"),c=a("60e0");const u={};function d(e){return e instanceof s["a"].FeatureIdTexture?"HAS_SELECTED_FEATURE_ID_TEXTURE":"HAS_SELECTED_FEATURE_ID_ATTRIBUTE"}function f(e){return e instanceof s["a"].FeatureIdTexture?r["a"].FRAGMENT:r["a"].BOTH}function T(e,t,a){let r,o;return Object(n["a"])(t.instances)&&(o=c["a"].getFeatureIdsByLabel(t.instances.featureIds,e.instanceFeatureIdLabel),Object(n["a"])(o))?(r=Object(i["a"])(o.label,o.positionalLabel),{featureIds:o,variableName:r,shaderDestination:f(o),featureIdDefine:d(o)}):(o=c["a"].getFeatureIdsByLabel(a.featureIds,e.featureIdLabel),r=Object(i["a"])(o.label,o.positionalLabel),{featureIds:o,variableName:r,shaderDestination:f(o),featureIdDefine:d(o)})}function _(e){e.addStructField(u.STRUCT_ID_SELECTED_FEATURE,"int","id"),e.addStructField(u.STRUCT_ID_SELECTED_FEATURE,"vec2","st"),e.addStructField(u.STRUCT_ID_SELECTED_FEATURE,"vec4","color")}u.name="SelectedFeatureIdPipelineStage",u.STRUCT_ID_SELECTED_FEATURE="SelectedFeature",u.STRUCT_NAME_SELECTED_FEATURE="SelectedFeature",u.FUNCTION_ID_FEATURE_VARYINGS_VS="updateFeatureStructVS",u.FUNCTION_ID_FEATURE_VARYINGS_FS="updateFeatureStructFS",u.FUNCTION_SIGNATURE_UPDATE_FEATURE="void updateFeatureStruct(inout SelectedFeature feature)",u.process=function(e,t,a){const i=e.shaderBuilder;e.hasPropertyTable=!0;const s=e.model,c=e.runtimeNode.node,u=T(s,c,t),d=u.shaderDestination;i.addDefine("HAS_SELECTED_FEATURE_ID",void 0,d),i.addDefine("SELECTED_FEATURE_ID",u.variableName,d),i.addDefine(u.featureIdDefine,void 0,d),_(i);const f=u.featureIds.nullFeatureId,l=e.uniformMap;Object(n["a"])(f)&&(i.addDefine("HAS_NULL_FEATURE_ID",void 0,d),i.addUniform("int","model_nullFeatureId",d),l.model_nullFeatureId=function(){return f}),u.shaderDestination===r["a"].BOTH&&i.addVertexLines([o["a"]]),i.addFragmentLines([o["a"]])},t["a"]=u}}]);